webpackJsonp([0],Array(87).concat([function(t,e,i){function n(t){i(394),i(395)}var r=i(31)(i(247),i(365),n,null,null);t.exports=r.exports},,,function(t,e,i){t.exports={default:i(133),__esModule:!0}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(132),o=n(r),l=i(131),a=n(l),s="function"==typeof a.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};e.default="function"==typeof a.default&&"symbol"===s(o.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":void 0===t?"undefined":s(t)}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(142),r=i(107);t.exports=function(t){return n(r(t))}},function(t,e,i){t.exports=!i(102)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(101),r=i(122),o=i(116),l=Object.defineProperty;e.f=i(95)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return l(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(96),r=i(105);t.exports=i(95)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(114)("wks"),r=i(106),o=i(91).Symbol,l="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=l&&o[t]||(l?o:r)("Symbol."+t))}).store=n},function(t,e,i){!function(e,i){t.exports=i()}(0,function(){"use strict";function t(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function e(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function i(t,i){return e(t).appendChild(i)}function n(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function r(t,e,i,r){var o=n(t,e,i,r);return o.setAttribute("role","presentation"),o}function o(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function l(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function a(e,i){var n=e.className;t(i).test(n)||(e.className+=(n?" ":"")+i)}function s(e,i){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!t(n[r]).test(i)&&(i+=" "+n[r]);return i}function u(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function c(t,e,i){e||(e={});for(var n in t)!t.hasOwnProperty(n)||!1===i&&e.hasOwnProperty(n)||(e[n]=t[n]);return e}function f(t,e,i,n,r){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=n||0,l=r||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return l+(e-o);l+=a-o,l+=i-l%i,o=a+1}}function d(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}function h(t,e,i){for(var n=0,r=0;;){var o=t.indexOf("\t",n);-1==o&&(o=t.length);var l=o-n;if(o==t.length||r+l>=e)return n+Math.min(l,e-r);if(r+=o-n,r+=i-r%i,n=o+1,r>=e)return n}}function p(t){for(;zl.length<=t;)zl.push(m(zl)+" ");return zl[t]}function m(t){return t[t.length-1]}function g(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function v(t,e,i){for(var n=0,r=i(e);n<t.length&&i(t[n])<=r;)n++;t.splice(n,0,e)}function b(){}function y(t,e){var i;return Object.create?i=Object.create(t):(b.prototype=t,i=new b),e&&c(e,i),i}function x(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Bl.test(t))}function w(t,e){return e?!!(e.source.indexOf("\\w")>-1&&x(t))||e.test(t):x(t)}function k(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function _(t){return t.charCodeAt(0)>=768&&Hl.test(t)}function q(t,e,i){for(;(i<0?e>0:e<t.length)&&_(t.charAt(e));)e+=i;return e}function C(t,e,i){for(;;){if(Math.abs(e-i)<=1)return t(e)?e:i;var n=Math.floor((e+i)/2);t(n)?i=n:e=n}}function A(t,e,i){var o=this;this.input=i,o.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=r("div",null,"CodeMirror-code"),o.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=n("div",null,"CodeMirror-cursors"),o.measure=n("div",null,"CodeMirror-measure"),o.lineMeasure=n("div",null,"CodeMirror-measure"),o.lineSpace=r("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=r("div",[o.lineSpace],"CodeMirror-lines");o.mover=n("div",[l],null,"position: relative"),o.sizer=n("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=n("div",null,null,"position: absolute; height: "+Nl+"px; width: 1px;"),o.gutters=n("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=n("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=n("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),fl&&dl<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),hl||al&&kl||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,i.init(o)}function S(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var r=i.children[n],o=r.chunkSize();if(e<o){i=r;break}e-=o}return i.lines[e]}function O(t,e,i){var n=[],r=e.line;return t.iter(e.line,i.line+1,function(t){var o=t.text;r==i.line&&(o=o.slice(0,i.ch)),r==e.line&&(o=o.slice(e.ch)),n.push(o),++r}),n}function T(t,e,i){var n=[];return t.iter(e,i,function(t){n.push(t.text)}),n}function E(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function M(t){if(null==t.parent)return null;for(var e=t.parent,i=d(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var r=0;n.children[r]!=e;++r)i+=n.children[r].chunkSize();return i+e.first}function L(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var r=t.children[n],o=r.height;if(e<o){t=r;continue t}e-=o,i+=r.chunkSize()}return i}while(!t.lines);for(var l=0;l<t.lines.length;++l){var a=t.lines[l],s=a.height;if(e<s)break;e-=s}return i+l}function D(t,e){return e>=t.first&&e<t.first+t.size}function P(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function N(t,e,i){if(void 0===i&&(i=null),!(this instanceof N))return new N(t,e,i);this.line=t,this.ch=e,this.sticky=i}function I(t,e){return t.line-e.line||t.ch-e.ch}function j(t,e){return t.sticky==e.sticky&&0==I(t,e)}function F(t){return N(t.line,t.ch)}function R(t,e){return I(t,e)<0?e:t}function z(t,e){return I(t,e)<0?t:e}function B(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function H(t,e){if(e.line<t.first)return N(t.first,0);var i=t.first+t.size-1;return e.line>i?N(i,S(t,i).text.length):W(e,S(t,e.line).text.length)}function W(t,e){var i=t.ch;return null==i||i>e?N(t.line,e):i<0?N(t.line,0):t}function U(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=H(t,e[n]);return i}function $(){Wl=!0}function V(){Ul=!0}function Y(t,e,i){this.marker=t,this.from=e,this.to=i}function K(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function Z(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function X(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function J(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var o=t[r],l=o.marker,a=null==o.from||(l.inclusiveLeft?o.from<=e:o.from<e);if(a||o.from==e&&"bookmark"==l.type&&(!i||!o.marker.insertLeft)){var s=null==o.to||(l.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push(new Y(l,o.from,s?null:o.to))}}return n}function G(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var o=t[r],l=o.marker,a=null==o.to||(l.inclusiveRight?o.to>=e:o.to>e);if(a||o.from==e&&"bookmark"==l.type&&(!i||o.marker.insertLeft)){var s=null==o.from||(l.inclusiveLeft?o.from<=e:o.from<e);(n||(n=[])).push(new Y(l,s?null:o.from-e,null==o.to?null:o.to-e))}}return n}function Q(t,e){if(e.full)return null;var i=D(t,e.from.line)&&S(t,e.from.line).markedSpans,n=D(t,e.to.line)&&S(t,e.to.line).markedSpans;if(!i&&!n)return null;var r=e.from.ch,o=e.to.ch,l=0==I(e.from,e.to),a=J(i,r,l),s=G(n,o,l),u=1==e.text.length,c=m(e.text).length+(u?r:0);if(a)for(var f=0;f<a.length;++f){var d=a[f];if(null==d.to){var h=K(s,d.marker);h?u&&(d.to=null==h.to?null:h.to+c):d.to=r}}if(s)for(var p=0;p<s.length;++p){var g=s[p];if(null!=g.to&&(g.to+=c),null==g.from){var v=K(a,g.marker);v||(g.from=c,u&&(a||(a=[])).push(g))}else g.from+=c,u&&(a||(a=[])).push(g)}a&&(a=tt(a)),s&&s!=a&&(s=tt(s));var b=[a];if(!u){var y,x=e.text.length-2;if(x>0&&a)for(var w=0;w<a.length;++w)null==a[w].to&&(y||(y=[])).push(new Y(a[w].marker,null,null));for(var k=0;k<x;++k)b.push(y);b.push(s)}return b}function tt(t){for(var e=0;e<t.length;++e){var i=t[e];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function et(t,e,i){var n=null;if(t.iter(e.line,i.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var i=t.markedSpans[e].marker;!i.readOnly||n&&-1!=d(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:e,to:i}],o=0;o<n.length;++o)for(var l=n[o],a=l.find(0),s=0;s<r.length;++s){var u=r[s];if(!(I(u.to,a.from)<0||I(u.from,a.to)>0)){var c=[s,1],f=I(u.from,a.from),h=I(u.to,a.to);(f<0||!l.inclusiveLeft&&!f)&&c.push({from:u.from,to:a.from}),(h>0||!l.inclusiveRight&&!h)&&c.push({from:a.to,to:u.to}),r.splice.apply(r,c),s+=c.length-3}}return r}function it(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function nt(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function rt(t){return t.inclusiveLeft?-1:0}function ot(t){return t.inclusiveRight?1:0}function lt(t,e){var i=t.lines.length-e.lines.length;if(0!=i)return i;var n=t.find(),r=e.find(),o=I(n.from,r.from)||rt(t)-rt(e);if(o)return-o;var l=I(n.to,r.to)||ot(t)-ot(e);return l||e.id-t.id}function at(t,e){var i,n=Ul&&t.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)r=n[o],r.marker.collapsed&&null==(e?r.from:r.to)&&(!i||lt(i,r.marker)<0)&&(i=r.marker);return i}function st(t){return at(t,!0)}function ut(t){return at(t,!1)}function ct(t,e,i,n,r){var o=S(t,e),l=Ul&&o.markedSpans;if(l)for(var a=0;a<l.length;++a){var s=l[a];if(s.marker.collapsed){var u=s.marker.find(0),c=I(u.from,i)||rt(s.marker)-rt(r),f=I(u.to,n)||ot(s.marker)-ot(r);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(s.marker.inclusiveRight&&r.inclusiveLeft?I(u.to,i)>=0:I(u.to,i)>0)||c>=0&&(s.marker.inclusiveRight&&r.inclusiveLeft?I(u.from,n)<=0:I(u.from,n)<0)))return!0}}}function ft(t){for(var e;e=st(t);)t=e.find(-1,!0).line;return t}function dt(t){for(var e;e=ut(t);)t=e.find(1,!0).line;return t}function ht(t){for(var e,i;e=ut(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function pt(t,e){var i=S(t,e),n=ft(i);return i==n?e:M(n)}function mt(t,e){if(e>t.lastLine())return e;var i,n=S(t,e);if(!gt(t,n))return e;for(;i=ut(n);)n=i.find(1,!0).line;return M(n)+1}function gt(t,e){var i=Ul&&e.markedSpans;if(i)for(var n=void 0,r=0;r<i.length;++r)if(n=i[r],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&vt(t,e,n))return!0}}function vt(t,e,i){if(null==i.to){var n=i.marker.find(1,!0);return vt(t,n.line,K(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var r=void 0,o=0;o<e.markedSpans.length;++o)if(r=e.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&vt(t,e,r))return!0}function bt(t){t=ft(t);for(var e=0,i=t.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==t)break;e+=r.height}for(var o=i.parent;o;i=o,o=i.parent)for(var l=0;l<o.children.length;++l){var a=o.children[l];if(a==i)break;e+=a.height}return e}function yt(t){if(0==t.height)return 0;for(var e,i=t.text.length,n=t;e=st(n);){var r=e.find(0,!0);n=r.from.line,i+=r.from.ch-r.to.ch}for(n=t;e=ut(n);){var o=e.find(0,!0);i-=n.text.length-o.from.ch,n=o.to.line,i+=n.text.length-o.to.ch}return i}function xt(t){var e=t.display,i=t.doc;e.maxLine=S(i,i.first),e.maxLineLength=yt(e.maxLine),e.maxLineChanged=!0,i.iter(function(t){var i=yt(t);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=t)})}function wt(t,e,i,n){if(!t)return n(e,i,"ltr");for(var r=!1,o=0;o<t.length;++o){var l=t[o];(l.from<i&&l.to>e||e==i&&l.to==e)&&(n(Math.max(l.from,e),Math.min(l.to,i),1==l.level?"rtl":"ltr"),r=!0)}r||n(e,i,"ltr")}function kt(t,e,i){var n;$l=null;for(var r=0;r<t.length;++r){var o=t[r];if(o.from<e&&o.to>e)return r;o.to==e&&(o.from!=o.to&&"before"==i?n=r:$l=r),o.from==e&&(o.from!=o.to&&"before"!=i?n=r:$l=r)}return null!=n?n:$l}function _t(t,e){var i=t.order;return null==i&&(i=t.order=Vl(t.text,e)),i}function qt(t,e,i){var n=q(t.text,e+i,i);return n<0||n>t.text.length?null:n}function Ct(t,e,i){var n=qt(t,e.ch,i);return null==n?null:new N(e.line,n,i<0?"after":"before")}function At(t,e,i,n,r){if(t){var o=_t(i,e.doc.direction);if(o){var l,a=r<0?m(o):o[0],s=r<0==(1==a.level),u=s?"after":"before";if(a.level>0){var c=Je(e,i);l=r<0?i.text.length-1:0;var f=Ge(e,c,l).top;l=C(function(t){return Ge(e,c,t).top==f},r<0==(1==a.level)?a.from:a.to-1,l),"before"==u&&(l=qt(i,l,1))}else l=r<0?a.to:a.from;return new N(n,l,u)}}return new N(n,r<0?i.text.length:0,r<0?"before":"after")}function St(t,e,i,n){var r=_t(e,t.doc.direction);if(!r)return Ct(e,i,n);i.ch>=e.text.length?(i.ch=e.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var o=kt(r,i.ch,i.sticky),l=r[o];if("ltr"==t.doc.direction&&l.level%2==0&&(n>0?l.to>i.ch:l.from<i.ch))return Ct(e,i,n);var a,s=function(t,i){return qt(e,t instanceof N?t.ch:t,i)},u=function(i){return t.options.lineWrapping?(a=a||Je(t,e),gi(t,e,a,i)):{begin:0,end:e.text.length}},c=u("before"==i.sticky?s(i,-1):i.ch);if("rtl"==t.doc.direction||1==l.level){var f=1==l.level==n<0,d=s(i,f?1:-1);if(null!=d&&(f?d<=l.to&&d<=c.end:d>=l.from&&d>=c.begin)){var h=f?"before":"after";return new N(i.line,d,h)}}var p=function(t,e,n){for(var o=function(t,e){return e?new N(i.line,s(t,1),"before"):new N(i.line,t,"after")};t>=0&&t<r.length;t+=e){var l=r[t],a=e>0==(1!=l.level),u=a?n.begin:s(n.end,-1);if(l.from<=u&&u<l.to)return o(u,a);if(u=a?l.from:s(l.to,-1),n.begin<=u&&u<n.end)return o(u,a)}},m=p(o+n,n,c);if(m)return m;var g=n>0?c.end:s(c.begin,-1);return null==g||n>0&&g==e.text.length||!(m=p(n>0?0:r.length-1,n,u(g)))?null:m}function Ot(t,e){return t._handlers&&t._handlers[e]||Yl}function Tt(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var n=t._handlers,r=n&&n[e];if(r){var o=d(r,i);o>-1&&(n[e]=r.slice(0,o).concat(r.slice(o+1)))}}}function Et(t,e){var i=Ot(t,e);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function Mt(t,e,i){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Et(t,i||e.type,t,e),jt(e)||e.codemirrorIgnore}function Lt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)-1==d(i,e[n])&&i.push(e[n])}function Dt(t,e){return Ot(t,e).length>0}function Pt(t){t.prototype.on=function(t,e){Kl(this,t,e)},t.prototype.off=function(t,e){Tt(this,t,e)}}function Nt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function It(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function jt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Ft(t){Nt(t),It(t)}function Rt(t){return t.target||t.srcElement}function zt(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),_l&&t.ctrlKey&&1==e&&(e=3),e}function Bt(t){if(null==Dl){var e=n("span","​");i(t,n("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Dl=e.offsetWidth<=1&&e.offsetHeight>2&&!(fl&&dl<8))}var r=Dl?n("span","​"):n("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Ht(t){if(null!=Pl)return Pl;var n=i(t,document.createTextNode("AخA")),r=Sl(n,0,1).getBoundingClientRect(),o=Sl(n,1,2).getBoundingClientRect();return e(t),!(!r||r.left==r.right)&&(Pl=o.right-r.right<3)}function Wt(t){if(null!=Ql)return Ql;var e=i(t,n("span","x")),r=e.getBoundingClientRect(),o=Sl(e,0,1).getBoundingClientRect();return Ql=Math.abs(r.left-o.left)>1}function Ut(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),ta[t]=e}function $t(t,e){ea[t]=e}function Vt(t){if("string"==typeof t&&ea.hasOwnProperty(t))t=ea[t];else if(t&&"string"==typeof t.name&&ea.hasOwnProperty(t.name)){var e=ea[t.name];"string"==typeof e&&(e={name:e}),t=y(e,t),t.name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Vt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Vt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Yt(t,e){e=Vt(e);var i=ta[e.name];if(!i)return Yt(t,"text/plain");var n=i(t,e);if(ia.hasOwnProperty(e.name)){var r=ia[e.name];for(var o in r)r.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=r[o])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var l in e.modeProps)n[l]=e.modeProps[l];return n}function Kt(t,e){c(e,ia.hasOwnProperty(t)?ia[t]:ia[t]={})}function Zt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function Xt(t,e){for(var i;t.innerMode&&(i=t.innerMode(e))&&i.mode!=t;)e=i.state,t=i.mode;return i||{mode:t,state:e}}function Jt(t,e,i){return!t.startState||t.startState(e,i)}function Gt(t,e,i,n){var r=[t.state.modeGen],o={};le(t,e.text,t.doc.mode,i,function(t,e){return r.push(t,e)},o,n);for(var l=i.state,a=0;a<t.state.overlays.length;++a)!function(n){var l=t.state.overlays[n],a=1,s=0;i.state=!0,le(t,e.text,l.mode,i,function(t,e){for(var i=a;s<t;){var n=r[a];n>t&&r.splice(a,1,t,r[a+1],n),a+=2,s=Math.min(t,n)}if(e)if(l.opaque)r.splice(i,a-i,t,"overlay "+e),a=i+2;else for(;i<a;i+=2){var o=r[i+1];r[i+1]=(o?o+" ":"")+"overlay "+e}},o)}(a);return i.state=l,{styles:r,classes:o.bgClass||o.textClass?o:null}}function Qt(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=te(t,M(e)),r=e.text.length>t.options.maxHighlightLength&&Zt(t.doc.mode,n.state),o=Gt(t,e,n);r&&(n.state=r),e.stateAfter=n.save(!r),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function te(t,e,i){var n=t.doc,r=t.display;if(!n.mode.startState)return new oa(n,!0,e);var o=ae(t,e,i),l=o>n.first&&S(n,o-1).stateAfter,a=l?oa.fromSaved(n,l,o):new oa(n,Jt(n.mode),o);return n.iter(o,e,function(i){ee(t,i.text,a);var n=a.line;i.stateAfter=n==e-1||n%5==0||n>=r.viewFrom&&n<r.viewTo?a.save():null,a.nextLine()}),i&&(n.modeFrontier=a.line),a}function ee(t,e,i,n){var r=t.doc.mode,o=new na(e,t.options.tabSize,i);for(o.start=o.pos=n||0,""==e&&ie(r,i.state);!o.eol();)ne(r,o,i.state),o.start=o.pos}function ie(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var i=Xt(t,e);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function ne(t,e,i,n){for(var r=0;r<10;r++){n&&(n[0]=Xt(t,i).mode);var o=t.token(e,i);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function re(t,e,i,n){var r,o=t.doc,l=o.mode;e=H(o,e);var a,s=S(o,e.line),u=te(t,e.line,i),c=new na(s.text,t.options.tabSize,u);for(n&&(a=[]);(n||c.pos<e.ch)&&!c.eol();)c.start=c.pos,r=ne(l,c,u.state),n&&a.push(new la(c,r,Zt(o.mode,u.state)));return n?a:new la(c,r,u.state)}function oe(t,e){if(t)for(;;){var i=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==e[n]?e[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(e[n])||(e[n]+=" "+i[2])}return t}function le(t,e,i,n,r,o,l){var a=i.flattenSpans;null==a&&(a=t.options.flattenSpans);var s,u=0,c=null,f=new na(e,t.options.tabSize,n),d=t.options.addModeClass&&[null];for(""==e&&oe(ie(i,n.state),o);!f.eol();){if(f.pos>t.options.maxHighlightLength?(a=!1,l&&ee(t,e,n,f.pos),f.pos=e.length,s=null):s=oe(ne(i,f,n.state,d),o),d){var h=d[0].name;h&&(s="m-"+(s?h+" "+s:h))}if(!a||c!=s){for(;u<f.start;)u=Math.min(f.start,u+5e3),r(u,c);c=s}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e3);r(p,c),u=p}}function ae(t,e,i){for(var n,r,o=t.doc,l=i?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>l;--a){if(a<=o.first)return o.first;var s=S(o,a-1),u=s.stateAfter;if(u&&(!i||a+(u instanceof ra?u.lookAhead:0)<=o.modeFrontier))return a;var c=f(s.text,null,t.options.tabSize);(null==r||n>c)&&(r=a-1,n=c)}return r}function se(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var i=t.first,n=e-1;n>i;n--){var r=S(t,n).stateAfter;if(r&&(!(r instanceof ra)||n+r.lookAhead<e)){i=n+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,i)}}function ue(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),it(t),nt(t,i);var r=n?n(t):1;r!=t.height&&E(t,r)}function ce(t){t.parent=null,it(t)}function fe(t,e){if(!t||/^\s*$/.test(t))return null;var i=e.addModeClass?ca:ua;return i[t]||(i[t]=t.replace(/\S+/g,"cm-$&"))}function de(t,e){var i=r("span",null,null,hl?"padding-right: .1px":null),n={pre:r("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:(fl||hl)&&t.getOption("lineWrapping")};e.measure={};for(var o=0;o<=(e.rest?e.rest.length:0);o++){var l=o?e.rest[o-1]:e.line,a=void 0;n.pos=0,n.addToken=pe,Ht(t.display.measure)&&(a=_t(l,t.doc.direction))&&(n.addToken=ge(n.addToken,a)),n.map=[];be(l,n,Qt(t,l,e!=t.display.externalMeasured&&M(l))),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=s(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=s(l.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Bt(t.display.measure))),0==o?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(hl){var u=n.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Et(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=s(n.pre.className,n.textClass||"")),n}function he(t){var e=n("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function pe(t,e,i,r,o,l,a){if(e){var s,u=t.splitSpaces?me(e,t.trailingSpace):e,c=t.cm.state.specialChars,f=!1;if(c.test(e)){s=document.createDocumentFragment();for(var d=0;;){c.lastIndex=d;var h=c.exec(e),m=h?h.index-d:e.length-d;if(m){var g=document.createTextNode(u.slice(d,d+m));fl&&dl<9?s.appendChild(n("span",[g])):s.appendChild(g),t.map.push(t.pos,t.pos+m,g),t.col+=m,t.pos+=m}if(!h)break;d+=m+1;var v=void 0;if("\t"==h[0]){var b=t.cm.options.tabSize,y=b-t.col%b;v=s.appendChild(n("span",p(y),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=y}else"\r"==h[0]||"\n"==h[0]?(v=s.appendChild(n("span","\r"==h[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",h[0]),t.col+=1):(v=t.cm.options.specialCharPlaceholder(h[0]),v.setAttribute("cm-text",h[0]),fl&&dl<9?s.appendChild(n("span",[v])):s.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,s=document.createTextNode(u),t.map.push(t.pos,t.pos+e.length,s),fl&&dl<9&&(f=!0),t.pos+=e.length;if(t.trailingSpace=32==u.charCodeAt(e.length-1),i||r||o||f||a){var x=i||"";r&&(x+=r),o&&(x+=o);var w=n("span",[s],x,a);return l&&(w.title=l),t.content.appendChild(w)}t.content.appendChild(s)}}function me(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,n="",r=0;r<t.length;r++){var o=t.charAt(r);" "!=o||!i||r!=t.length-1&&32!=t.charCodeAt(r+1)||(o=" "),n+=o,i=" "==o}return n}function ge(t,e){return function(i,n,r,o,l,a,s){r=r?r+" cm-force-border":"cm-force-border";for(var u=i.pos,c=u+n.length;;){for(var f=void 0,d=0;d<e.length&&(f=e[d],!(f.to>u&&f.from<=u));d++);if(f.to>=c)return t(i,n,r,o,l,a,s);t(i,n.slice(0,f.to-u),r,o,null,a,s),o=null,n=n.slice(f.to-u),u=f.to}}}function ve(t,e,i,n){var r=!n&&i.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!n&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function be(t,e,i){var n=t.markedSpans,r=t.text,o=0;if(n)for(var l,a,s,u,c,f,d,h=r.length,p=0,m=1,g="",v=0;;){if(v==p){s=u=c=f=a="",d=null,v=1/0;for(var b=[],y=void 0,x=0;x<n.length;++x){var w=n[x],k=w.marker;"bookmark"==k.type&&w.from==p&&k.widgetNode?b.push(k):w.from<=p&&(null==w.to||w.to>p||k.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,u=""),k.className&&(s+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&w.from==p&&(c+=" "+k.startStyle),k.endStyle&&w.to==v&&(y||(y=[])).push(k.endStyle,w.to),k.title&&!f&&(f=k.title),k.collapsed&&(!d||lt(d.marker,k)<0)&&(d=w)):w.from>p&&v>w.from&&(v=w.from)}if(y)for(var _=0;_<y.length;_+=2)y[_+1]==v&&(u+=" "+y[_]);if(!d||d.from==p)for(var q=0;q<b.length;++q)ve(e,0,b[q]);if(d&&(d.from||0)==p){if(ve(e,(null==d.to?h+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(p>=h)break;for(var C=Math.min(h,v);;){if(g){var A=p+g.length;if(!d){var S=A>C?g.slice(0,C-p):g;e.addToken(e,S,l?l+s:s,c,p+S.length==v?u:"",f,a)}if(A>=C){g=g.slice(C-p),p=C;break}p=A,c=""}g=r.slice(o,o=i[m++]),l=fe(i[m++],e.cm.options)}}else for(var O=1;O<i.length;O+=2)e.addToken(e,r.slice(o,o=i[O]),fe(i[O+1],e.cm.options))}function ye(t,e,i){this.line=e,this.rest=ht(e),this.size=this.rest?M(m(this.rest))-i+1:1,this.node=this.text=null,this.hidden=gt(t,e)}function xe(t,e,i){for(var n,r=[],o=e;o<i;o=n){var l=new ye(t.doc,S(t.doc,o),o);n=o+l.size,r.push(l)}return r}function we(t){fa?fa.ops.push(t):t.ownsGroup=fa={ops:[t],delayedCallbacks:[]}}function ke(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var r=t.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<e.length)}function _e(t,e){var i=t.ownsGroup;if(i)try{ke(i)}finally{fa=null,e(i)}}function qe(t,e){var i=Ot(t,e);if(i.length){var n,r=Array.prototype.slice.call(arguments,2);fa?n=fa.delayedCallbacks:da?n=da:(n=da=[],setTimeout(Ce,0));for(var o=0;o<i.length;++o)!function(t){n.push(function(){return i[t].apply(null,r)})}(o)}}function Ce(){var t=da;da=null;for(var e=0;e<t.length;++e)t[e]()}function Ae(t,e,i,n){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?Ee(t,e):"gutter"==o?Le(t,e,i,n):"class"==o?Me(t,e):"widget"==o&&De(t,e,n)}e.changes=null}function Se(t){return t.node==t.text&&(t.node=n("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),fl&&dl<8&&(t.node.style.zIndex=2)),t.node}function Oe(t,e){var i=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),e.background)i?e.background.className=i:(e.background.parentNode.removeChild(e.background),e.background=null);else if(i){var r=Se(e);e.background=r.insertBefore(n("div",null,i),r.firstChild),t.display.input.setUneditable(e.background)}}function Te(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):de(t,e)}function Ee(t,e){var i=e.text.className,n=Te(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,Me(t,e)):i&&(e.text.className=i)}function Me(t,e){Oe(t,e),e.line.wrapClass?Se(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var i=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=i||""}function Le(t,e,i,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var o=Se(e);e.gutterBackground=n("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),o.insertBefore(e.gutterBackground,e.text)}var l=e.line.gutterMarkers;if(t.options.lineNumbers||l){var a=Se(e),s=e.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),a.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(n("div",P(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),l)for(var u=0;u<t.options.gutters.length;++u){var c=t.options.gutters[u],f=l.hasOwnProperty(c)&&l[c];f&&s.appendChild(n("div",[f],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function De(t,e,i){e.alignable&&(e.alignable=null);for(var n=e.node.firstChild,r=void 0;n;n=r)r=n.nextSibling,"CodeMirror-linewidget"==n.className&&e.node.removeChild(n);Ne(t,e,i)}function Pe(t,e,i,n){var r=Te(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),Me(t,e),Le(t,e,i,n),Ne(t,e,n),e.node}function Ne(t,e,i){if(Ie(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)Ie(t,e.rest[n],e,i,!1)}function Ie(t,e,i,r,o){if(e.widgets)for(var l=Se(i),a=0,s=e.widgets;a<s.length;++a){var u=s[a],c=n("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),je(u,c,i,r),t.display.input.setUneditable(c),o&&u.above?l.insertBefore(c,i.gutter||i.text):l.appendChild(c),qe(u,"redraw")}}function je(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var r=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function Fe(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!o(document.body,t.node)){var r="position: relative;";t.coverGutter&&(r+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(r+="width: "+e.display.wrapper.clientWidth+"px;"),i(e.display.measure,n("div",[t.node],null,r))}return t.height=t.node.parentNode.offsetHeight}function Re(t,e){for(var i=Rt(e);i!=t.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==t.sizer&&i!=t.mover)return!0}function ze(t){return t.lineSpace.offsetTop}function Be(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function He(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=i(t.measure,n("pre","x")),r=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,o={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(t.cachedPaddingH=o),o}function We(t){return Nl-t.display.nativeBarWidth}function Ue(t){return t.display.scroller.clientWidth-We(t)-t.display.barWidth}function $e(t){return t.display.scroller.clientHeight-We(t)-t.display.barHeight}function Ve(t,e,i){var n=t.options.lineWrapping,r=n&&Ue(t);if(!e.measure.heights||n&&e.measure.width!=r){var o=e.measure.heights=[];if(n){e.measure.width=r;for(var l=e.text.firstChild.getClientRects(),a=0;a<l.length-1;a++){var s=l[a],u=l[a+1];Math.abs(s.bottom-u.bottom)>2&&o.push((s.bottom+u.top)/2-i.top)}}o.push(i.bottom-i.top)}}function Ye(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var r=0;r<t.rest.length;r++)if(M(t.rest[r])>i)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}function Ke(t,e){e=ft(e);var n=M(e),r=t.display.externalMeasured=new ye(t.doc,e,n);r.lineN=n;var o=r.built=de(t,r);return r.text=o.pre,i(t.display.lineMeasure,o.pre),r}function Ze(t,e,i,n){return Ge(t,Je(t,e),i,n)}function Xe(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Ci(t,e)];var i=t.display.externalMeasured;return i&&e>=i.lineN&&e<i.lineN+i.size?i:void 0}function Je(t,e){var i=M(e),n=Xe(t,i);n&&!n.text?n=null:n&&n.changes&&(Ae(t,n,i,xi(t)),t.curOp.forceUpdate=!0),n||(n=Ke(t,e));var r=Ye(n,e,i);return{line:e,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Ge(t,e,i,n,r){e.before&&(i=-1);var o,l=i+(n||"");return e.cache.hasOwnProperty(l)?o=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Ve(t,e.view,e.rect),e.hasHeights=!0),o=ei(t,e,i,n),o.bogus||(e.cache[l]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function Qe(t,e,i){for(var n,r,o,l,a,s,u=0;u<t.length;u+=3)if(a=t[u],s=t[u+1],e<a?(r=0,o=1,l="left"):e<s?(r=e-a,o=r+1):(u==t.length-3||e==s&&t[u+3]>e)&&(o=s-a,r=o-1,e>=s&&(l="right")),null!=r){if(n=t[u+2],a==s&&i==(n.insertLeft?"left":"right")&&(l=i),"left"==i&&0==r)for(;u&&t[u-2]==t[u-3]&&t[u-1].insertLeft;)n=t[2+(u-=3)],l="left";if("right"==i&&r==s-a)for(;u<t.length-3&&t[u+3]==t[u+4]&&!t[u+5].insertLeft;)n=t[(u+=3)+2],l="right";break}return{node:n,start:r,end:o,collapse:l,coverStart:a,coverEnd:s}}function ti(t,e){var i=ha;if("left"==e)for(var n=0;n<t.length&&(i=t[n]).left==i.right;n++);else for(var r=t.length-1;r>=0&&(i=t[r]).left==i.right;r--);return i}function ei(t,e,i,n){var r,o=Qe(e.map,i,n),l=o.node,a=o.start,s=o.end,u=o.collapse;if(3==l.nodeType){for(var c=0;c<4;c++){for(;a&&_(e.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+s<o.coverEnd&&_(e.line.text.charAt(o.coverStart+s));)++s;if(r=fl&&dl<9&&0==a&&s==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():ti(Sl(l,a,s).getClientRects(),n),r.left||r.right||0==a)break;s=a,a-=1,u="right"}fl&&dl<11&&(r=ii(t.display.measure,r))}else{a>0&&(u=n="right");var f;r=t.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==n?f.length-1:0]:l.getBoundingClientRect()}if(fl&&dl<9&&!a&&(!r||!r.left&&!r.right)){var d=l.parentNode.getClientRects()[0];r=d?{left:d.left,right:d.left+yi(t.display),top:d.top,bottom:d.bottom}:ha}for(var h=r.top-e.rect.top,p=r.bottom-e.rect.top,m=(h+p)/2,g=e.view.measure.heights,v=0;v<g.length-1&&!(m<g[v]);v++);var b=v?g[v-1]:0,y=g[v],x={left:("right"==u?r.right:r.left)-e.rect.left,right:("left"==u?r.left:r.right)-e.rect.left,top:b,bottom:y};return r.left||r.right||(x.bogus=!0),t.options.singleCursorHeightPerLine||(x.rtop=h,x.rbottom=p),x}function ii(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Wt(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function ni(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function ri(t){t.display.externalMeasure=null,e(t.display.lineMeasure);for(var i=0;i<t.display.view.length;i++)ni(t.display.view[i])}function oi(t){ri(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function li(){return ml&&wl?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ai(){return ml&&wl?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function si(t,e,i,n,r){if(!r&&e.widgets)for(var o=0;o<e.widgets.length;++o)if(e.widgets[o].above){var l=Fe(e.widgets[o]);i.top+=l,i.bottom+=l}if("line"==n)return i;n||(n="local");var a=bt(e);if("local"==n?a+=ze(t.display):a-=t.display.viewOffset,"page"==n||"window"==n){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==n?0:ai());var u=s.left+("window"==n?0:li());i.left+=u,i.right+=u}return i.top+=a,i.bottom+=a,i}function ui(t,e,i){if("div"==i)return e;var n=e.left,r=e.top;if("page"==i)n-=li(),r-=ai();else if("local"==i||!i){var o=t.display.sizer.getBoundingClientRect();n+=o.left,r+=o.top}var l=t.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:r-l.top}}function ci(t,e,i,n,r){return n||(n=S(t.doc,e.line)),si(t,n,Ze(t,n,e.ch,r),i)}function fi(t,e,i,n,r,o){function l(e,l){var a=Ge(t,r,e,l?"right":"left",o);return l?a.left=a.right:a.right=a.left,si(t,n,a,i)}function a(t,e,i){var n=s[e],r=n.level%2!=0;return l(i?t-1:t,r!=i)}n=n||S(t.doc,e.line),r||(r=Je(t,n));var s=_t(n,t.doc.direction),u=e.ch,c=e.sticky;if(u>=n.text.length?(u=n.text.length,c="before"):u<=0&&(u=0,c="after"),!s)return l("before"==c?u-1:u,"before"==c);var f=kt(s,u,c),d=$l,h=a(u,f,"before"==c);return null!=d&&(h.other=a(u,d,"before"!=c)),h}function di(t,e){var i=0;e=H(t.doc,e),t.options.lineWrapping||(i=yi(t.display)*e.ch);var n=S(t.doc,e.line),r=bt(n)+ze(t.display);return{left:i,right:i,top:r,bottom:r+n.height}}function hi(t,e,i,n,r){var o=N(t,e,i);return o.xRel=r,n&&(o.outside=!0),o}function pi(t,e,i){var n=t.doc;if((i+=t.display.viewOffset)<0)return hi(n.first,0,null,!0,-1);var r=L(n,i),o=n.first+n.size-1;if(r>o)return hi(n.first+n.size-1,S(n,o).text.length,null,!0,1);e<0&&(e=0);for(var l=S(n,r);;){var a=vi(t,l,r,e,i),s=ut(l),u=s&&s.find(0,!0);if(!s||!(a.ch>u.from.ch||a.ch==u.from.ch&&a.xRel>0))return a;r=M(l=u.to.line)}}function mi(t,e,i,n){var r=function(n){return si(t,e,Ge(t,i,n),"line")},o=e.text.length,l=C(function(t){return r(t-1).bottom<=n},o,0);return o=C(function(t){return r(t).top>n},l,o),{begin:l,end:o}}function gi(t,e,i,n){return mi(t,e,i,si(t,e,Ge(t,i,n),"line").top)}function vi(t,e,i,n,r){r-=bt(e);var o,l=0,a=e.text.length,s=Je(t,e);if(_t(e,t.doc.direction)){if(t.options.lineWrapping){var u;u=mi(t,e,s,r),l=u.begin,a=u.end}o=new N(i,Math.floor(l+(a-l)/2));var c,f,d=fi(t,o,"line",e,s).left,h=d<n?1:-1,p=d-n,m=Math.ceil((a-l)/4);t:do{c=p,f=o;for(var g=0;g<m;++g){var v=o;if(null==(o=St(t,e,o,h))||o.ch<l||a<=("before"==o.sticky?o.ch-1:o.ch)){o=v;break t}}if(p=fi(t,o,"line",e,s).left-n,m>1){var b=Math.abs(p-c)/m;m=Math.min(m,Math.ceil(Math.abs(p)/b)),h=p<0?1:-1}}while(0!=p&&(m>1||h<0!=p<0&&Math.abs(p)<=Math.abs(c)));if(Math.abs(p)>Math.abs(c)){if(p<0==c<0)throw new Error("Broke out of infinite loop in coordsCharInner");o=f}}else{var y=C(function(i){var o=si(t,e,Ge(t,s,i),"line");return o.top>r?(a=Math.min(i,a),!0):!(o.bottom<=r)&&(o.left>n||!(o.right<n)&&n-o.left<o.right-n)},l,a);y=q(e.text,y,1),o=new N(i,y,y==a?"before":"after")}var x=fi(t,o,"line",e,s);return(r<x.top||x.bottom<r)&&(o.outside=!0),o.xRel=n<x.left?-1:n>x.right?1:0,o}function bi(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==sa){sa=n("pre");for(var r=0;r<49;++r)sa.appendChild(document.createTextNode("x")),sa.appendChild(n("br"));sa.appendChild(document.createTextNode("x"))}i(t.measure,sa);var o=sa.offsetHeight/50;return o>3&&(t.cachedTextHeight=o),e(t.measure),o||1}function yi(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=n("span","xxxxxxxxxx"),r=n("pre",[e]);i(t.measure,r);var o=e.getBoundingClientRect(),l=(o.right-o.left)/10;return l>2&&(t.cachedCharWidth=l),l||10}function xi(t){for(var e=t.display,i={},n={},r=e.gutters.clientLeft,o=e.gutters.firstChild,l=0;o;o=o.nextSibling,++l)i[t.options.gutters[l]]=o.offsetLeft+o.clientLeft+r,n[t.options.gutters[l]]=o.clientWidth;return{fixedPos:wi(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function wi(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function ki(t){var e=bi(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/yi(t.display)-3);return function(r){if(gt(t.doc,r))return 0;var o=0;if(r.widgets)for(var l=0;l<r.widgets.length;l++)r.widgets[l].height&&(o+=r.widgets[l].height);return i?o+(Math.ceil(r.text.length/n)||1)*e:o+e}}function _i(t){var e=t.doc,i=ki(t);e.iter(function(t){var e=i(t);e!=t.height&&E(t,e)})}function qi(t,e,i,n){var r=t.display;if(!i&&"true"==Rt(e).getAttribute("cm-not-content"))return null;var o,l,a=r.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,l=e.clientY-a.top}catch(e){return null}var s,u=pi(t,o,l);if(n&&1==u.xRel&&(s=S(t.doc,u.line).text).length==u.ch){var c=f(s,s.length,t.options.tabSize)-s.length;u=N(u.line,Math.max(0,Math.round((o-He(t.display).left)/yi(t.display))-c))}return u}function Ci(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var i=t.display.view,n=0;n<i.length;n++)if((e-=i[n].size)<0)return n}function Ai(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Si(t,e){for(var i=t.doc,n={},r=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<i.sel.ranges.length;l++)if(!1!==e||l!=i.sel.primIndex){var a=i.sel.ranges[l];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var s=a.empty();(s||t.options.showCursorWhenSelecting)&&Oi(t,a.head,r),s||Ti(t,a,o)}}return n}function Oi(t,e,i){var r=fi(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),o=i.appendChild(n("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var l=i.appendChild(n("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));l.style.display="",l.style.left=r.other.left+"px",l.style.top=r.other.top+"px",l.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Ti(t,e,i){function r(t,e,i,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),s.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==i?f-t:i)+"px;\n                             height: "+(r-e)+"px"))}function o(e,i,n){function o(i,n){return ci(t,N(e,i),"div",u,n)}var l,s,u=S(a,e),d=u.text.length;return wt(_t(u,a.direction),i||0,null==n?d:n,function(t,e,a){var u,h,p,m=o(t,"left");if(t==e)u=m,h=p=m.left;else{if(u=o(e-1,"right"),"rtl"==a){var g=m;m=u,u=g}h=m.left,p=u.right}null==i&&0==t&&(h=c),u.top-m.top>3&&(r(h,m.top,null,m.bottom),h=c,m.bottom<u.top&&r(h,m.bottom,null,u.top)),null==n&&e==d&&(p=f),(!l||m.top<l.top||m.top==l.top&&m.left<l.left)&&(l=m),(!s||u.bottom>s.bottom||u.bottom==s.bottom&&u.right>s.right)&&(s=u),h<c+1&&(h=c),r(h,u.top,p-h,u.bottom)}),{start:l,end:s}}var l=t.display,a=t.doc,s=document.createDocumentFragment(),u=He(t.display),c=u.left,f=Math.max(l.sizerWidth,Ue(t)-l.sizer.offsetLeft)-u.right,d=e.from(),h=e.to();if(d.line==h.line)o(d.line,d.ch,h.ch);else{var p=S(a,d.line),m=S(a,h.line),g=ft(p)==ft(m),v=o(d.line,d.ch,g?p.text.length+1:null).end,b=o(h.line,g?0:null,h.ch).start;g&&(v.top<b.top-2?(r(v.right,v.top,null,v.bottom),r(c,b.top,b.left,b.bottom)):r(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&r(c,v.bottom,null,b.top)}i.appendChild(s)}function Ei(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=(i=!i)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Mi(t){t.state.focused||(t.display.input.focus(),Di(t))}function Li(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,Pi(t))},100)}function Di(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Et(t,"focus",t,e),t.state.focused=!0,a(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),hl&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Ei(t))}function Pi(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Et(t,"blur",t,e),t.state.focused=!1,El(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function Ni(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=0;n<e.view.length;n++){var r=e.view[n],o=void 0;if(!r.hidden){if(fl&&dl<8){var l=r.node.offsetTop+r.node.offsetHeight;o=l-i,i=l}else{var a=r.node.getBoundingClientRect();o=a.bottom-a.top}var s=r.line.height-o;if(o<2&&(o=bi(e)),(s>.005||s<-.005)&&(E(r.line,o),Ii(r.line),r.rest))for(var u=0;u<r.rest.length;u++)Ii(r.rest[u])}}}function Ii(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function ji(t,e,i){var n=i&&null!=i.top?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-ze(t));var r=i&&null!=i.bottom?i.bottom:n+t.wrapper.clientHeight,o=L(e,n),l=L(e,r);if(i&&i.ensure){var a=i.ensure.from.line,s=i.ensure.to.line;a<o?(o=a,l=L(e,bt(S(e,a))+t.wrapper.clientHeight)):Math.min(s,e.lastLine())>=l&&(o=L(e,bt(S(e,s))-t.wrapper.clientHeight),l=s)}return{from:o,to:Math.max(l,o+1)}}function Fi(t){var e=t.display,i=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=wi(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=n+"px",l=0;l<i.length;l++)if(!i[l].hidden){t.options.fixedGutter&&(i[l].gutter&&(i[l].gutter.style.left=o),i[l].gutterBackground&&(i[l].gutterBackground.style.left=o));var a=i[l].alignable;if(a)for(var s=0;s<a.length;s++)a[s].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=n+r+"px")}}function Ri(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=P(t.options,e.first+e.size-1),r=t.display;if(i.length!=r.lineNumChars){var o=r.measure.appendChild(n("div",[n("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,a=o.offsetWidth-l;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(l,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?i.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Mn(t),!0}return!1}function zi(t,e){if(!Mt(t,"scrollCursorIntoView")){var i=t.display,r=i.sizer.getBoundingClientRect(),o=null;if(e.top+r.top<0?o=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!yl){var l=n("div","​",null,"position: absolute;\n                         top: "+(e.top-i.viewOffset-ze(t.display))+"px;\n                         height: "+(e.bottom-e.top+We(t)+i.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(l),l.scrollIntoView(o),t.display.lineSpace.removeChild(l)}}}function Bi(t,e,i,n){null==n&&(n=0);var r;t.options.lineWrapping||e!=i||(e=e.ch?N(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e,i="before"==e.sticky?N(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var l=!1,a=fi(t,e),s=i&&i!=e?fi(t,i):a;r={left:Math.min(a.left,s.left),top:Math.min(a.top,s.top)-n,right:Math.max(a.left,s.left),bottom:Math.max(a.bottom,s.bottom)+n};var u=Wi(t,r),c=t.doc.scrollTop,f=t.doc.scrollLeft;if(null!=u.scrollTop&&(Xi(t,u.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(l=!0)),null!=u.scrollLeft&&(Gi(t,u.scrollLeft),Math.abs(t.doc.scrollLeft-f)>1&&(l=!0)),!l)break}return r}function Hi(t,e){var i=Wi(t,e);null!=i.scrollTop&&Xi(t,i.scrollTop),null!=i.scrollLeft&&Gi(t,i.scrollLeft)}function Wi(t,e){var i=t.display,n=bi(t.display);e.top<0&&(e.top=0);var r=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:i.scroller.scrollTop,o=$e(t),l={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+Be(i),s=e.top<n,u=e.bottom>a-n;if(e.top<r)l.scrollTop=s?0:e.top;else if(e.bottom>r+o){var c=Math.min(e.top,(u?a:e.bottom)-o);c!=r&&(l.scrollTop=c)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:i.scroller.scrollLeft,d=Ue(t)-(t.options.fixedGutter?i.gutters.offsetWidth:0),h=e.right-e.left>d;return h&&(e.right=e.left+d),e.left<10?l.scrollLeft=0:e.left<f?l.scrollLeft=Math.max(0,e.left-(h?0:10)):e.right>d+f-3&&(l.scrollLeft=e.right+(h?0:10)-d),l}function Ui(t,e){null!=e&&(Ki(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function $i(t){Ki(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Vi(t,e,i){null==e&&null==i||Ki(t),null!=e&&(t.curOp.scrollLeft=e),null!=i&&(t.curOp.scrollTop=i)}function Yi(t,e){Ki(t),t.curOp.scrollToPos=e}function Ki(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;Zi(t,di(t,e.from),di(t,e.to),e.margin)}}function Zi(t,e,i,n){var r=Wi(t,{left:Math.min(e.left,i.left),top:Math.min(e.top,i.top)-n,right:Math.max(e.right,i.right),bottom:Math.max(e.bottom,i.bottom)+n});Vi(t,r.scrollLeft,r.scrollTop)}function Xi(t,e){Math.abs(t.doc.scrollTop-e)<2||(al||Tn(t,{top:e}),Ji(t,e,!0),al&&Tn(t),kn(t,100))}function Ji(t,e,i){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||i)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Gi(t,e,i,n){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!n||(t.doc.scrollLeft=e,Fi(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Qi(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+Be(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+We(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}function tn(t,e){e||(e=Qi(t));var i=t.display.barWidth,n=t.display.barHeight;en(t,e);for(var r=0;r<4&&i!=t.display.barWidth||n!=t.display.barHeight;r++)i!=t.display.barWidth&&t.options.lineWrapping&&Ni(t),en(t,Qi(t)),i=t.display.barWidth,n=t.display.barHeight}function en(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}function nn(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&El(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new ga[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Kl(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){"horizontal"==i?Gi(t,e):Xi(t,e)},t),t.display.scrollbars.addClass&&a(t.display.wrapper,t.display.scrollbars.addClass)}function rn(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++va},we(t.curOp)}function on(t){_e(t.curOp,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;ln(t)})}function ln(t){for(var e=t.ops,i=0;i<e.length;i++)an(e[i]);for(var n=0;n<e.length;n++)sn(e[n]);for(var r=0;r<e.length;r++)un(e[r]);for(var o=0;o<e.length;o++)cn(e[o]);for(var l=0;l<e.length;l++)fn(e[l])}function an(t){var e=t.cm,i=e.display;qn(e),t.updateMaxLine&&xt(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new ba(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function sn(t){t.updatedDisplay=t.mustUpdate&&Sn(t.cm,t.update)}function un(t){var e=t.cm,i=e.display;t.updatedDisplay&&Ni(e),t.barMeasure=Qi(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Ze(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+We(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-Ue(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection(t.focus))}function cn(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Gi(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==l()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&tn(e,t.barMeasure),t.updatedDisplay&&Ln(e,t.barMeasure),t.selectionChanged&&Ei(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&Mi(t.cm)}function fn(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&On(e,t.update),null==i.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=t.scrollTop&&Ji(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Gi(e,t.scrollLeft,!0,!0),t.scrollToPos){zi(e,Bi(e,H(n,t.scrollToPos.from),H(n,t.scrollToPos.to),t.scrollToPos.margin))}var r=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(r)for(var l=0;l<r.length;++l)r[l].lines.length||Et(r[l],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&Et(o[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Et(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function dn(t,e){if(t.curOp)return e();rn(t);try{return e()}finally{on(t)}}function hn(t,e){return function(){if(t.curOp)return e.apply(t,arguments);rn(t);try{return e.apply(t,arguments)}finally{on(t)}}}function pn(t){return function(){if(this.curOp)return t.apply(this,arguments);rn(this);try{return t.apply(this,arguments)}finally{on(this)}}}function mn(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);rn(e);try{return t.apply(this,arguments)}finally{on(e)}}}function gn(t,e,i,n){null==e&&(e=t.doc.first),null==i&&(i=t.doc.first+t.doc.size),n||(n=0);var r=t.display;if(n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ul&&pt(t.doc,e)<r.viewTo&&bn(t);else if(i<=r.viewFrom)Ul&&mt(t.doc,i+n)>r.viewFrom?bn(t):(r.viewFrom+=n,r.viewTo+=n);else if(e<=r.viewFrom&&i>=r.viewTo)bn(t);else if(e<=r.viewFrom){var o=yn(t,i,i+n,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=n):bn(t)}else if(i>=r.viewTo){var l=yn(t,e,e,-1);l?(r.view=r.view.slice(0,l.index),r.viewTo=l.lineN):bn(t)}else{var a=yn(t,e,e,-1),s=yn(t,i,i+n,1);a&&s?(r.view=r.view.slice(0,a.index).concat(xe(t,a.lineN,s.lineN)).concat(r.view.slice(s.index)),r.viewTo+=n):bn(t)}var u=r.externalMeasured;u&&(i<u.lineN?u.lineN+=n:e<u.lineN+u.size&&(r.externalMeasured=null))}function vn(t,e,i){t.curOp.viewChanged=!0;var n=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var o=n.view[Ci(t,e)];if(null!=o.node){var l=o.changes||(o.changes=[]);-1==d(l,i)&&l.push(i)}}}function bn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function yn(t,e,i,n){var r,o=Ci(t,e),l=t.display.view;if(!Ul||i==t.doc.first+t.doc.size)return{index:o,lineN:i};for(var a=t.display.viewFrom,s=0;s<o;s++)a+=l[s].size;if(a!=e){if(n>0){if(o==l.length-1)return null;r=a+l[o].size-e,o++}else r=a-e;e+=r,i+=r}for(;pt(t.doc,i)!=i;){if(o==(n<0?0:l.length-1))return null;i+=n*l[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:i}}function xn(t,e,i){var n=t.display;0==n.view.length||e>=n.viewTo||i<=n.viewFrom?(n.view=xe(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=xe(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(Ci(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(xe(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Ci(t,i)))),n.viewTo=i}function wn(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var r=e[n];r.hidden||r.node&&!r.changes||++i}return i}function kn(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,u(_n,t))}function _n(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=te(t,e.highlightFrontier),r=[];e.iter(n.line,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(n.line>=t.display.viewFrom){var l=o.styles,a=o.text.length>t.options.maxHighlightLength?Zt(e.mode,n.state):null,s=Gt(t,o,n,!0);a&&(n.state=a),o.styles=s.styles;var u=o.styleClasses,c=s.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!f&&d<l.length;++d)f=l[d]!=o.styles[d];f&&r.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=t.options.maxHighlightLength&&ee(t,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return kn(t,t.options.workDelay),!0}),e.highlightFrontier=n.line,e.modeFrontier=Math.max(e.modeFrontier,n.line),r.length&&dn(t,function(){for(var e=0;e<r.length;e++)vn(t,r[e],"text")})}}function qn(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=We(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=We(t)+"px",e.scrollbarsClipped=!0)}function Cn(t){if(t.hasFocus())return null;var e=l();if(!e||!o(t.display.lineDiv,e))return null;var i={activeElt:e};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&o(t.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function An(t){if(t&&t.activeElt&&t.activeElt!=l()&&(t.activeElt.focus(),t.anchorNode&&o(document.body,t.anchorNode)&&o(document.body,t.focusNode))){var e=window.getSelection(),i=document.createRange();i.setEnd(t.anchorNode,t.anchorOffset),i.collapse(!1),e.removeAllRanges(),e.addRange(i),e.extend(t.focusNode,t.focusOffset)}}function Sn(t,i){var n=t.display,r=t.doc;if(i.editorIsHidden)return bn(t),!1;if(!i.force&&i.visible.from>=n.viewFrom&&i.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==wn(t))return!1;Ri(t)&&(bn(t),i.dims=xi(t));var o=r.first+r.size,l=Math.max(i.visible.from-t.options.viewportMargin,r.first),a=Math.min(o,i.visible.to+t.options.viewportMargin);n.viewFrom<l&&l-n.viewFrom<20&&(l=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(o,n.viewTo)),Ul&&(l=pt(t.doc,l),a=mt(t.doc,a));var s=l!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=i.wrapperHeight||n.lastWrapWidth!=i.wrapperWidth;xn(t,l,a),n.viewOffset=bt(S(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var u=wn(t);if(!s&&0==u&&!i.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Cn(t);return u>4&&(n.lineDiv.style.display="none"),En(t,n.updateLineNumbers,i.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,An(c),e(n.cursorDiv),e(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=i.wrapperHeight,n.lastWrapWidth=i.wrapperWidth,kn(t,400)),n.updateLineNumbers=null,!0}function On(t,e){for(var i=e.viewport,n=!0;(n&&t.options.lineWrapping&&e.oldDisplayWidth!=Ue(t)||(i&&null!=i.top&&(i={top:Math.min(t.doc.height+Be(t.display)-$e(t),i.top)}),e.visible=ji(t.display,t.doc,i),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&Sn(t,e);n=!1){Ni(t);var r=Qi(t);Ai(t),tn(t,r),Ln(t,r),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function Tn(t,e){var i=new ba(t,e);if(Sn(t,i)){Ni(t),On(t,i);var n=Qi(t);Ai(t),tn(t,n),Ln(t,n),i.finish()}}function En(t,i,n){function r(e){var i=e.nextSibling;return hl&&_l&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),i}for(var o=t.display,l=t.options.lineNumbers,a=o.lineDiv,s=a.firstChild,u=o.view,c=o.viewFrom,f=0;f<u.length;f++){var h=u[f];if(h.hidden);else if(h.node&&h.node.parentNode==a){for(;s!=h.node;)s=r(s);var p=l&&null!=i&&i<=c&&h.lineNumber;h.changes&&(d(h.changes,"gutter")>-1&&(p=!1),Ae(t,h,c,n)),p&&(e(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(P(t.options,c)))),s=h.node.nextSibling}else{var m=Pe(t,h,c,n);a.insertBefore(m,s)}c+=h.size}for(;s;)s=r(s)}function Mn(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function Ln(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+We(t)+"px"}function Dn(t){var i=t.display.gutters,r=t.options.gutters;e(i);for(var o=0;o<r.length;++o){var l=r[o],a=i.appendChild(n("div",null,"CodeMirror-gutter "+l));"CodeMirror-linenumbers"==l&&(t.display.lineGutter=a,a.style.width=(t.display.lineNumWidth||1)+"px")}i.style.display=o?"":"none",Mn(t)}function Pn(t){var e=d(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function Nn(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==i&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&&(i=t.wheelDelta),{x:e,y:i}}function In(t){var e=Nn(t);return e.x*=xa,e.y*=xa,e}function jn(t,e){var i=Nn(e),n=i.x,r=i.y,o=t.display,l=o.scroller,a=l.scrollWidth>l.clientWidth,s=l.scrollHeight>l.clientHeight;if(n&&a||r&&s){if(r&&_l&&hl)t:for(var u=e.target,c=o.view;u!=l;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){t.display.currentWheelTarget=u;break t}if(n&&!al&&!gl&&null!=xa)return r&&s&&Xi(t,Math.max(0,l.scrollTop+r*xa)),Gi(t,Math.max(0,l.scrollLeft+n*xa)),(!r||r&&s)&&Nt(e),void(o.wheelStartX=null);if(r&&null!=xa){var d=r*xa,h=t.doc.scrollTop,p=h+o.wrapper.clientHeight;d<0?h=Math.max(0,h+d-50):p=Math.min(t.doc.height,p+d+50),Tn(t,{top:h,bottom:p})}ya<20&&(null==o.wheelStartX?(o.wheelStartX=l.scrollLeft,o.wheelStartY=l.scrollTop,o.wheelDX=n,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var t=l.scrollLeft-o.wheelStartX,e=l.scrollTop-o.wheelStartY,i=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,i&&(xa=(xa*ya+i)/(ya+1),++ya)}},200)):(o.wheelDX+=n,o.wheelDY+=r))}}function Fn(t,e){var i=t[e];t.sort(function(t,e){return I(t.from(),e.from())}),e=d(t,i);for(var n=1;n<t.length;n++){var r=t[n],o=t[n-1];if(I(o.to(),r.from())>=0){var l=z(o.from(),r.from()),a=R(o.to(),r.to()),s=o.empty()?r.from()==r.head:o.from()==o.head;n<=e&&--e,t.splice(--n,2,new ka(s?a:l,s?l:a))}}return new wa(t,e)}function Rn(t,e){return new wa([new ka(t,e||t)],0)}function zn(t){return t.text?N(t.from.line+t.text.length-1,m(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Bn(t,e){if(I(t,e.from)<0)return t;if(I(t,e.to)<=0)return zn(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=zn(e).ch-e.to.ch),N(i,n)}function Hn(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var r=t.sel.ranges[n];i.push(new ka(Bn(r.anchor,e),Bn(r.head,e)))}return Fn(i,t.sel.primIndex)}function Wn(t,e,i){return t.line==e.line?N(i.line,t.ch-e.ch+i.ch):N(i.line+(t.line-e.line),t.ch)}function Un(t,e,i){for(var n=[],r=N(t.first,0),o=r,l=0;l<e.length;l++){var a=e[l],s=Wn(a.from,r,o),u=Wn(zn(a),r,o);if(r=a.to,o=u,"around"==i){var c=t.sel.ranges[l],f=I(c.head,c.anchor)<0;n[l]=new ka(f?u:s,f?s:u)}else n[l]=new ka(s,s)}return new wa(n,t.sel.primIndex)}function $n(t){t.doc.mode=Yt(t.options,t.doc.modeOption),Vn(t)}function Vn(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,kn(t,100),t.state.modeGen++,t.curOp&&gn(t)}function Yn(t,e){return 0==e.from.ch&&0==e.to.ch&&""==m(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Kn(t,e,i,n){function r(t){return i?i[t]:null}function o(t,i,r){ue(t,i,r,n),qe(t,"change",t,e)}function l(t,e){for(var i=[],o=t;o<e;++o)i.push(new aa(u[o],r(o),n));return i}var a=e.from,s=e.to,u=e.text,c=S(t,a.line),f=S(t,s.line),d=m(u),h=r(u.length-1),p=s.line-a.line;if(e.full)t.insert(0,l(0,u.length)),t.remove(u.length,t.size-u.length);else if(Yn(t,e)){var g=l(0,u.length-1);o(f,f.text,h),p&&t.remove(a.line,p),g.length&&t.insert(a.line,g)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,a.ch)+d+c.text.slice(s.ch),h);else{var v=l(1,u.length-1);v.push(new aa(d+c.text.slice(s.ch),h,n)),o(c,c.text.slice(0,a.ch)+u[0],r(0)),t.insert(a.line+1,v)}else if(1==u.length)o(c,c.text.slice(0,a.ch)+u[0]+f.text.slice(s.ch),r(0)),t.remove(a.line+1,p);else{o(c,c.text.slice(0,a.ch)+u[0],r(0)),o(f,d+f.text.slice(s.ch),h);var b=l(1,u.length-1);p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,b)}qe(t,"change",t,e)}function Zn(t,e,i){function n(t,r,o){if(t.linked)for(var l=0;l<t.linked.length;++l){var a=t.linked[l];if(a.doc!=r){var s=o&&a.sharedHist;i&&!s||(e(a.doc,s),n(a.doc,t,s))}}}n(t,null,!0)}function Xn(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,_i(t),$n(t),Jn(t),t.options.lineWrapping||xt(t),t.options.mode=e.modeOption,gn(t)}function Jn(t){("rtl"==t.doc.direction?a:El)(t.display.lineDiv,"CodeMirror-rtl")}function Gn(t){dn(t,function(){Jn(t),gn(t)})}function Qn(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function tr(t,e){var i={from:F(e.from),to:zn(e),text:O(t,e.from,e.to)};return ar(t,i,e.from.line,e.to.line+1),Zn(t,function(t){return ar(t,i,e.from.line,e.to.line+1)},!0),i}function er(t){for(;t.length;){if(!m(t).ranges)break;t.pop()}}function ir(t,e){return e?(er(t.done),m(t.done)):t.done.length&&!m(t.done).ranges?m(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),m(t.done)):void 0}function nr(t,e,i,n){var r=t.history;r.undone.length=0;var o,l,a=+new Date;if((r.lastOp==n||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&r.lastModTime>a-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=ir(r,r.lastOp==n)))l=m(o.changes),0==I(e.from,e.to)&&0==I(e.from,l.to)?l.to=zn(e):o.changes.push(tr(t,e));else{var s=m(r.done);for(s&&s.ranges||lr(t.sel,r.done),o={changes:[tr(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=e.origin,l||Et(t,"historyAdded")}function rr(t,e,i,n){var r=e.charAt(0);return"*"==r||"+"==r&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function or(t,e,i,n){var r=t.history,o=n&&n.origin;i==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||rr(t,o,m(r.done),e))?r.done[r.done.length-1]=e:lr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=i,n&&!1!==n.clearRedo&&er(r.undone)}function lr(t,e){var i=m(e);i&&i.ranges&&i.equals(t)||e.push(t)}function ar(t,e,i,n){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),function(i){i.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=i.markedSpans),++o})}function sr(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function ur(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=[],r=0;r<e.text.length;++r)n.push(sr(i[r]));return n}function cr(t,e){var i=ur(t,e),n=Q(t,e);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var o=i[r],l=n[r];if(o&&l)t:for(var a=0;a<l.length;++a){for(var s=l[a],u=0;u<o.length;++u)if(o[u].marker==s.marker)continue t;o.push(s)}else l&&(i[r]=l)}return i}function fr(t,e,i){for(var n=[],r=0;r<t.length;++r){var o=t[r];if(o.ranges)n.push(i?wa.prototype.deepCopy.call(o):o);else{var l=o.changes,a=[];n.push({changes:a});for(var s=0;s<l.length;++s){var u=l[s],c=void 0;if(a.push({from:u.from,to:u.to,text:u.text}),e)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&d(e,Number(c[1]))>-1&&(m(a)[f]=u[f],delete u[f])}}}return n}function dr(t,e,i,n){if(n){var r=t.anchor;if(i){var o=I(e,r)<0;o!=I(i,r)<0?(r=e,e=i):o!=I(e,i)<0&&(e=i)}return new ka(r,e)}return new ka(i||e,e)}function hr(t,e,i,n,r){null==r&&(r=t.cm&&(t.cm.display.shift||t.extend)),yr(t,new wa([dr(t.sel.primary(),e,i,r)],0),n)}function pr(t,e,i){for(var n=[],r=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)n[o]=dr(t.sel.ranges[o],e[o],null,r);yr(t,Fn(n,t.sel.primIndex),i)}function mr(t,e,i,n){var r=t.sel.ranges.slice(0);r[e]=i,yr(t,Fn(r,t.sel.primIndex),n)}function gr(t,e,i,n){yr(t,Rn(e,i),n)}function vr(t,e,i){var n={ranges:e.ranges,update:function(e){var i=this;this.ranges=[];for(var n=0;n<e.length;n++)i.ranges[n]=new ka(H(t,e[n].anchor),H(t,e[n].head))},origin:i&&i.origin};return Et(t,"beforeSelectionChange",t,n),t.cm&&Et(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?Fn(n.ranges,n.ranges.length-1):e}function br(t,e,i){var n=t.history.done,r=m(n);r&&r.ranges?(n[n.length-1]=e,xr(t,e,i)):yr(t,e,i)}function yr(t,e,i){xr(t,e,i),or(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function xr(t,e,i){(Dt(t,"beforeSelectionChange")||t.cm&&Dt(t.cm,"beforeSelectionChange"))&&(e=vr(t,e,i)),wr(t,_r(t,e,i&&i.bias||(I(e.primary().head,t.sel.primary().head)<0?-1:1),!0)),i&&!1===i.scroll||!t.cm||$i(t.cm)}function wr(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Lt(t.cm)),qe(t,"cursorActivity",t))}function kr(t){wr(t,_r(t,t.sel,null,!1))}function _r(t,e,i,n){for(var r,o=0;o<e.ranges.length;o++){var l=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],s=Cr(t,l.anchor,a&&a.anchor,i,n),u=Cr(t,l.head,a&&a.head,i,n);(r||s!=l.anchor||u!=l.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new ka(s,u))}return r?Fn(r,e.primIndex):e}function qr(t,e,i,n,r){var o=S(t,e.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var a=o.markedSpans[l],s=a.marker;if((null==a.from||(s.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(s.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(r&&(Et(s,"beforeCursorEnter"),s.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!s.atomic)continue;if(i){var u=s.find(n<0?1:-1),c=void 0;if((n<0?s.inclusiveRight:s.inclusiveLeft)&&(u=Ar(t,u,-n,u&&u.line==e.line?o:null)),u&&u.line==e.line&&(c=I(u,i))&&(n<0?c<0:c>0))return qr(t,u,e,n,r)}var f=s.find(n<0?-1:1);return(n<0?s.inclusiveLeft:s.inclusiveRight)&&(f=Ar(t,f,n,f.line==e.line?o:null)),f?qr(t,f,e,n,r):null}}return e}function Cr(t,e,i,n,r){var o=n||1,l=qr(t,e,i,o,r)||!r&&qr(t,e,i,o,!0)||qr(t,e,i,-o,r)||!r&&qr(t,e,i,-o,!0);return l||(t.cantEdit=!0,N(t.first,0))}function Ar(t,e,i,n){return i<0&&0==e.ch?e.line>t.first?H(t,N(e.line-1)):null:i>0&&e.ch==(n||S(t,e.line)).text.length?e.line<t.first+t.size-1?N(e.line+1,0):null:new N(e.line,e.ch+i)}function Sr(t){t.setSelection(N(t.firstLine(),0),N(t.lastLine()),jl)}function Or(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(e,i,r,o){e&&(n.from=H(t,e)),i&&(n.to=H(t,i)),r&&(n.text=r),void 0!==o&&(n.origin=o)}),Et(t,"beforeChange",t,n),t.cm&&Et(t.cm,"beforeChange",t.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Tr(t,e,i){if(t.cm){if(!t.cm.curOp)return hn(t.cm,Tr)(t,e,i);if(t.cm.state.suppressEdits)return}if(!(Dt(t,"beforeChange")||t.cm&&Dt(t.cm,"beforeChange"))||(e=Or(t,e,!0))){var n=Wl&&!i&&et(t,e.from,e.to);if(n)for(var r=n.length-1;r>=0;--r)Er(t,{from:n[r].from,to:n[r].to,text:r?[""]:e.text});else Er(t,e)}}function Er(t,e){if(1!=e.text.length||""!=e.text[0]||0!=I(e.from,e.to)){var i=Hn(t,e);nr(t,e,i,t.cm?t.cm.curOp.id:NaN),Dr(t,e,i,Q(t,e));var n=[];Zn(t,function(t,i){i||-1!=d(n,t.history)||(Fr(t.history,e),n.push(t.history)),Dr(t,e,null,Q(t,e))})}}function Mr(t,e,i){if(!t.cm||!t.cm.state.suppressEdits||i){for(var n,r=t.history,o=t.sel,l="undo"==e?r.done:r.undone,a="undo"==e?r.undone:r.done,s=0;s<l.length&&(n=l[s],i?!n.ranges||n.equals(t.sel):n.ranges);s++);if(s!=l.length){for(r.lastOrigin=r.lastSelOrigin=null;n=l.pop(),n.ranges;){if(lr(n,a),i&&!n.equals(t.sel))return void yr(t,n,{clearRedo:!1});o=n}var u=[];lr(o,a),a.push({changes:u,generation:r.generation}),r.generation=n.generation||++r.maxGeneration;for(var c=Dt(t,"beforeChange")||t.cm&&Dt(t.cm,"beforeChange"),f=n.changes.length-1;f>=0;--f){var h=function(i){var r=n.changes[i];if(r.origin=e,c&&!Or(t,r,!1))return l.length=0,{};u.push(tr(t,r));var o=i?Hn(t,r):m(l);Dr(t,r,o,cr(t,r)),!i&&t.cm&&t.cm.scrollIntoView({from:r.from,to:zn(r)});var a=[];Zn(t,function(t,e){e||-1!=d(a,t.history)||(Fr(t.history,r),a.push(t.history)),Dr(t,r,null,cr(t,r))})}(f);if(h)return h.v}}}}function Lr(t,e){if(0!=e&&(t.first+=e,t.sel=new wa(g(t.sel.ranges,function(t){return new ka(N(t.anchor.line+e,t.anchor.ch),N(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){gn(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)vn(t.cm,n,"gutter")}}function Dr(t,e,i,n){if(t.cm&&!t.cm.curOp)return hn(t.cm,Dr)(t,e,i,n);if(e.to.line<t.first)return void Lr(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Lr(t,r),e={from:N(t.first,0),to:N(e.to.line+r,e.to.ch),text:[m(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:N(o,S(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=O(t,e.from,e.to),i||(i=Hn(t,e)),t.cm?Pr(t.cm,e,n):Kn(t,e,n),xr(t,i,jl)}}function Pr(t,e,i){var n=t.doc,r=t.display,o=e.from,l=e.to,a=!1,s=o.line;t.options.lineWrapping||(s=M(ft(S(n,o.line))),n.iter(s,l.line+1,function(t){if(t==r.maxLine)return a=!0,!0})),n.sel.contains(e.from,e.to)>-1&&Lt(t),Kn(n,e,i,ki(t)),t.options.lineWrapping||(n.iter(s,o.line+e.text.length,function(t){var e=yt(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,a=!1)}),a&&(t.curOp.updateMaxLine=!0)),se(n,o.line),kn(t,400);var u=e.text.length-(l.line-o.line)-1;e.full?gn(t):o.line!=l.line||1!=e.text.length||Yn(t.doc,e)?gn(t,o.line,l.line+1,u):vn(t,o.line,"text");var c=Dt(t,"changes"),f=Dt(t,"change");if(f||c){var d={from:o,to:l,text:e.text,removed:e.removed,origin:e.origin};f&&qe(t,"change",t,d),c&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(d)}t.display.selForContextMenu=null}function Nr(t,e,i,n,r){if(n||(n=i),I(n,i)<0){var o=n;n=i,i=o}"string"==typeof e&&(e=t.splitLines(e)),Tr(t,{from:i,to:n,text:e,origin:r})}function Ir(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function jr(t,e,i,n){for(var r=0;r<t.length;++r){var o=t[r],l=!0;if(o.ranges){o.copied||(o=t[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)Ir(o.ranges[a].anchor,e,i,n),Ir(o.ranges[a].head,e,i,n)}else{for(var s=0;s<o.changes.length;++s){var u=o.changes[s];if(i<u.from.line)u.from=N(u.from.line+n,u.from.ch),u.to=N(u.to.line+n,u.to.ch);else if(e<=u.to.line){l=!1;break}}l||(t.splice(0,r+1),r=0)}}}function Fr(t,e){var i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-1;jr(t.done,i,n,r),jr(t.undone,i,n,r)}function Rr(t,e,i,n){var r=e,o=e;return"number"==typeof e?o=S(t,B(t,e)):r=M(e),null==r?null:(n(o,r)&&t.cm&&vn(t.cm,r,i),o)}function zr(t){var e=this;this.lines=t,this.parent=null;for(var i=0,n=0;n<t.length;++n)t[n].parent=e,i+=t[n].height;this.height=i}function Br(t){var e=this;this.children=t;for(var i=0,n=0,r=0;r<t.length;++r){var o=t[r];i+=o.chunkSize(),n+=o.height,o.parent=e}this.size=i,this.height=n,this.parent=null}function Hr(t,e,i){bt(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Ui(t,i)}function Wr(t,e,i,n){var r=new _a(t,i,n),o=t.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Rr(t,e,"widget",function(e){var i=e.widgets||(e.widgets=[]);if(null==r.insertAt?i.push(r):i.splice(Math.min(i.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!gt(t,e)){var n=bt(e)<t.scrollTop;E(e,e.height+Fe(r)),n&&Ui(o,r.height),o.curOp.forceUpdate=!0}return!0}),qe(o,"lineWidgetAdded",o,r,"number"==typeof e?e:M(e)),r}function Ur(t,e,i,n,o){if(n&&n.shared)return $r(t,e,i,n,o);if(t.cm&&!t.cm.curOp)return hn(t.cm,Ur)(t,e,i,n,o);var l=new Ca(t,o),a=I(e,i);if(n&&c(n,l,!1),a>0||0==a&&!1!==l.clearWhenEmpty)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=r("span",[l.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(ct(t,e.line,e,i,l)||e.line!=i.line&&ct(t,i.line,e,i,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");V()}l.addToHistory&&nr(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var s,u=e.line,f=t.cm;if(t.iter(u,i.line+1,function(t){f&&l.collapsed&&!f.options.lineWrapping&&ft(t)==f.display.maxLine&&(s=!0),l.collapsed&&u!=e.line&&E(t,0),X(t,new Y(l,u==e.line?e.ch:null,u==i.line?i.ch:null)),++u}),l.collapsed&&t.iter(e.line,i.line+1,function(e){gt(t,e)&&E(e,0)}),l.clearOnEnter&&Kl(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&($(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),l.collapsed&&(l.id=++qa,l.atomic=!0),f){if(s&&(f.curOp.updateMaxLine=!0),l.collapsed)gn(f,e.line,i.line+1);else if(l.className||l.title||l.startStyle||l.endStyle||l.css)for(var d=e.line;d<=i.line;d++)vn(f,d,"text");l.atomic&&kr(f.doc),qe(f,"markerAdded",f,l)}return l}function $r(t,e,i,n,r){n=c(n),n.shared=!1;var o=[Ur(t,e,i,n,r)],l=o[0],a=n.widgetNode;return Zn(t,function(t){a&&(n.widgetNode=a.cloneNode(!0)),o.push(Ur(t,H(t,e),H(t,i),n,r));for(var s=0;s<t.linked.length;++s)if(t.linked[s].isParent)return;l=m(o)}),new Aa(o,l)}function Vr(t){return t.findMarks(N(t.first,0),t.clipPos(N(t.lastLine())),function(t){return t.parent})}function Yr(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=n.find(),o=t.clipPos(r.from),l=t.clipPos(r.to);if(I(o,l)){var a=Ur(t,o,l,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}function Kr(t){for(var e=0;e<t.length;e++)!function(e){var i=t[e],n=[i.primary.doc];Zn(i.primary.doc,function(t){return n.push(t)});for(var r=0;r<i.markers.length;r++){var o=i.markers[r];-1==d(n,o.doc)&&(o.parent=null,i.markers.splice(r--,1))}}(e)}function Zr(t){var e=this;if(Gr(e),!Mt(e,t)&&!Re(e.display,t)){Nt(t),fl&&(Ta=+new Date);var i=qi(e,t,!0),n=t.dataTransfer.files;if(i&&!e.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,o=Array(r),l=0,a=0;a<r;++a)!function(t,n){if(!e.options.allowDropFileTypes||-1!=d(e.options.allowDropFileTypes,t.type)){var a=new FileReader;a.onload=hn(e,function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[n]=t,++l==r){i=H(e.doc,i);var s={from:i,to:i,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};Tr(e.doc,s),br(e.doc,Rn(i,zn(s)))}}),a.readAsText(t)}}(n[a],a);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var s=t.dataTransfer.getData("Text");if(s){var u;if(e.state.draggingText&&!e.state.draggingText.copy&&(u=e.listSelections()),xr(e.doc,Rn(i,i)),u)for(var c=0;c<u.length;++c)Nr(e.doc,"",u[c].anchor,u[c].head,"drag");e.replaceSelection(s,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Xr(t,e){if(fl&&(!t.state.draggingText||+new Date-Ta<100))return void Ft(e);if(!Mt(t,e)&&!Re(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!vl)){var i=n("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",gl&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),gl&&i.parentNode.removeChild(i)}}function Jr(t,e){var r=qi(t,e);if(r){var o=document.createDocumentFragment();Oi(t,r,o),t.display.dragCursor||(t.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),i(t.display.dragCursor,o)}}function Gr(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Qr(t){if(document.getElementsByClassName)for(var e=document.getElementsByClassName("CodeMirror"),i=0;i<e.length;i++){var n=e[i].CodeMirror;n&&t(n)}}function to(){Ea||(eo(),Ea=!0)}function eo(){var t;Kl(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Qr(io)},100))}),Kl(window,"blur",function(){return Qr(Pi)})}function io(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function no(t){var e=t.split(/-(?!$)/);t=e[e.length-1];for(var i,n,r,o,l=0;l<e.length-1;l++){var a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))i=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return i&&(t="Alt-"+t),n&&(t="Ctrl-"+t),o&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function ro(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete t[i];continue}for(var r=g(i.split(" "),no),o=0;o<r.length;o++){var l=void 0,a=void 0;o==r.length-1?(a=r.join(" "),l=n):(a=r.slice(0,o+1).join(" "),l="...");var s=e[a];if(s){if(s!=l)throw new Error("Inconsistent bindings for "+a)}else e[a]=l}delete t[i]}for(var u in e)t[u]=e[u];return t}function oo(t,e,i,n){e=uo(e);var r=e.call?e.call(t,n):e[t];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return oo(t,e.fallthrough,i,n);for(var o=0;o<e.fallthrough.length;o++){var l=oo(t,e.fallthrough[o],i,n);if(l)return l}}}function lo(t){var e="string"==typeof t?t:Ma[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function ao(t,e,i){var n=t;return e.altKey&&"Alt"!=n&&(t="Alt-"+t),(Ol?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(t="Ctrl-"+t),(Ol?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(t="Cmd-"+t),!i&&e.shiftKey&&"Shift"!=n&&(t="Shift-"+t),t}function so(t,e){if(gl&&34==t.keyCode&&t.char)return!1;var i=Ma[t.keyCode];return null!=i&&!t.altGraphKey&&ao(i,t,e)}function uo(t){return"string"==typeof t?Na[t]:t}function co(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var o=e(i[r]);n.length&&I(o.from,m(n).to)<=0;){var l=n.pop();if(I(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}dn(t,function(){for(var e=n.length-1;e>=0;e--)Nr(t.doc,"",n[e].from,n[e].to,"+delete");$i(t)})}function fo(t,e){var i=S(t.doc,e),n=ft(i);return n!=i&&(e=M(n)),At(!0,t,n,e,1)}function ho(t,e){var i=S(t.doc,e),n=dt(i);return n!=i&&(e=M(n)),At(!0,t,i,e,-1)}function po(t,e){var i=fo(t,e.line),n=S(t.doc,i.line),r=_t(n,t.doc.direction);if(!r||0==r[0].level){var o=Math.max(0,n.text.search(/\S/)),l=e.line==i.line&&e.ch<=o&&e.ch;return N(i.line,l?0:o,i.sticky)}return i}function mo(t,e,i){if("string"==typeof e&&!(e=Ia[e]))return!1;t.display.input.ensurePolled();var n=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),r=e(t)!=Il}finally{t.display.shift=n,t.state.suppressEdits=!1}return r}function go(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var r=oo(e,t.state.keyMaps[n],i,t);if(r)return r}return t.options.extraKeys&&oo(e,t.options.extraKeys,i,t)||oo(e,t.options.keyMap,i,t)}function vo(t,e,i,n){var r=t.state.keySeq;if(r){if(lo(e))return"handled";ja.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),e=r+" "+e}var o=go(t,e,n);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&qe(t,"keyHandled",t,e,i),"handled"!=o&&"multi"!=o||(Nt(i),Ei(t)),r&&!o&&/\'$/.test(e)?(Nt(i),!0):!!o}function bo(t,e){var i=so(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?vo(t,"Shift-"+i,e,function(e){return mo(t,e,!0)})||vo(t,i,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return mo(t,e)}):vo(t,i,e,function(e){return mo(t,e)}))}function yo(t,e,i){return vo(t,"'"+i+"'",e,function(e){return mo(t,e,!0)})}function xo(t){var e=this;if(e.curOp.focus=l(),!Mt(e,t)){fl&&dl<11&&27==t.keyCode&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=16==i||t.shiftKey;var n=bo(e,t);gl&&(Fa=n?i:null,!n&&88==i&&!Gl&&(_l?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||wo(e)}}function wo(t){function e(t){18!=t.keyCode&&t.altKey||(El(i,"CodeMirror-crosshair"),Tt(document,"keyup",e),Tt(document,"mouseover",e))}var i=t.display.lineDiv;a(i,"CodeMirror-crosshair"),Kl(document,"keyup",e),Kl(document,"mouseover",e)}function ko(t){16==t.keyCode&&(this.doc.sel.shift=!1),Mt(this,t)}function _o(t){var e=this;if(!(Re(e.display,t)||Mt(e,t)||t.ctrlKey&&!t.altKey||_l&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(gl&&i==Fa)return Fa=null,void Nt(t);if(!gl||t.which&&!(t.which<10)||!bo(e,t)){var r=String.fromCharCode(null==n?i:n);"\b"!=r&&(yo(e,t,r)||e.display.input.onKeyPress(t))}}}function qo(t,e){var i=+new Date;return Ba&&Ba.compare(i,t,e)?(za=Ba=null,"triple"):za&&za.compare(i,t,e)?(Ba=new Ra(i,t,e),za=null,"double"):(za=new Ra(i,t,e),Ba=null,"single")}function Co(t){var e=this,i=e.display;if(!(Mt(e,t)||i.activeTouch&&i.input.supportsTouch())){if(i.input.ensurePolled(),i.shift=t.shiftKey,Re(i,t))return void(hl||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100)));if(!Do(e,t)){var n=qi(e,t),r=zt(t),o=n?qo(n,r):"single";window.focus(),1==r&&e.state.selectingText&&e.state.selectingText(t),n&&Ao(e,r,n,o,t)||(1==r?n?Oo(e,n,o,t):Rt(t)==i.scroller&&Nt(t):2==r?(n&&hr(e.doc,n),setTimeout(function(){return i.input.focus()},20)):3==r&&(Tl?Po(e,t):Li(e)))}}}function Ao(t,e,i,n,r){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),o=(1==e?"Left":2==e?"Middle":"Right")+o,vo(t,ao(o,r),r,function(e){if("string"==typeof e&&(e=Ia[e]),!e)return!1;var n=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n=e(t,i)!=Il}finally{t.state.suppressEdits=!1}return n})}function So(t,e,i){var n=t.getOption("configureMouse"),r=n?n(t,e,i):{};if(null==r.unit){var o=ql?i.shiftKey&&i.metaKey:i.altKey;r.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==r.extend||t.doc.extend)&&(r.extend=t.doc.extend||i.shiftKey),null==r.addNew&&(r.addNew=_l?i.metaKey:i.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(_l?i.altKey:i.ctrlKey)),r}function Oo(t,e,i,n){fl?setTimeout(u(Mi,t),0):t.curOp.focus=l();var r,o=So(t,i,n),a=t.doc.sel;t.options.dragDrop&&Zl&&!t.isReadOnly()&&"single"==i&&(r=a.contains(e))>-1&&(I((r=a.ranges[r]).from(),e)<0||e.xRel>0)&&(I(r.to(),e)>0||e.xRel<0)?To(t,n,e,o):Mo(t,n,e,o)}function To(t,e,i,n){var r=t.display,o=!1,l=hn(t,function(e){hl&&(r.scroller.draggable=!1),t.state.draggingText=!1,Tt(document,"mouseup",l),Tt(document,"mousemove",a),Tt(r.scroller,"dragstart",s),Tt(r.scroller,"drop",l),o||(Nt(e),n.addNew||hr(t.doc,i,null,null,n.extend),hl||fl&&9==dl?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())}),a=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},s=function(){return o=!0};hl&&(r.scroller.draggable=!0),t.state.draggingText=l,l.copy=!n.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop(),Kl(document,"mouseup",l),Kl(document,"mousemove",a),Kl(r.scroller,"dragstart",s),Kl(r.scroller,"drop",l),Li(t),setTimeout(function(){return r.input.focus()},20)}function Eo(t,e,i){if("char"==i)return new ka(e,e);if("word"==i)return t.findWordAt(e);if("line"==i)return new ka(N(e.line,0),H(t.doc,N(e.line+1,0)));var n=i(t,e);return new ka(n.from,n.to)}function Mo(t,e,i,n){function r(e){if(0!=I(v,e))if(v=e,"rectangle"==n.unit){for(var r=[],o=t.options.tabSize,l=f(S(u,i.line).text,i.ch,o),a=f(S(u,e.line).text,e.ch,o),s=Math.min(l,a),m=Math.max(l,a),g=Math.min(i.line,e.line),b=Math.min(t.lastLine(),Math.max(i.line,e.line));g<=b;g++){var y=S(u,g).text,x=h(y,s,o);s==m?r.push(new ka(N(g,x),N(g,x))):y.length>x&&r.push(new ka(N(g,x),N(g,h(y,m,o))))}r.length||r.push(new ka(i,i)),yr(u,Fn(p.ranges.slice(0,d).concat(r),d),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var w,k=c,_=Eo(t,e,n.unit),q=k.anchor;I(_.anchor,q)>0?(w=_.head,q=z(k.from(),_.anchor)):(w=_.anchor,q=R(k.to(),_.head));var C=p.ranges.slice(0);C[d]=new ka(H(u,q),w),yr(u,Fn(C,d),Fl)}}function o(e){var i=++y,a=qi(t,e,!0,"rectangle"==n.unit);if(a)if(0!=I(a,v)){t.curOp.focus=l(),r(a);var c=ji(s,u);(a.line>=c.to||a.line<c.from)&&setTimeout(hn(t,function(){y==i&&o(e)}),150)}else{var f=e.clientY<b.top?-20:e.clientY>b.bottom?20:0;f&&setTimeout(hn(t,function(){y==i&&(s.scroller.scrollTop+=f,o(e))}),50)}}function a(e){t.state.selectingText=!1,y=1/0,Nt(e),s.input.focus(),Tt(document,"mousemove",x),Tt(document,"mouseup",w),u.history.lastSelOrigin=null}var s=t.display,u=t.doc;Nt(e);var c,d,p=u.sel,m=p.ranges;if(n.addNew&&!n.extend?(d=u.sel.contains(i),c=d>-1?m[d]:new ka(i,i)):(c=u.sel.primary(),d=u.sel.primIndex),"rectangle"==n.unit)n.addNew||(c=new ka(i,i)),i=qi(t,e,!0,!0),d=-1;else{var g=Eo(t,i,n.unit);c=n.extend?dr(c,g.anchor,g.head,n.extend):g}n.addNew?-1==d?(d=m.length,yr(u,Fn(m.concat([c]),d),{scroll:!1,origin:"*mouse"})):m.length>1&&m[d].empty()&&"char"==n.unit&&!n.extend?(yr(u,Fn(m.slice(0,d).concat(m.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),p=u.sel):mr(u,d,c,Fl):(d=0,yr(u,new wa([c],0),Fl),p=u.sel);var v=i,b=s.wrapper.getBoundingClientRect(),y=0,x=hn(t,function(t){zt(t)?o(t):a(t)}),w=hn(t,a);t.state.selectingText=w,Kl(document,"mousemove",x),Kl(document,"mouseup",w)}function Lo(t,e,i,n){var r,o;try{r=e.clientX,o=e.clientY}catch(e){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&Nt(e);var l=t.display,a=l.lineDiv.getBoundingClientRect();if(o>a.bottom||!Dt(t,i))return jt(e);o-=a.top-l.viewOffset;for(var s=0;s<t.options.gutters.length;++s){var u=l.gutters.childNodes[s];if(u&&u.getBoundingClientRect().right>=r){return Et(t,i,t,L(t.doc,o),t.options.gutters[s],e),jt(e)}}}function Do(t,e){return Lo(t,e,"gutterClick",!0)}function Po(t,e){Re(t.display,e)||No(t,e)||Mt(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function No(t,e){return!!Dt(t,"gutterContextMenu")&&Lo(t,e,"gutterContextMenu",!1)}function Io(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),oi(t)}function jo(t){Dn(t),gn(t),Fi(t)}function Fo(t,e,i){if(!e!=!(i&&i!=Ha)){var n=t.display.dragFunctions,r=e?Kl:Tt;r(t.display.scroller,"dragstart",n.start),r(t.display.scroller,"dragenter",n.enter),r(t.display.scroller,"dragover",n.over),r(t.display.scroller,"dragleave",n.leave),r(t.display.scroller,"drop",n.drop)}}function Ro(t){t.options.lineWrapping?(a(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(El(t.display.wrapper,"CodeMirror-wrap"),xt(t)),_i(t),gn(t),oi(t),setTimeout(function(){return tn(t)},100)}function zo(t,e){var i=this;if(!(this instanceof zo))return new zo(t,e);this.options=e=e?c(e):{},c(Wa,e,!1),Pn(e);var n=e.value;"string"==typeof n&&(n=new Oa(n,e.mode,null,e.lineSeparator,e.direction)),this.doc=n;var r=new zo.inputStyles[e.inputStyle](this),o=this.display=new A(t,n,r);o.wrapper.CodeMirror=this,Dn(this),Io(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),nn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ll,keySeq:null,specialChars:null},e.autofocus&&!kl&&o.input.focus(),fl&&dl<11&&setTimeout(function(){return i.display.input.reset(!0)},20),Bo(this),to(),rn(this),this.curOp.forceUpdate=!0,Xn(this,n),e.autofocus&&!kl||this.hasFocus()?setTimeout(u(Di,this),20):Pi(this);for(var l in Ua)Ua.hasOwnProperty(l)&&Ua[l](i,e[l],Ha);Ri(this),e.finishInit&&e.finishInit(this);for(var a=0;a<$a.length;++a)$a[a](i);on(this),hl&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Bo(t){function e(){r.activeTouch&&(o=setTimeout(function(){return r.activeTouch=null},1e3),l=r.activeTouch,l.end=+new Date)}function i(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function n(t,e){if(null==e.left)return!0;var i=e.left-t.left,n=e.top-t.top;return i*i+n*n>400}var r=t.display;Kl(r.scroller,"mousedown",hn(t,Co)),fl&&dl<11?Kl(r.scroller,"dblclick",hn(t,function(e){if(!Mt(t,e)){var i=qi(t,e);if(i&&!Do(t,e)&&!Re(t.display,e)){Nt(e);var n=t.findWordAt(i);hr(t.doc,n.anchor,n.head)}}})):Kl(r.scroller,"dblclick",function(e){return Mt(t,e)||Nt(e)}),Tl||Kl(r.scroller,"contextmenu",function(e){return Po(t,e)});var o,l={end:0};Kl(r.scroller,"touchstart",function(e){if(!Mt(t,e)&&!i(e)){r.input.ensurePolled(),clearTimeout(o);var n=+new Date;r.activeTouch={start:n,moved:!1,prev:n-l.end<=300?l:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY)}}),Kl(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Kl(r.scroller,"touchend",function(i){var o=r.activeTouch;if(o&&!Re(r,i)&&null!=o.left&&!o.moved&&new Date-o.start<300){var l,a=t.coordsChar(r.activeTouch,"page");l=!o.prev||n(o,o.prev)?new ka(a,a):!o.prev.prev||n(o,o.prev.prev)?t.findWordAt(a):new ka(N(a.line,0),H(t.doc,N(a.line+1,0))),t.setSelection(l.anchor,l.head),t.focus(),Nt(i)}e()}),Kl(r.scroller,"touchcancel",e),Kl(r.scroller,"scroll",function(){r.scroller.clientHeight&&(Xi(t,r.scroller.scrollTop),Gi(t,r.scroller.scrollLeft,!0),Et(t,"scroll",t))}),Kl(r.scroller,"mousewheel",function(e){return jn(t,e)}),Kl(r.scroller,"DOMMouseScroll",function(e){return jn(t,e)}),Kl(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(e){Mt(t,e)||Ft(e)},over:function(e){Mt(t,e)||(Jr(t,e),Ft(e))},start:function(e){return Xr(t,e)},drop:hn(t,Zr),leave:function(e){Mt(t,e)||Gr(t)}};var a=r.input.getField();Kl(a,"keyup",function(e){return ko.call(t,e)}),Kl(a,"keydown",hn(t,xo)),Kl(a,"keypress",hn(t,_o)),Kl(a,"focus",function(e){return Di(t,e)}),Kl(a,"blur",function(e){return Pi(t,e)})}function Ho(t,e,i,n){var r,o=t.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?r=te(t,e).state:i="prev");var l=t.options.tabSize,a=S(o,e),s=f(a.text,null,l);a.stateAfter&&(a.stateAfter=null);var u,c=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&((u=o.mode.indent(r,a.text.slice(c.length),a.text))==Il||u>150)){if(!n)return;i="prev"}}else u=0,i="not";"prev"==i?u=e>o.first?f(S(o,e-1).text,null,l):0:"add"==i?u=s+t.options.indentUnit:"subtract"==i?u=s-t.options.indentUnit:"number"==typeof i&&(u=s+i),u=Math.max(0,u);var d="",h=0;if(t.options.indentWithTabs)for(var m=Math.floor(u/l);m;--m)h+=l,d+="\t";if(h<u&&(d+=p(u-h)),d!=c)return Nr(o,d,N(e,0),N(e,c.length),"+input"),a.stateAfter=null,!0;for(var g=0;g<o.sel.ranges.length;g++){var v=o.sel.ranges[g];if(v.head.line==e&&v.head.ch<c.length){var b=N(e,c.length);mr(o,g,new ka(b,b));break}}}function Wo(t){Va=t}function Uo(t,e,i,n,r){var o=t.doc;t.display.shift=!1,n||(n=o.sel);var l=t.state.pasteIncoming||"paste"==r,a=Xl(e),s=null;if(l&&n.ranges.length>1)if(Va&&Va.text.join("\n")==e){if(n.ranges.length%Va.text.length==0){s=[];for(var u=0;u<Va.text.length;u++)s.push(o.splitLines(Va.text[u]))}}else a.length==n.ranges.length&&t.options.pasteLinesPerSelection&&(s=g(a,function(t){return[t]}));for(var c,f=n.ranges.length-1;f>=0;f--){var d=n.ranges[f],h=d.from(),p=d.to();d.empty()&&(i&&i>0?h=N(h.line,h.ch-i):t.state.overwrite&&!l?p=N(p.line,Math.min(S(o,p.line).text.length,p.ch+m(a).length)):Va&&Va.lineWise&&Va.text.join("\n")==e&&(h=p=N(h.line,0))),c=t.curOp.updateInput;var v={from:h,to:p,text:s?s[f%s.length]:a,origin:r||(l?"paste":t.state.cutIncoming?"cut":"+input")};Tr(t.doc,v),qe(t,"inputRead",t,v)}e&&!l&&Vo(t,e),$i(t),t.curOp.updateInput=c,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function $o(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||dn(e,function(){return Uo(e,i,0,null,"paste")}),!0}function Vo(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var o=t.getModeAt(r.head),l=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){l=Ho(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(S(t.doc,r.head.line).text.slice(0,r.head.ch))&&(l=Ho(t,r.head.line,"smart"));l&&qe(t,"electricInput",t,r.head.line)}}}function Yo(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var r=t.doc.sel.ranges[n].head.line,o={anchor:N(r,0),head:N(r+1,0)};i.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:i}}function Ko(t,e){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck",!!e)}function Zo(){var t=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=n("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return hl?t.style.width="1000px":t.setAttribute("wrap","off"),xl&&(t.style.border="1px solid black"),Ko(t),e}function Xo(t,e,i,n,r){function o(){var n=e.line+i;return!(n<t.first||n>=t.first+t.size)&&(e=new N(n,e.ch,e.sticky),u=S(t,n))}function l(n){var l;if(null==(l=r?St(t.cm,u,e,i):Ct(u,e,i))){if(n||!o())return!1;e=At(r,t.cm,u,e.line,i)}else e=l;return!0}var a=e,s=i,u=S(t,e.line);if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var c=null,f="group"==n,d=t.cm&&t.cm.getHelper(e,"wordChars"),h=!0;!(i<0)||l(!h);h=!1){var p=u.text.charAt(e.ch)||"\n",m=w(p,d)?"w":f&&"\n"==p?"n":!f||/\s/.test(p)?null:"p";if(!f||h||m||(m="s"),c&&c!=m){i<0&&(i=1,l(),e.sticky="after");break}if(m&&(c=m),i>0&&!l(!h))break}var g=Cr(t,e,a,s,!0);return j(a,g)&&(g.hitSide=!0),g}function Jo(t,e,i,n){var r,o=t.doc,l=e.left;if("page"==n){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),s=Math.max(a-.5*bi(t.display),3);r=(i>0?e.bottom:e.top)+i*s}else"line"==n&&(r=i>0?e.bottom+3:e.top-3);for(var u;u=pi(t,l,r),u.outside;){if(i<0?r<=0:r>=o.height){u.hitSide=!0;break}r+=5*i}return u}function Go(t,e){var i=Xe(t,e.line);if(!i||i.hidden)return null;var n=S(t.doc,e.line),r=Ye(i,n,e.line),o=_t(n,t.doc.direction),l="left";if(o){l=kt(o,e.ch)%2?"right":"left"}var a=Qe(r.map,e.ch,l);return a.offset="right"==a.collapse?a.end:a.start,a}function Qo(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function tl(t,e){return e&&(t.bad=!0),t}function el(t,e,i,n,r){function o(t){return function(e){return e.id==t}}function l(){c&&(u+=f,c=!1)}function a(t){t&&(l(),u+=t)}function s(e){if(1==e.nodeType){var i=e.getAttribute("cm-text");if(null!=i)return void a(i||e.textContent.replace(/\u200b/g,""));var u,d=e.getAttribute("cm-marker");if(d){var h=t.findMarks(N(n,0),N(r+1,0),o(+d));return void(h.length&&(u=h[0].find())&&a(O(t.doc,u.from,u.to).join(f)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(e.nodeName);p&&l();for(var m=0;m<e.childNodes.length;m++)s(e.childNodes[m]);p&&(c=!0)}else 3==e.nodeType&&a(e.nodeValue)}for(var u="",c=!1,f=t.doc.lineSeparator();s(e),e!=i;)e=e.nextSibling;return u}function il(t,e,i){var n;if(e==t.display.lineDiv){if(!(n=t.display.lineDiv.childNodes[i]))return tl(t.clipPos(N(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==n)return nl(o,e,i)}}function nl(t,e,i){function n(e,i,n){for(var r=-1;r<(f?f.length:0);r++)for(var o=r<0?c.map:f[r],l=0;l<o.length;l+=3){var a=o[l+2];if(a==e||a==i){var s=M(r<0?t.line:t.rest[r]),u=o[l]+n;return(n<0||a!=e)&&(u=o[l+(n?1:0)]),N(s,u)}}}var r=t.text.firstChild,l=!1;if(!e||!o(r,e))return tl(N(M(t.line),0),!0);if(e==r&&(l=!0,e=r.childNodes[i],i=0,!e)){var a=t.rest?m(t.rest):t.line;return tl(N(M(a),a.text.length),l)}var s=3==e.nodeType?e:null,u=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,i&&(i=s.nodeValue.length));u.parentNode!=r;)u=u.parentNode;var c=t.measure,f=c.maps,d=n(s,u,i);if(d)return tl(d,l);for(var h=u.nextSibling,p=s?s.nodeValue.length-i:0;h;h=h.nextSibling){if(d=n(h,h.firstChild,0))return tl(N(d.line,d.ch-p),l);p+=h.textContent.length}for(var g=u.previousSibling,v=i;g;g=g.previousSibling){if(d=n(g,g.firstChild,-1))return tl(N(d.line,d.ch+v),l);v+=g.textContent.length}}function rl(t,e){function i(){t.value=s.getValue()}if(e=e?c(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=l();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}var r;if(t.form&&(Kl(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var o=t.form;r=o.submit;try{var a=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=a}}catch(t){}}e.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Tt(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=r))}},t.style.display="none";var s=zo(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return s}var ol=navigator.userAgent,ll=navigator.platform,al=/gecko\/\d/i.test(ol),sl=/MSIE \d/.test(ol),ul=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ol),cl=/Edge\/(\d+)/.exec(ol),fl=sl||ul||cl,dl=fl&&(sl?document.documentMode||6:+(cl||ul)[1]),hl=!cl&&/WebKit\//.test(ol),pl=hl&&/Qt\/\d+\.\d+/.test(ol),ml=!cl&&/Chrome\//.test(ol),gl=/Opera\//.test(ol),vl=/Apple Computer/.test(navigator.vendor),bl=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ol),yl=/PhantomJS/.test(ol),xl=!cl&&/AppleWebKit/.test(ol)&&/Mobile\/\w+/.test(ol),wl=/Android/.test(ol),kl=xl||wl||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ol),_l=xl||/Mac/.test(ll),ql=/\bCrOS\b/.test(ol),Cl=/win/i.test(ll),Al=gl&&ol.match(/Version\/(\d*\.\d*)/);Al&&(Al=Number(Al[1])),Al&&Al>=15&&(gl=!1,hl=!0);var Sl,Ol=_l&&(pl||gl&&(null==Al||Al<12.11)),Tl=al||fl&&dl>=9,El=function(e,i){var n=e.className,r=t(i).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};Sl=document.createRange?function(t,e,i,n){var r=document.createRange();return r.setEnd(n||t,i),r.setStart(t,e),r}:function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch(t){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};var Ml=function(t){t.select()};xl?Ml=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:fl&&(Ml=function(t){try{t.select()}catch(t){}});var Ll=function(){this.id=null};Ll.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Dl,Pl,Nl=30,Il={toString:function(){return"CodeMirror.Pass"}},jl={scroll:!1},Fl={origin:"*mouse"},Rl={origin:"+move"},zl=[""],Bl=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Hl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Wl=!1,Ul=!1,$l=null,Vl=function(){function t(t){return t<=247?i.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1785?n.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function e(t,e,i){this.level=t,this.from=e,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,a=/[Lb1n]/,s=/[1n]/;return function(i,n){var u="ltr"==n?"L":"R";if(0==i.length||"ltr"==n&&!r.test(i))return!1;for(var c=i.length,f=[],d=0;d<c;++d)f.push(t(i.charCodeAt(d)));for(var h=0,p=u;h<c;++h){var g=f[h];"m"==g?f[h]=p:p=g}for(var v=0,b=u;v<c;++v){var y=f[v];"1"==y&&"r"==b?f[v]="n":l.test(y)&&(b=y,"r"==y&&(f[v]="R"))}for(var x=1,w=f[0];x<c-1;++x){var k=f[x];"+"==k&&"1"==w&&"1"==f[x+1]?f[x]="1":","!=k||w!=f[x+1]||"1"!=w&&"n"!=w||(f[x]=w),w=k}for(var _=0;_<c;++_){var q=f[_];if(","==q)f[_]="N";else if("%"==q){var C=void 0;for(C=_+1;C<c&&"%"==f[C];++C);for(var A=_&&"!"==f[_-1]||C<c&&"1"==f[C]?"1":"N",S=_;S<C;++S)f[S]=A;_=C-1}}for(var O=0,T=u;O<c;++O){var E=f[O];"L"==T&&"1"==E?f[O]="L":l.test(E)&&(T=E)}for(var M=0;M<c;++M)if(o.test(f[M])){var L=void 0;for(L=M+1;L<c&&o.test(f[L]);++L);for(var D="L"==(M?f[M-1]:u),P="L"==(L<c?f[L]:u),N=D==P?D?"L":"R":u,I=M;I<L;++I)f[I]=N;M=L-1}for(var j,F=[],R=0;R<c;)if(a.test(f[R])){var z=R;for(++R;R<c&&a.test(f[R]);++R);F.push(new e(0,z,R))}else{var B=R,H=F.length;for(++R;R<c&&"L"!=f[R];++R);for(var W=B;W<R;)if(s.test(f[W])){B<W&&F.splice(H,0,new e(1,B,W));var U=W;for(++W;W<R&&s.test(f[W]);++W);F.splice(H,0,new e(2,U,W)),B=W}else++W;B<R&&F.splice(H,0,new e(1,B,R))}return 1==F[0].level&&(j=i.match(/^\s+/))&&(F[0].from=j[0].length,F.unshift(new e(0,0,j[0].length))),1==m(F).level&&(j=i.match(/\s+$/))&&(m(F).to-=j[0].length,F.push(new e(0,c-j[0].length,c))),"rtl"==n?F.reverse():F}}(),Yl=[],Kl=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||Yl).concat(i)}},Zl=function(){if(fl&&dl<9)return!1;var t=n("div");return"draggable"in t||"dragDrop"in t}(),Xl=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,i=[],n=t.length;e<=n;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),l=o.indexOf("\r");-1!=l?(i.push(o.slice(0,l)),e+=l+1):(i.push(o),e=r+1)}return i}:function(t){return t.split(/\r\n?|\n/)},Jl=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Gl=function(){var t=n("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Ql=null,ta={},ea={},ia={},na=function(t,e,i){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};na.prototype.eol=function(){return this.pos>=this.string.length},na.prototype.sol=function(){return this.pos==this.lineStart},na.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},na.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},na.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},na.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},na.prototype.eatSpace=function(){for(var t=this,e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++t.pos;return this.pos>e},na.prototype.skipToEnd=function(){this.pos=this.string.length},na.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},na.prototype.backUp=function(t){this.pos-=t},na.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},na.prototype.indentation=function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},na.prototype.match=function(t,e,i){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&!1!==e&&(this.pos+=n[0].length),n)}var r=function(t){return i?t.toLowerCase():t};if(r(this.string.substr(this.pos,t.length))==r(t))return!1!==e&&(this.pos+=t.length),!0},na.prototype.current=function(){return this.string.slice(this.start,this.pos)},na.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},na.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)};var ra=function(t,e){this.state=t,this.lookAhead=e},oa=function(t,e,i,n){this.state=e,this.doc=t,this.line=i,this.maxLookAhead=n||0};oa.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},oa.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},oa.fromSaved=function(t,e,i){return e instanceof ra?new oa(t,Zt(t.mode,e.state),i,e.lookAhead):new oa(t,Zt(t.mode,e),i)},oa.prototype.save=function(t){var e=!1!==t?Zt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ra(e,this.maxLookAhead):e};var la=function(t,e,i){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=i},aa=function(t,e,i){this.text=t,nt(this,e),this.height=i?i(this):1};aa.prototype.lineNo=function(){return M(this)},Pt(aa);var sa,ua={},ca={},fa=null,da=null,ha={left:0,right:0,top:0,bottom:0},pa=function(t,e,i){this.cm=i;var r=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(r),t(o),Kl(r,"scroll",function(){r.clientHeight&&e(r.scrollTop,"vertical")}),Kl(o,"scroll",function(){o.clientWidth&&e(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,fl&&dl<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};pa.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var r=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},pa.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},pa.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},pa.prototype.zeroWidthHack=function(){var t=_l&&!bl?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ll,this.disableVert=new Ll},pa.prototype.enableZeroWidthBar=function(t,e,i){function n(){var r=t.getBoundingClientRect();("vert"==i?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=t?t.style.pointerEvents="none":e.set(1e3,n)}t.style.pointerEvents="auto",e.set(1e3,n)},pa.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var ma=function(){};ma.prototype.update=function(){return{bottom:0,right:0}},ma.prototype.setScrollLeft=function(){},ma.prototype.setScrollTop=function(){},ma.prototype.clear=function(){};var ga={native:pa,null:ma},va=0,ba=function(t,e,i){var n=t.display;this.viewport=e,this.visible=ji(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Ue(t),this.force=i,this.dims=xi(t),this.events=[]};ba.prototype.signal=function(t,e){Dt(t,e)&&this.events.push(arguments)},ba.prototype.finish=function(){for(var t=this,e=0;e<this.events.length;e++)Et.apply(null,t.events[e])};var ya=0,xa=null;fl?xa=-.53:al?xa=15:ml?xa=-.7:vl&&(xa=-1/3);var wa=function(t,e){this.ranges=t,this.primIndex=e};wa.prototype.primary=function(){return this.ranges[this.primIndex]},wa.prototype.equals=function(t){var e=this;if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var n=e.ranges[i],r=t.ranges[i];if(!j(n.anchor,r.anchor)||!j(n.head,r.head))return!1}return!0},wa.prototype.deepCopy=function(){for(var t=this,e=[],i=0;i<this.ranges.length;i++)e[i]=new ka(F(t.ranges[i].anchor),F(t.ranges[i].head));return new wa(e,this.primIndex)},wa.prototype.somethingSelected=function(){for(var t=this,e=0;e<this.ranges.length;e++)if(!t.ranges[e].empty())return!0;return!1},wa.prototype.contains=function(t,e){var i=this;e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=i.ranges[n];if(I(e,r.from())>=0&&I(t,r.to())<=0)return n}return-1};var ka=function(t,e){this.anchor=t,this.head=e};ka.prototype.from=function(){return z(this.anchor,this.head)},ka.prototype.to=function(){return R(this.anchor,this.head)},ka.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},zr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=this,n=t,r=t+e;n<r;++n){var o=i.lines[n];i.height-=o.height,ce(o),qe(o,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){var n=this;this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=n},iterN:function(t,e,i){for(var n=this,r=t+e;t<r;++t)if(i(n.lines[t]))return!0}},Br.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){var i=this;this.size-=e;for(var n=0;n<this.children.length;++n){var r=i.children[n],o=r.chunkSize();if(t<o){var l=Math.min(e,o-t),a=r.height;if(r.removeInner(t,l),i.height-=a-r.height,o==l&&(i.children.splice(n--,1),r.parent=null),0==(e-=l))break;t=0}else t-=o}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof zr))){var s=[];this.collapse(s),this.children=[new zr(s)],this.children[0].parent=this}},collapse:function(t){for(var e=this,i=0;i<this.children.length;++i)e.children[i].collapse(t)},insertInner:function(t,e,i){var n=this;this.size+=e.length,this.height+=i;for(var r=0;r<this.children.length;++r){var o=n.children[r],l=o.chunkSize();if(t<=l){if(o.insertInner(t,e,i),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,s=a;s<o.lines.length;){var u=new zr(o.lines.slice(s,s+=25));o.height-=u.height,n.children.splice(++r,0,u),u.parent=n}o.lines=o.lines.slice(0,a),n.maybeSpill()}break}t-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new Br(e);if(t.parent){t.size-=i.size,t.height-=i.height;var n=d(t.parent.children,t);t.parent.children.splice(n+1,0,i)}else{var r=new Br(t.children);r.parent=t,t.children=[r,i],t=r}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=this,r=0;r<this.children.length;++r){var o=n.children[r],l=o.chunkSize();if(t<l){var a=Math.min(e,l-t);if(o.iterN(t,a,i))return!0;if(0==(e-=a))break;t=0}else t-=l}}};var _a=function(t,e,i){var n=this;if(i)for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r]);this.doc=t,this.node=e};_a.prototype.clear=function(){var t=this,e=this.doc.cm,i=this.line.widgets,n=this.line,r=M(n);if(null!=r&&i){for(var o=0;o<i.length;++o)i[o]==t&&i.splice(o--,1);i.length||(n.widgets=null);var l=Fe(this);E(n,Math.max(0,n.height-l)),e&&(dn(e,function(){Hr(e,n,-l),vn(e,r,"widget")}),qe(e,"lineWidgetCleared",e,this,r))}},_a.prototype.changed=function(){var t=this,e=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=Fe(this)-e;r&&(E(n,n.height+r),i&&dn(i,function(){i.curOp.forceUpdate=!0,Hr(i,n,r),qe(i,"lineWidgetChanged",i,t,M(n))}))},Pt(_a);var qa=0,Ca=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++qa};Ca.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){var e=this.doc.cm,i=e&&!e.curOp;if(i&&rn(e),Dt(this,"clear")){var n=this.find();n&&qe(this,"clear",n.from,n.to)}for(var r=null,o=null,l=0;l<this.lines.length;++l){var a=t.lines[l],s=K(a.markedSpans,t);e&&!t.collapsed?vn(e,M(a),"text"):e&&(null!=s.to&&(o=M(a)),null!=s.from&&(r=M(a))),a.markedSpans=Z(a.markedSpans,s),null==s.from&&t.collapsed&&!gt(t.doc,a)&&e&&E(a,bi(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=ft(t.lines[u]),f=yt(c);f>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=f,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&gn(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&kr(e.doc)),e&&qe(e,"markerCleared",e,this,r,o),i&&on(e),this.parent&&this.parent.clear()}},Ca.prototype.find=function(t,e){var i=this;null==t&&"bookmark"==this.type&&(t=1);for(var n,r,o=0;o<this.lines.length;++o){var l=i.lines[o],a=K(l.markedSpans,i);if(null!=a.from&&(n=N(e?l:M(l),a.from),-1==t))return n;if(null!=a.to&&(r=N(e?l:M(l),a.to),1==t))return r}return n&&{from:n,to:r}},Ca.prototype.changed=function(){var t=this,e=this.find(-1,!0),i=this,n=this.doc.cm;e&&n&&dn(n,function(){var r=e.line,o=M(e.line),l=Xe(n,o);if(l&&(ni(l),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!gt(i.doc,r)&&null!=i.height){var a=i.height;i.height=null;var s=Fe(i)-a;s&&E(r,r.height+s)}qe(n,"markerChanged",n,t)})},Ca.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=d(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Ca.prototype.detachLine=function(t){if(this.lines.splice(d(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},Pt(Ca);var Aa=function(t,e){var i=this;this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=i};Aa.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)t.markers[e].clear();qe(this,"clear")}},Aa.prototype.find=function(t,e){return this.primary.find(t,e)},Pt(Aa);var Sa=0,Oa=function(t,e,i,n,r){if(!(this instanceof Oa))return new Oa(t,e,i,n,r);null==i&&(i=0),Br.call(this,[new zr([new aa("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var o=N(i,0);this.sel=Rn(o),this.history=new Qn(null),this.id=++Sa,this.modeOption=e,this.lineSep=n,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Kn(this,{from:o,to:o,text:t}),yr(this,Rn(o),jl)};Oa.prototype=y(Br.prototype,{constructor:Oa,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=T(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:mn(function(t){var e=N(this.first,0),i=this.first+this.size-1;Tr(this,{from:e,to:N(i,S(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Vi(this.cm,0,0),yr(this,Rn(e),jl)}),replaceRange:function(t,e,i,n){e=H(this,e),i=i?H(this,i):e,Nr(this,t,e,i,n)},getRange:function(t,e,i){var n=O(this,H(this,t),H(this,e));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(D(this,t))return S(this,t)},getLineNumber:function(t){return M(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=S(this,t)),ft(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return H(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:mn(function(t,e,i){gr(this,H(this,"number"==typeof t?N(t,e||0):t),null,i)}),setSelection:mn(function(t,e,i){gr(this,H(this,t),H(this,e||t),i)}),extendSelection:mn(function(t,e,i){hr(this,H(this,t),e&&H(this,e),i)}),extendSelections:mn(function(t,e){pr(this,U(this,t),e)}),extendSelectionsBy:mn(function(t,e){pr(this,U(this,g(this.sel.ranges,t)),e)}),setSelections:mn(function(t,e,i){var n=this;if(t.length){for(var r=[],o=0;o<t.length;o++)r[o]=new ka(H(n,t[o].anchor),H(n,t[o].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),yr(this,Fn(r,e),i)}}),addSelection:mn(function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new ka(H(this,t),H(this,e||t))),yr(this,Fn(n,n.length-1),i)}),getSelection:function(t){for(var e,i=this,n=this.sel.ranges,r=0;r<n.length;r++){var o=O(i,n[r].from(),n[r].to());e=e?e.concat(o):o}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=this,i=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=O(e,n[r].from(),n[r].to());!1!==t&&(o=o.join(t||e.lineSeparator())),i[r]=o}return i},replaceSelection:function(t,e,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:mn(function(t,e,i){for(var n=this,r=[],o=this.sel,l=0;l<o.ranges.length;l++){var a=o.ranges[l];r[l]={from:a.from(),to:a.to(),text:n.splitLines(t[l]),origin:i}}for(var s=e&&"end"!=e&&Un(this,r,e),u=r.length-1;u>=0;u--)Tr(n,r[u]);s?br(this,s):this.cm&&$i(this.cm)}),undo:mn(function(){Mr(this,"undo")}),redo:mn(function(){Mr(this,"redo")}),undoSelection:mn(function(){Mr(this,"undo",!0)}),redoSelection:mn(function(){Mr(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){this.history=new Qn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:fr(this.history.done),undone:fr(this.history.undone)}},setHistory:function(t){var e=this.history=new Qn(this.history.maxGeneration);e.done=fr(t.done.slice(0),null,!0),e.undone=fr(t.undone.slice(0),null,!0)},setGutterMarker:mn(function(t,e,i){return Rr(this,t,"gutter",function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=i,!i&&k(n)&&(t.gutterMarkers=null),!0})}),clearGutter:mn(function(t){var e=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&Rr(e,i,"gutter",function(){return i.gutterMarkers[t]=null,k(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!D(this,t))return null;if(e=t,!(t=S(this,t)))return null}else if(null==(e=M(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:mn(function(e,i,n){return Rr(this,e,"gutter"==i?"gutter":"class",function(e){var r="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass";if(e[r]){if(t(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:mn(function(e,i,n){return Rr(this,e,"gutter"==i?"gutter":"class",function(e){var r="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var l=o.match(t(n));if(!l)return!1;var a=l.index+l[0].length;e[r]=o.slice(0,l.index)+(l.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0})}),addLineWidget:mn(function(t,e,i){return Wr(this,t,e,i)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return Ur(this,H(this,t),H(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=H(this,t),Ur(this,t,t,i,"bookmark")},findMarksAt:function(t){t=H(this,t);var e=[],i=S(this,t.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,i){t=H(this,t),e=H(this,e);var n=[],r=t.line;return this.iter(t.line,e.line+1,function(o){var l=o.markedSpans;if(l)for(var a=0;a<l.length;a++){var s=l[a];null!=s.to&&r==t.line&&t.ch>=s.to||null==s.from&&r!=t.line||null!=s.from&&r==e.line&&s.from>=e.ch||i&&!i(s.marker)||n.push(s.marker.parent||s.marker)}++r}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&t.push(i[n].marker)}),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+n;if(o>t)return e=t,!0;t-=o,++i}),H(this,N(i,e))},indexFromPos:function(t){t=H(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+i}),e},copy:function(t){var e=new Oa(T(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<i&&(i=t.to);var n=new Oa(T(this,e,i),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Yr(n,Vr(this)),n},unlinkDoc:function(t){var e=this;if(t instanceof zo&&(t=t.doc),this.linked)for(var i=0;i<this.linked.length;++i){var n=e.linked[i];if(n.doc==t){e.linked.splice(i,1),t.unlinkDoc(e),Kr(Vr(e));break}}if(t.history==this.history){var r=[t.id];Zn(t,function(t){return r.push(t.id)},!0),t.history=new Qn(null),t.history.done=fr(this.history.done,r),t.history.undone=fr(this.history.undone,r)}},iterLinkedDocs:function(t){Zn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Xl(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:mn(function(t){"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Gn(this.cm))})}),Oa.prototype.eachLine=Oa.prototype.iter;for(var Ta=0,Ea=!1,Ma={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},La=0;La<10;La++)Ma[La+48]=Ma[La+96]=String(La);for(var Da=65;Da<=90;Da++)Ma[Da]=String.fromCharCode(Da);for(var Pa=1;Pa<=12;Pa++)Ma[Pa+111]=Ma[Pa+63235]="F"+Pa;var Na={};Na.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Na.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Na.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Na.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Na.default=_l?Na.macDefault:Na.pcDefault;var Ia={selectAll:Sr,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),jl)},killLine:function(t){return co(t,function(e){if(e.empty()){var i=S(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:N(e.head.line+1,0)}:{from:e.head,to:N(e.head.line,i)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return co(t,function(e){return{from:N(e.from().line,0),to:H(t.doc,N(e.to().line+1,0))}})},delLineLeft:function(t){return co(t,function(t){return{from:N(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return co(t,function(e){var i=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:i},"div"),to:e.from()}})},delWrappedLineRight:function(t){return co(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(N(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(N(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return fo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return po(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return ho(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")},Rl)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")},Rl)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\S/)?po(t,e.head):n},Rl)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,r=0;r<i.length;r++){var o=i[r].from(),l=f(t.getLine(o.line),o.ch,n);e.push(p(n-l%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return dn(t,function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)if(e[n].empty()){var r=e[n].head,o=S(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new N(r.line,r.ch-1)),r.ch>0)r=new N(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),N(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var l=S(t.doc,r.line-1).text;l&&(r=new N(r.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+l.charAt(l.length-1),N(r.line-1,l.length-1),r,"+transpose"))}i.push(new ka(r,r))}t.setSelections(i)})},newlineAndIndent:function(t){return dn(t,function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange(t.doc.lineSeparator(),e[i].anchor,e[i].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);$i(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}},ja=new Ll,Fa=null,Ra=function(t,e,i){this.time=t,this.pos=e,this.button=i};Ra.prototype.compare=function(t,e,i){return this.time+400>t&&0==I(e,this.pos)&&i==this.button};var za,Ba,Ha={toString:function(){return"CodeMirror.Init"}},Wa={},Ua={};zo.defaults=Wa,zo.optionHandlers=Ua;var $a=[];zo.defineInitHook=function(t){return $a.push(t)};var Va=null,Ya=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ll,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ya.prototype.init=function(t){function e(t){if(!Mt(r,t)){if(r.somethingSelected())Wo({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=Yo(r);Wo({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation(function(){r.setSelections(e.ranges,0,jl),r.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var i=Va.text.join("\n");if(t.clipboardData.setData("Text",i),t.clipboardData.getData("Text")==i)return void t.preventDefault()}var l=Zo(),a=l.firstChild;r.display.lineSpace.insertBefore(l,r.display.lineSpace.firstChild),a.value=Va.text.join("\n");var s=document.activeElement;Ml(a),setTimeout(function(){r.display.lineSpace.removeChild(l),s.focus(),s==o&&n.showPrimarySelection()},50)}}var i=this,n=this,r=n.cm,o=n.div=t.lineDiv;Ko(o,r.options.spellcheck),Kl(o,"paste",function(t){Mt(r,t)||$o(t,r)||dl<=11&&setTimeout(hn(r,function(){return i.updateFromDOM()}),20)}),Kl(o,"compositionstart",function(t){i.composing={data:t.data,done:!1}}),Kl(o,"compositionupdate",function(t){i.composing||(i.composing={data:t.data,done:!1})}),Kl(o,"compositionend",function(t){i.composing&&(t.data!=i.composing.data&&i.readFromDOMSoon(),i.composing.done=!0)}),Kl(o,"touchstart",function(){return n.forceCompositionEnd()}),Kl(o,"input",function(){i.composing||i.readFromDOMSoon()}),Kl(o,"copy",e),Kl(o,"cut",e)},Ya.prototype.prepareSelection=function(){var t=Si(this.cm,!1);return t.focus=this.cm.state.focused,t},Ya.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ya.prototype.showPrimarySelection=function(){var t=window.getSelection(),e=this.cm,i=e.doc.sel.primary(),n=i.from(),r=i.to();if(e.display.viewTo==e.display.viewFrom||n.line>=e.display.viewTo||r.line<e.display.viewFrom)return void t.removeAllRanges();var o=il(e,t.anchorNode,t.anchorOffset),l=il(e,t.focusNode,t.focusOffset);if(!o||o.bad||!l||l.bad||0!=I(z(o,l),n)||0!=I(R(o,l),r)){var a=e.display.view,s=n.line>=e.display.viewFrom&&Go(e,n)||{node:a[0].measure.map[2],offset:0},u=r.line<e.display.viewTo&&Go(e,r);if(!u){var c=a[a.length-1].measure,f=c.maps?c.maps[c.maps.length-1]:c.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(!s||!u)return void t.removeAllRanges();var d,h=t.rangeCount&&t.getRangeAt(0);try{d=Sl(s.node,s.offset,u.offset,u.node)}catch(t){}d&&(!al&&e.state.focused?(t.collapse(s.node,s.offset),d.collapsed||(t.removeAllRanges(),t.addRange(d))):(t.removeAllRanges(),t.addRange(d)),h&&null==t.anchorNode?t.addRange(h):al&&this.startGracePeriod()),this.rememberSelection()}},Ya.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Ya.prototype.showMultipleSelections=function(t){i(this.cm.display.cursorDiv,t.cursors),i(this.cm.display.selectionDiv,t.selection)},Ya.prototype.rememberSelection=function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ya.prototype.selectionInEditor=function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return o(this.div,e)},Ya.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ya.prototype.blur=function(){this.div.blur()},Ya.prototype.getField=function(){return this.div},Ya.prototype.supportsTouch=function(){return!0},Ya.prototype.receivedFocus=function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():dn(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},Ya.prototype.selectionChanged=function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ya.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;if(wl&&ml&&this.cm.options.gutters.length&&Qo(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=il(e,t.anchorNode,t.anchorOffset),n=il(e,t.focusNode,t.focusOffset);i&&n&&dn(e,function(){yr(e.doc,Rn(i,n),jl),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}}},Ya.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(0==n.ch&&n.line>t.firstLine()&&(n=N(n.line-1,S(t.doc,n.line-1).length)),r.ch==S(t.doc,r.line).text.length&&r.line<t.lastLine()&&(r=N(r.line+1,0)),n.line<e.viewFrom||r.line>e.viewTo-1)return!1;var o,l,a;n.line==e.viewFrom||0==(o=Ci(t,n.line))?(l=M(e.view[0].line),a=e.view[0].node):(l=M(e.view[o].line),a=e.view[o-1].node.nextSibling);var s,u,c=Ci(t,r.line);if(c==e.view.length-1?(s=e.viewTo-1,u=e.lineDiv.lastChild):(s=M(e.view[c+1].line)-1,u=e.view[c+1].node.previousSibling),!a)return!1;for(var f=t.doc.splitLines(el(t,a,u,l,s)),d=O(t.doc,N(l,0),N(s,S(t.doc,s).text.length));f.length>1&&d.length>1;)if(m(f)==m(d))f.pop(),d.pop(),s--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),l++}for(var h=0,p=0,g=f[0],v=d[0],b=Math.min(g.length,v.length);h<b&&g.charCodeAt(h)==v.charCodeAt(h);)++h;for(var y=m(f),x=m(d),w=Math.min(y.length-(1==f.length?h:0),x.length-(1==d.length?h:0));p<w&&y.charCodeAt(y.length-p-1)==x.charCodeAt(x.length-p-1);)++p;if(1==f.length&&1==d.length&&l==n.line)for(;h&&h>n.ch&&y.charCodeAt(y.length-p-1)==x.charCodeAt(x.length-p-1);)h--,p++;f[f.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(h).replace(/\u200b+$/,"");var k=N(l,h),_=N(s,d.length?m(d).length-p:0);return f.length>1||f[0]||I(k,_)?(Nr(t.doc,f,k,_,"+input"),!0):void 0},Ya.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ya.prototype.reset=function(){this.forceCompositionEnd()},Ya.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ya.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},Ya.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||dn(this.cm,function(){return gn(t.cm)})},Ya.prototype.setUneditable=function(t){t.contentEditable="false"},Ya.prototype.onKeyPress=function(t){0!=t.charCode&&(t.preventDefault(),this.cm.isReadOnly()||hn(this.cm,Uo)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Ya.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Ya.prototype.onContextMenu=function(){},Ya.prototype.resetPosition=function(){},Ya.prototype.needsContentAttribute=!0;var Ka=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Ll,this.hasSelection=!1,this.composing=null};Ka.prototype.init=function(t){function e(t){if(!Mt(r,t)){if(r.somethingSelected())Wo({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var e=Yo(r);Wo({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,jl):(n.prevInput="",l.value=e.text.join("\n"),Ml(l))}"cut"==t.type&&(r.state.cutIncoming=!0)}}var i=this,n=this,r=this.cm,o=this.wrapper=Zo(),l=this.textarea=o.firstChild;t.wrapper.insertBefore(o,t.wrapper.firstChild),xl&&(l.style.width="0px"),Kl(l,"input",function(){fl&&dl>=9&&i.hasSelection&&(i.hasSelection=null),n.poll()}),Kl(l,"paste",function(t){Mt(r,t)||$o(t,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),Kl(l,"cut",e),Kl(l,"copy",e),Kl(t.scroller,"paste",function(e){Re(t,e)||Mt(r,e)||(r.state.pasteIncoming=!0,n.focus())}),Kl(t.lineSpace,"selectstart",function(e){Re(t,e)||Nt(e)}),Kl(l,"compositionstart",function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}}),Kl(l,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Ka.prototype.prepareSelection=function(){var t=this.cm,e=t.display,i=t.doc,n=Si(t);if(t.options.moveInputWithCursor){var r=fi(t,i.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),l=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+l.left-o.left))}return n},Ka.prototype.showSelection=function(t){var e=this.cm,n=e.display;i(n.cursorDiv,t.cursors),i(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Ka.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var i=e.getSelection();this.textarea.value=i,e.state.focused&&Ml(this.textarea),fl&&dl>=9&&(this.hasSelection=i)}else t||(this.prevInput=this.textarea.value="",fl&&dl>=9&&(this.hasSelection=null))}},Ka.prototype.getField=function(){return this.textarea},Ka.prototype.supportsTouch=function(){return!1},Ka.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!kl||l()!=this.textarea))try{this.textarea.focus()}catch(t){}},Ka.prototype.blur=function(){this.textarea.blur()},Ka.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ka.prototype.receivedFocus=function(){this.slowPoll()},Ka.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},Ka.prototype.fastPoll=function(){function t(){i.poll()||e?(i.pollingFast=!1,i.slowPoll()):(e=!0,i.polling.set(60,t))}var e=!1,i=this;i.pollingFast=!0,i.polling.set(20,t)},Ka.prototype.poll=function(){var t=this,e=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||Jl(i)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=i.value;if(r==n&&!e.somethingSelected())return!1;if(fl&&dl>=9&&this.hasSelection===r||_l&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,a=Math.min(n.length,r.length);l<a&&n.charCodeAt(l)==r.charCodeAt(l);)++l;return dn(e,function(){Uo(e,r.slice(l),n.length-l,null,t.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?i.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ka.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ka.prototype.onKeyPress=function(){fl&&dl>=9&&(this.hasSelection=null),this.fastPoll()},Ka.prototype.onContextMenu=function(t){function e(){if(null!=l.selectionStart){var t=r.somethingSelected(),e="​"+(t?l.value:"");l.value="⇚",l.value=e,n.prevInput=t?"":"​",l.selectionStart=1,l.selectionEnd=e.length,o.selForContextMenu=r.doc.sel}}function i(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=c,l.style.cssText=u,fl&&dl<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=s),null!=l.selectionStart){(!fl||fl&&dl<9)&&e();var t=0,i=function(){o.selForContextMenu==r.doc.sel&&0==l.selectionStart&&l.selectionEnd>0&&"​"==n.prevInput?hn(r,Sr)(r):t++<10?o.detectingSelectAll=setTimeout(i,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(i,200)}}var n=this,r=n.cm,o=r.display,l=n.textarea,a=qi(r,t),s=o.scroller.scrollTop;if(a&&!gl){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(a)&&hn(r,yr)(r.doc,Rn(a),jl);var u=l.style.cssText,c=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var f=n.wrapper.getBoundingClientRect();l.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-f.top-5)+"px; left: "+(t.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(fl?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var d;if(hl&&(d=window.scrollY),o.input.focus(),hl&&window.scrollTo(null,d),o.input.reset(),r.somethingSelected()||(l.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),fl&&dl>=9&&e(),Tl){Ft(t);var h=function(){Tt(window,"mouseup",h),setTimeout(i,20)};Kl(window,"mouseup",h)}else setTimeout(i,50)}},Ka.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},Ka.prototype.setUneditable=function(){},Ka.prototype.needsContentAttribute=!1,function(t){function e(e,n,r,o){t.defaults[e]=n,r&&(i[e]=o?function(t,e,i){i!=Ha&&r(t,e,i)}:r)}var i=t.optionHandlers;t.defineOption=e,t.Init=Ha,e("value","",function(t,e){return t.setValue(e)},!0),e("mode",null,function(t,e){t.doc.modeOption=e,$n(t)},!0),e("indentUnit",2,$n,!0),e("indentWithTabs",!1),e("smartIndent",!0),e("tabSize",4,function(t){Vn(t),oi(t),gn(t)},!0),e("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var i=[],n=t.doc.first;t.doc.iter(function(t){for(var r=0;;){var o=t.text.indexOf(e,r);if(-1==o)break;r=o+e.length,i.push(N(n,o))}n++});for(var r=i.length-1;r>=0;r--)Nr(t.doc,e,i[r],N(i[r].line,i[r].ch+e.length))}}),e("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e,i){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),i!=Ha&&t.refresh()}),e("specialCharPlaceholder",he,function(t){return t.refresh()},!0),e("electricChars",!0),e("inputStyle",kl?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),e("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),e("rtlMoveVisually",!Cl),e("wholeLineUpdateBefore",!0),e("theme","default",function(t){Io(t),jo(t)},!0),e("keyMap","default",function(t,e,i){var n=uo(e),r=i!=Ha&&uo(i);r&&r.detach&&r.detach(t,n),n.attach&&n.attach(t,r||null)}),e("extraKeys",null),e("configureMouse",null),e("lineWrapping",!1,Ro,!0),e("gutters",[],function(t){Pn(t.options),jo(t)},!0),e("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?wi(t.display)+"px":"0",t.refresh()},!0),e("coverGutterNextToScrollbar",!1,function(t){return tn(t)},!0),e("scrollbarStyle","native",function(t){nn(t),tn(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),e("lineNumbers",!1,function(t){Pn(t.options),jo(t)},!0),e("firstLineNumber",1,jo,!0),e("lineNumberFormatter",function(t){return t},jo,!0),e("showCursorWhenSelecting",!1,Ai,!0),e("resetSelectionOnContextMenu",!0),e("lineWiseCopyCut",!0),e("pasteLinesPerSelection",!0),e("readOnly",!1,function(t,e){"nocursor"==e&&(Pi(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)}),e("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),e("dragDrop",!0,Fo),e("allowDropFileTypes",null),e("cursorBlinkRate",530),e("cursorScrollMargin",0),e("cursorHeight",1,Ai,!0),e("singleCursorHeightPerLine",!0,Ai,!0),e("workTime",100),e("workDelay",100),e("flattenSpans",!0,Vn,!0),e("addModeClass",!1,Vn,!0),e("pollInterval",100),e("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),e("historyEventDelay",1250),e("viewportMargin",10,function(t){return t.refresh()},!0),e("maxHighlightLength",1e4,Vn,!0),e("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),e("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),e("autofocus",null),e("direction","ltr",function(t,e){return t.doc.setDirection(e)},!0)}(zo),function(t){var e=t.optionHandlers,i=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,i){var n=this.options,r=n[t];n[t]==i&&"mode"!=t||(n[t]=i,e.hasOwnProperty(t)&&hn(this,e[t])(this,i,r),Et(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](uo(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,i=0;i<e.length;++i)if(e[i]==t||e[i].name==t)return e.splice(i,1),!0},addOverlay:pn(function(e,i){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:n,modeSpec:e,opaque:i&&i.opaque,priority:i&&i.priority||0},function(t){return t.priority}),this.state.modeGen++,gn(this)}),removeOverlay:pn(function(t){for(var e=this,i=this.state.overlays,n=0;n<i.length;++n){var r=i[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return i.splice(n,1),e.state.modeGen++,void gn(e)}}),indentLine:pn(function(t,e,i){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),D(this.doc,t)&&Ho(this,t,e,i)}),indentSelection:pn(function(t){for(var e=this,i=this.doc.sel.ranges,n=-1,r=0;r<i.length;r++){var o=i[r];if(o.empty())o.head.line>n&&(Ho(e,o.head.line,t,!0),n=o.head.line,r==e.doc.sel.primIndex&&$i(e));else{var l=o.from(),a=o.to(),s=Math.max(n,l.line);n=Math.min(e.lastLine(),a.line-(a.ch?0:1))+1;for(var u=s;u<n;++u)Ho(e,u,t);var c=e.doc.sel.ranges;0==l.ch&&i.length==c.length&&c[r].from().ch>0&&mr(e.doc,r,new ka(l,c[r].to()),jl)}}}),getTokenAt:function(t,e){return re(this,t,e)},getLineTokens:function(t,e){return re(this,N(t),e,!0)},getTokenTypeAt:function(t){t=H(this.doc,t);var e,i=Qt(this,S(this.doc,t.line)),n=0,r=(i.length-1)/2,o=t.ch;if(0==o)e=i[2];else for(;;){var l=n+r>>1;if((l?i[2*l-1]:0)>=o)r=l;else{if(!(i[2*l+1]<o)){e=i[2*l+2];break}n=l+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var i=this.doc.mode;return i.innerMode?t.innerMode(i,this.getTokenAt(e).state).mode:i},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=this,r=[];if(!i.hasOwnProperty(e))return r;var o=i[e],l=this.getModeAt(t);if("string"==typeof l[e])o[l[e]]&&r.push(o[l[e]]);else if(l[e])for(var a=0;a<l[e].length;a++){var s=o[l[e][a]];s&&r.push(s)}else l.helperType&&o[l.helperType]?r.push(o[l.helperType]):o[l.name]&&r.push(o[l.name]);for(var u=0;u<o._global.length;u++){var c=o._global[u];c.pred(l,n)&&-1==d(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(t,e){var i=this.doc;return t=B(i,null==t?i.first+i.size-1:t),te(this,t+1,e).state},cursorCoords:function(t,e){var i,n=this.doc.sel.primary();return i=null==t?n.head:"object"==typeof t?H(this.doc,t):t?n.from():n.to(),fi(this,i,e||"page")},charCoords:function(t,e){return ci(this,H(this.doc,t),e||"page")},coordsChar:function(t,e){return t=ui(this,t,e||"page"),pi(this,t.left,t.top)},lineAtHeight:function(t,e){return t=ui(this,{top:t,left:0},e||"page").top,L(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,i){var n,r=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,r=!0),n=S(this.doc,t)}else n=t;return si(this,n,{top:0,left:0},e||"page",i||r).top+(r?this.doc.height-bt(n):0)},defaultTextHeight:function(){return bi(this.display)},defaultCharWidth:function(){return yi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,i,n,r){var o=this.display;t=fi(this,H(this.doc,t));var l=t.bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==n)l=t.top;else if("above"==n||"near"==n){var s=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>s)&&t.top>e.offsetHeight?l=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=s&&(l=t.bottom),a+e.offsetWidth>u&&(a=u-e.offsetWidth)}e.style.top=l+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),i&&Hi(this,{left:a,top:l,right:a+e.offsetWidth,bottom:l+e.offsetHeight})},triggerOnKeyDown:pn(xo),triggerOnKeyPress:pn(_o),triggerOnKeyUp:ko,triggerOnMouseDown:pn(Co),execCommand:function(t){if(Ia.hasOwnProperty(t))return Ia[t].call(null,this)},triggerElectric:pn(function(t){Vo(this,t)}),findPosH:function(t,e,i,n){var r=this,o=1;e<0&&(o=-1,e=-e);for(var l=H(this.doc,t),a=0;a<e&&(l=Xo(r.doc,l,o,i,n),!l.hitSide);++a);return l},moveH:pn(function(t,e){var i=this;this.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?Xo(i.doc,n.head,t,e,i.options.rtlMoveVisually):t<0?n.from():n.to()},Rl)}),deleteH:pn(function(t,e){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):co(this,function(i){var r=Xo(n,i.head,t,e,!1);return t<0?{from:r,to:i.head}:{from:i.head,to:r}})}),findPosV:function(t,e,i,n){var r=this,o=1,l=n;e<0&&(o=-1,e=-e);for(var a=H(this.doc,t),s=0;s<e;++s){var u=fi(r,a,"div");if(null==l?l=u.left:u.left=l,a=Jo(r,u,o,i),a.hitSide)break}return a},moveV:pn(function(t,e){var i=this,n=this.doc,r=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return t<0?l.from():l.to();var a=fi(i,l.head,"div");null!=l.goalColumn&&(a.left=l.goalColumn),r.push(a.left);var s=Jo(i,a,t,e);return"page"==e&&l==n.sel.primary()&&Ui(i,ci(i,s,"div").top-a.top),s},Rl),r.length)for(var l=0;l<n.sel.ranges.length;l++)n.sel.ranges[l].goalColumn=r[l]}),findWordAt:function(t){var e=this.doc,i=S(e,t.line).text,n=t.ch,r=t.ch;if(i){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&r!=i.length||!n?++r:--n;for(var l=i.charAt(n),a=w(l,o)?function(t){return w(t,o)}:/\s/.test(l)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!w(t)};n>0&&a(i.charAt(n-1));)--n;for(;r<i.length&&a(i.charAt(r));)++r}return new ka(N(t.line,n),N(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?a(this.display.cursorDiv,"CodeMirror-overwrite"):El(this.display.cursorDiv,"CodeMirror-overwrite"),Et(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==l()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:pn(function(t,e){Vi(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-We(this)-this.display.barHeight,width:t.scrollWidth-We(this)-this.display.barWidth,clientHeight:$e(this),clientWidth:Ue(this)}},scrollIntoView:pn(function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:N(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?Yi(this,t):Zi(this,t.from,t.to,t.margin)}),setSize:pn(function(t,e){var i=this,n=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=n(t)),null!=e&&(this.display.wrapper.style.height=n(e)),this.options.lineWrapping&&ri(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){vn(i,r,"widget");break}++r}),this.curOp.forceUpdate=!0,Et(this,"refresh",this)}),operation:function(t){return dn(this,t)},startOperation:function(){return rn(this)},endOperation:function(){return on(this)},refresh:pn(function(){var t=this.display.cachedTextHeight;gn(this),this.curOp.forceUpdate=!0,oi(this),Vi(this,this.doc.scrollLeft,this.doc.scrollTop),Mn(this),(null==t||Math.abs(t-bi(this.display))>.5)&&_i(this),Et(this,"refresh",this)}),swapDoc:pn(function(t){var e=this.doc;return e.cm=null,Xn(this,t),oi(this),this.display.input.reset(),Vi(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,qe(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Pt(t),t.registerHelper=function(e,n,r){i.hasOwnProperty(e)||(i[e]=t[e]={_global:[]}),i[e][n]=r},t.registerGlobalHelper=function(e,n,r,o){t.registerHelper(e,n,o),i[e]._global.push({pred:r,val:o})}}(zo);var Za="iter insert remove copy getEditor constructor".split(" ");for(var Xa in Oa.prototype)Oa.prototype.hasOwnProperty(Xa)&&d(Za,Xa)<0&&(zo.prototype[Xa]=function(t){return function(){return t.apply(this.doc,arguments)}}(Oa.prototype[Xa]));return Pt(Oa),zo.inputStyles={textarea:Ka,contenteditable:Ya},zo.defineMode=function(t){zo.defaults.mode||"null"==t||(zo.defaults.mode=t),Ut.apply(this,arguments)},zo.defineMIME=$t,zo.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),zo.defineMIME("text/plain","null"),zo.defineExtension=function(t,e){zo.prototype[t]=e},zo.defineDocExtension=function(t,e){Oa.prototype[t]=e},zo.fromTextArea=rl,function(t){t.off=Tt,t.on=Kl,t.wheelEventPixels=In,t.Doc=Oa,t.splitLines=Xl,t.countColumn=f,t.findColumn=h,t.isWordChar=x,t.Pass=Il,t.signal=Et,t.Line=aa,t.changeEnd=zn,t.scrollbarModel=ga,t.Pos=N,t.cmpPos=I,t.modes=ta,t.mimeModes=ea,t.resolveMode=Vt,t.getMode=Yt,t.modeExtensions=ia,t.extendMode=Kt,t.copyState=Zt,t.startState=Jt,t.innerMode=Xt,t.commands=Ia,t.keyMap=Na,t.keyName=so,t.isModifierKey=lo,t.lookupKey=oo,t.normalizeKeyMap=ro,t.StringStream=na,t.SharedTextMarker=Aa,t.TextMarker=Ca,t.LineWidget=_a,t.e_preventDefault=Nt,t.e_stopPropagation=It,t.e_stop=Ft,t.addClass=a,t.contains=o,t.rmClass=El,t.keyNames=Ma}(zo),zo.version="5.28.0",zo})},function(t,e){var i=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(103);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n=i(127),r=i(108);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){t.exports={}},function(t,e){t.exports=!0},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n=i(96).f,r=i(93),o=i(98)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){var n=i(114)("keys"),r=i(106);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){var n=i(91),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(103);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(91),r=i(100),o=i(110),l=i(118),a=i(96).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:l.f(t)})}},function(t,e,i){e.f=i(98)},function(t,e,i){var n=i(91),r=i(100),o=i(139),l=i(97),a=function(t,e,i){var s,u,c,f=t&a.F,d=t&a.G,h=t&a.S,p=t&a.P,m=t&a.B,g=t&a.W,v=d?r:r[e]||(r[e]={}),b=v.prototype,y=d?n:h?n[e]:(n[e]||{}).prototype;d&&(i=e);for(s in i)(u=!f&&y&&void 0!==y[s])&&s in v||(c=u?y[s]:i[s],v[s]=d&&"function"!=typeof y[s]?i[s]:m&&u?o(c,n):g&&y[s]==c?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((v.virtual||(v.virtual={}))[s]=c,t&a.R&&b&&!b[s]&&l(b,s,c)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(103),r=i(91).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,i){t.exports=!i(95)&&!i(102)(function(){return 7!=Object.defineProperty(i(121)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){"use strict";var n=i(110),r=i(119),o=i(128),l=i(97),a=i(93),s=i(109),u=i(144),c=i(112),f=i(151),d=i(98)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,i,m,g,v,b){u(i,e,m);var y,x,w,k=function(t){if(!h&&t in A)return A[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},_=e+" Iterator",q="values"==g,C=!1,A=t.prototype,S=A[d]||A["@@iterator"]||g&&A[g],O=S||k(g),T=g?q?k("entries"):O:void 0,E="Array"==e?A.entries||S:S;if(E&&(w=f(E.call(new t)))!==Object.prototype&&(c(w,_,!0),n||a(w,d)||l(w,d,p)),q&&S&&"values"!==S.name&&(C=!0,O=function(){return S.call(this)}),n&&!b||!h&&!C&&A[d]||l(A,d,O),s[e]=O,s[_]=p,g)if(y={values:q?O:k("values"),keys:v?O:k("keys"),entries:T},b)for(x in y)x in A||o(A,x,y[x]);else r(r.P+r.F*(h||C),e,y);return y}},function(t,e,i){var n=i(101),r=i(148),o=i(108),l=i(113)("IE_PROTO"),a=function(){},s=function(){var t,e=i(121)("iframe"),n=o.length;for(e.style.display="none",i(141).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;n--;)delete s.prototype[o[n]];return s()};t.exports=Object.create||function(t,e){var i;return null!==t?(a.prototype=n(t),i=new a,a.prototype=null,i[l]=t):i=s(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(127),r=i(108).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(93),r=i(94),o=i(138)(!1),l=i(113)("IE_PROTO");t.exports=function(t,e){var i,a=r(t),s=0,u=[];for(i in a)i!=l&&n(a,i)&&u.push(i);for(;e.length>s;)n(a,i=e[s++])&&(~o(u,i)||u.push(i));return u}},function(t,e,i){t.exports=i(97)},function(t,e,i){!function(e,i){t.exports=i()}(0,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=20)}([function(t,e,i){(function(e){function i(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e){var o=n(r);return[i].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[i].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+new e(JSON.stringify(t)).toString("base64")+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=i(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<t.length;r++){var l=t[r];"number"==typeof l[0]&&n[l[0]]||(i&&!l[2]?l[2]=i:i&&(l[2]="("+l[2]+") and ("+i+")"),e.push(l))}},e}}).call(e,i(2).Buffer)},function(t,e,i){function n(t){for(var e=0;e<t.length;e++){var i=t[e],n=c[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(o(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{for(var l=[],r=0;r<i.parts.length;r++)l.push(o(i.parts[r]));c[i.id]={id:i.id,refs:1,parts:l}}}}function r(){var t=document.createElement("style");return t.type="text/css",f.appendChild(t),t}function o(t){var e,i,n=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(n){if(p)return m;n.parentNode.removeChild(n)}if(g){var o=h++;n=d||(d=r()),e=l.bind(null,n,o,!1),i=l.bind(null,n,o,!0)}else n=r(),e=a.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}function l(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,r);else{var o=document.createTextNode(r),l=t.childNodes;l[e]&&t.removeChild(l[e]),l.length?t.insertBefore(o,l[e]):t.appendChild(o)}}function a(t,e){var i=e.css,n=e.media,r=e.sourceMap;if(n&&t.setAttribute("media",n),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=i(18),c={},f=s&&(document.head||document.getElementsByTagName("head")[0]),d=null,h=0,p=!1,m=function(){},g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,i){p=i;var r=u(t,e);return n(r),function(e){for(var i=[],o=0;o<r.length;o++){var l=r[o],a=c[l.id];a.refs--,i.push(a)}e?(r=u(t,e),n(r)):r=[];for(var o=0;o<i.length;o++){var a=i[o];if(0===a.refs){for(var s=0;s<a.parts.length;s++)a.parts[s]();delete c[a.id]}}}};var v=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){"use strict";(function(t){function n(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,i){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return l(this,t,e,i)}function l(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,i,n):"string"==typeof e?c(t,e,i):h(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function s(t,e,i,n){return a(e),e<=0?r(t,e):void 0!==i?"string"==typeof n?r(t,e).fill(i,n):r(t,e).fill(i):r(t,e)}function u(t,e){if(a(e),t=r(t,e<0?0:0|p(e)),!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function c(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!o.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(e,i);t=r(t,n);var l=t.write(e,i);return l!==n&&(t=t.slice(0,l)),t}function f(t,e){var i=e.length<0?0:0|p(e.length);t=r(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function d(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=f(t,e),t}function h(t,e){if(o.isBuffer(e)){var i=0|p(e.length);return t=r(t,i),0===t.length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Z(e.length)?r(t,0):f(t,e);if("Buffer"===e.type&&G(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),o.alloc(+t)}function g(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Y(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,i);case"utf8":case"utf-8":return O(this,e,i);case"ascii":return E(this,e,i);case"latin1":case"binary":return M(this,e,i);case"base64":return S(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function y(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=o.from(e,n)),o.isBuffer(e))return 0===e.length?-1:x(t,e,i,n,r);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):x(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function x(t,e,i,n,r){function o(t,e){return 1===l?t[e]:t.readUInt16BE(e*l)}var l=1,a=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;l=2,a/=2,s/=2,i/=2}var u;if(r){var c=-1;for(u=i;u<a;u++)if(o(t,u)===o(e,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===s)return c*l}else-1!==c&&(u-=u-c),c=-1}else for(i+s>a&&(i=a-s),u=i;u>=0;u--){for(var f=!0,d=0;d<s;d++)if(o(t,u+d)!==o(e,d)){f=!1;break}if(f)return u}return-1}function w(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var l=0;l<n;++l){var a=parseInt(e.substr(2*l,2),16);if(isNaN(a))return l;t[i+l]=a}return l}function k(t,e,i,n){return K(U(e,t.length-i),t,i,n)}function _(t,e,i,n){return K($(e),t,i,n)}function q(t,e,i,n){return _(t,e,i,n)}function C(t,e,i,n){return K(Y(e),t,i,n)}function A(t,e,i,n){return K(V(e,t.length-i),t,i,n)}function S(t,e,i){return 0===e&&i===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(e,i))}function O(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var o=t[r],l=null,a=o>239?4:o>223?3:o>191?2:1;if(r+a<=i){var s,u,c,f;switch(a){case 1:o<128&&(l=o);break;case 2:128==(192&(s=t[r+1]))&&(f=(31&o)<<6|63&s)>127&&(l=f);break;case 3:s=t[r+1],u=t[r+2],128==(192&s)&&128==(192&u)&&(f=(15&o)<<12|(63&s)<<6|63&u)>2047&&(f<55296||f>57343)&&(l=f);break;case 4:s=t[r+1],u=t[r+2],c=t[r+3],128==(192&s)&&128==(192&u)&&128==(192&c)&&(f=(15&o)<<18|(63&s)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(l=f)}}null===l?(l=65533,a=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),r+=a}return T(n)}function T(t){var e=t.length;if(e<=Q)return String.fromCharCode.apply(String,t);for(var i="",n=0;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=Q));return i}function E(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function M(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function L(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=e;o<i;++o)r+=W(t[o]);return r}function D(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function P(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,i,n,r,l){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<l)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function I(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);r<o;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function j(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);r<o;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function F(t,e,i,n,r,o){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function R(t,e,i,n,r){return r||F(t,e,i,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,i,n,23,4),i+4}function z(t,e,i,n,r){return r||F(t,e,i,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,i,n,52,8),i+8}function B(t){if(t=H(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function H(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){e=e||1/0;for(var i,n=t.length,r=null,o=[],l=0;l<n;++l){if((i=t.charCodeAt(l))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(l+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function $(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function V(t,e){for(var i,n,r,o=[],l=0;l<t.length&&!((e-=2)<0);++l)i=t.charCodeAt(l),n=i>>8,r=i%256,o.push(r),o.push(n);return o}function Y(t){return X.toByteArray(B(t))}function K(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function Z(t){return t!==t}var X=i(5),J=i(9),G=i(10);e.Buffer=o,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=n(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,i){return l(null,t,e,i)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,i){return s(null,t,e,i)},o.allocUnsafe=function(t){return u(null,t)},o.allocUnsafeSlow=function(t){return u(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,l=Math.min(i,n);r<l;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!G(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=o.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var l=t[i];if(!o.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(n,r),r+=l.length}return n},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):v.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,i,n,r){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,r>>>=0,this===t)return 0;for(var l=r-n,a=i-e,s=Math.min(l,a),u=this.slice(n,r),c=t.slice(e,i),f=0;f<s;++f)if(u[f]!==c[f]){l=u[f],a=c[f];break}return l<a?-1:a<l?1:0},o.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},o.prototype.indexOf=function(t,e,i){return y(this,t,e,i,!0)},o.prototype.lastIndexOf=function(t,e,i){return y(this,t,e,i,!1)},o.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return w(this,t,e,i);case"utf8":case"utf-8":return k(this,t,e,i);case"ascii":return _(this,t,e,i);case"latin1":case"binary":return q(this,t,e,i);case"base64":return C(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;o.prototype.slice=function(t,e){var i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var n;if(o.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=o.prototype;else{var r=e-t;n=new o(r,void 0);for(var l=0;l<r;++l)n[l]=this[l+t]}return n},o.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||P(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n},o.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||P(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},o.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||P(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},o.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||P(t,e,this.length);for(var n=e,r=1,o=this[t+--n];n>0&&(r*=256);)o+=this[t+--n]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),J.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),J.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),J.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),J.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,i,n){t=+t,e|=0,i|=0,n||N(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[e]=255&t;++o<i&&(r*=256);)this[e+o]=t/r&255;return e+i},o.prototype.writeUIntBE=function(t,e,i,n){t=+t,e|=0,i|=0,n||N(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+i},o.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);N(this,t,e,i,r-1,-r)}var o=0,l=1,a=0;for(this[e]=255&t;++o<i&&(l*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/l>>0)-a&255;return e+i},o.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);N(this,t,e,i,r-1,-r)}var o=i-1,l=1,a=0;for(this[e+o]=255&t;--o>=0&&(l*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/l>>0)-a&255;return e+i},o.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,i){return R(this,t,e,!0,i)},o.prototype.writeFloatBE=function(t,e,i){return R(this,t,e,!1,i)},o.prototype.writeDoubleLE=function(t,e,i){return z(this,t,e,!0,i)},o.prototype.writeDoubleBE=function(t,e,i){return z(this,t,e,!1,i)},o.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,l=n-i;if(this===t&&i<e&&e<n)for(r=l-1;r>=0;--r)t[r+e]=this[r+i];else if(l<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<l;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+l),e);return l},o.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0);var l;if("number"==typeof t)for(l=e;l<i;++l)this[l]=t;else{var a=o.isBuffer(t)?t:U(new o(t,n).toString()),s=a.length;for(l=0;l<i-e;++l)this[l+e]=a[l%s]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,i(19))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(12),r=i.n(n);i.d(e,"VueEditor",function(){return r.a});var o={VueEditor:r.a,install:function(t){t.component(r.a.name,r.a)}};e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),r=i.n(n),o=i(15),l=(i.n(o),i(16)),a=(i.n(l),[["bold","italic","underline","strike"],["blockquote","code-block","image"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]);e.default={name:"vue-editor",props:{value:String,id:{type:String,default:"quill-container"},placeholder:String,disabled:Boolean,editorToolbar:Array,useCustomImageHandler:{type:Boolean,default:!1}},data:function(){return{quill:null,editor:null,toolbar:this.editorToolbar?this.editorToolbar:a}},mounted:function(){this.initializeVue2Editor(),this.handleUpdatedEditor()},watch:{value:function(t){t==this.editor.innerHTML||this.quill.hasFocus()||(this.editor.innerHTML=t)},disabled:function(t){this.quill.enable(!t)}},methods:{initializeVue2Editor:function(){this.setQuillElement(),this.setEditorElement(),this.checkForInitialContent()},setQuillElement:function(){this.quill=new r.a(this.$refs.quillContainer,{modules:{toolbar:this.toolbar},placeholder:this.placeholder?this.placeholder:"",theme:"snow",readOnly:!!this.disabled&&this.disabled}),this.checkForCustomImageHandler()},setEditorElement:function(){this.editor=document.querySelector("#"+this.id+" .ql-editor")},checkForInitialContent:function(){this.editor.innerHTML=this.value||""},checkForCustomImageHandler:function(){!0===this.useCustomImageHandler&&this.setupCustomImageHandler()},setupCustomImageHandler:function(){this.quill.getModule("toolbar").addHandler("image",this.customImageHandler)},handleUpdatedEditor:function(){var t=this;this.quill.on("text-change",function(){t.$emit("input",t.editor.innerHTML)})},customImageHandler:function(t,e){this.$refs.fileInput.click()},emitImageInfo:function(t){var e=t.target.files[0],i=this.quill,n=i.getSelection(),r=n.index;this.$emit("imageAdded",e,i,r)}}}},function(t,e,i){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function o(t){var e,i,r,o,l,a,s=t.length;l=n(t),a=new f(3*s/4-l),r=l>0?s-4:s;var u=0;for(e=0,i=0;e<r;e+=4,i+=3)o=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],a[u++]=o>>16&255,a[u++]=o>>8&255,a[u++]=255&o;return 2===l?(o=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,a[u++]=255&o):1===l&&(o=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,a[u++]=o>>8&255,a[u++]=255&o),a}function l(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function a(t,e,i){for(var n,r=[],o=e;o<i;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],r.push(l(n));return r.join("")}function s(t){for(var e,i=t.length,n=i%3,r="",o=[],l=0,s=i-n;l<s;l+=16383)o.push(a(t,l,l+16383>s?s:l+16383));return 1===n?(e=t[i-1],r+=u[e>>2],r+=u[e<<4&63],r+="=="):2===n&&(e=(t[i-2]<<8)+t[i-1],r+=u[e>>10],r+=u[e>>4&63],r+=u[e<<2&63],r+="="),o.push(r),o.join("")}e.byteLength=r,e.toByteArray=o,e.fromByteArray=s;for(var u=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,p=d.length;h<p;++h)u[h]=d[h],c[d.charCodeAt(h)]=h;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e,i){e=t.exports=i(0)(void 0),e.push([t.i,'/*!\n * Quill Editor v1.2.3\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;cursor:text;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6,.ql-editor ol,.ql-editor p,.ql-editor pre,.ql-editor ul{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"\\2022"}.ql-editor ul[data-checked=false],.ql-editor ul[data-checked=true]{pointer-events:none}.ql-editor ul[data-checked=false]>li *,.ql-editor ul[data-checked=true]>li *{pointer-events:all}.ql-editor ul[data-checked=false]>li:before,.ql-editor ul[data-checked=true]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"\\2611"}.ql-editor ul[data-checked=false]>li:before{content:"\\2610"}.ql-editor li:before{display:inline-block;margin-right:.3em;text-align:right;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em}.ql-editor ol li,.ql-editor ul li{padding-left:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-num}.ql-editor ol li:before{content:counter(list-num,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;pointer-events:none;position:absolute}',""])},function(t,e,i){e=t.exports=i(0)(void 0),e.push([t.i,'/*!\n * Quill Editor v1.2.3\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;cursor:text;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6,.ql-editor ol,.ql-editor p,.ql-editor pre,.ql-editor ul{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"\\2022"}.ql-editor ul[data-checked=false],.ql-editor ul[data-checked=true]{pointer-events:none}.ql-editor ul[data-checked=false]>li *,.ql-editor ul[data-checked=true]>li *{pointer-events:all}.ql-editor ul[data-checked=false]>li:before,.ql-editor ul[data-checked=true]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"\\2611"}.ql-editor ul[data-checked=false]>li:before{content:"\\2610"}.ql-editor li:before{display:inline-block;margin-right:.3em;text-align:right;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em}.ql-editor ol li,.ql-editor ul li{padding-left:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-num}.ql-editor ol li:before{content:counter(list-num,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;pointer-events:none;position:absolute}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:"";display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover{color:#06c}.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter{stroke:#06c}.ql-snow,.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:"";display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-stroke.ql-thin,.ql-snow .ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding-bottom:2px;padding-top:2px}.ql-snow .ql-editor code:after,.ql-snow .ql-editor code:before{content:"\\A0";letter-spacing:-2px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label:before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-item:before,.ql-snow .ql-picker.ql-header .ql-picker-label:before{content:"Normal"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]:before{content:"Heading 1"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]:before{content:"Heading 2"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]:before{content:"Heading 3"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]:before{content:"Heading 4"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]:before{content:"Heading 5"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]:before{content:"Heading 6"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-item:before,.ql-snow .ql-picker.ql-font .ql-picker-label:before{content:"Sans Serif"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]:before{content:"Serif"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before{content:"Monospace"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-item:before,.ql-snow .ql-picker.ql-size .ql-picker-label:before{content:"Normal"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]:before{content:"Small"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]:before{content:"Large"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]:before{content:"Huge"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:0 2px 8px rgba(0,0,0,.2)}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label,.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip:before{content:"Visit URL:";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action:after{border-right:1px solid #ccc;content:"Edit";margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove:before{content:"Remove";margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action:after{border-right:0;content:"Save";padding-right:0}.ql-snow .ql-tooltip[data-mode=link]:before{content:"Enter link:"}.ql-snow .ql-tooltip[data-mode=formula]:before{content:"Enter formula:"}.ql-snow .ql-tooltip[data-mode=video]:before{content:"Enter video:"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}',""])},function(t,e,i){e=t.exports=i(0)(void 0),e.push([t.i,"#quill-container{height:400px}",""])},function(t,e){e.read=function(t,e,i,n,r){var o,l,a=8*r-n-1,s=(1<<a)-1,u=s>>1,c=-7,f=i?r-1:0,d=i?-1:1,h=t[e+f];for(f+=d,o=h&(1<<-c)-1,h>>=-c,c+=a;c>0;o=256*o+t[e+f],f+=d,c-=8);for(l=o&(1<<-c)-1,o>>=-c,c+=n;c>0;l=256*l+t[e+f],f+=d,c-=8);if(0===o)o=1-u;else{if(o===s)return l?NaN:1/0*(h?-1:1);l+=Math.pow(2,n),o-=u}return(h?-1:1)*l*Math.pow(2,o-n)},e.write=function(t,e,i,n,r,o){var l,a,s,u=8*o-r-1,c=(1<<u)-1,f=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,l=c):(l=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-l))<1&&(l--,s*=2),e+=l+f>=1?d/s:d*Math.pow(2,1-f),e*s>=2&&(l++,s/=2),l+f>=c?(a=0,l=c):l+f>=1?(a=(e*s-1)*Math.pow(2,r),l+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,r),l=0));r>=8;t[i+h]=255&a,h+=p,a/=256,r-=8);for(l=l<<r|a,u+=r;u>0;t[i+h]=255&l,h+=p,l/=256,u-=8);t[i+h-p]|=128*m}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e,i){(function(e){!function(e,i){t.exports=function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=136)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(21),r=i(22),o=i(23),l=i(59),a=i(58),s=i(56),u=i(57),c=i(60),f=i(13),d=i(31),h=i(33),p=i(32),m=i(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:n.default,Format:r.default,Leaf:o.default,Embed:u.default,Scroll:l.default,Block:s.default,Inline:a.default,Text:c.default,Attributor:{Attribute:f.default,Class:d.default,Style:h.default,Store:p.default}};e.default=g},function(t,e,i){"use strict";function n(t,e){var i=o(t);if(null==i)throw new s("Unable to create "+t+" blot");var n=i;return new n(t instanceof Node?t:n.create(e),e)}function r(t,i){return void 0===i&&(i=!1),null==t?null:null!=t[e.DATA_KEY]?t[e.DATA_KEY].blot:i?r(t.parentNode,i):null}function o(t,e){void 0===e&&(e=h.ANY);var i;if("string"==typeof t)i=d[t]||u[t];else if(t instanceof Text)i=d.text;else if("number"==typeof t)t&h.LEVEL&h.BLOCK?i=d.block:t&h.LEVEL&h.INLINE&&(i=d.inline);else if(t instanceof HTMLElement){var n=(t.getAttribute("class")||"").split(/\s+/);for(var r in n)if(i=c[n[r]])break;i=i||f[t.tagName]}return null==i?null:e&h.LEVEL&i.scope&&e&h.TYPE&i.scope?i:null}function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length>1)return t.map(function(t){return l(t)});var i=t[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new s("Invalid definition");if("abstract"===i.blotName)throw new s("Cannot register abstract class");if(d[i.blotName||i.attrName]=i,"string"==typeof i.keyName)u[i.keyName]=i;else if(null!=i.className&&(c[i.className]=i),null!=i.tagName){Array.isArray(i.tagName)?i.tagName=i.tagName.map(function(t){return t.toUpperCase()}):i.tagName=i.tagName.toUpperCase();var n=Array.isArray(i.tagName)?i.tagName:[i.tagName];n.forEach(function(t){null!=f[t]&&null!=i.className||(f[t]=i)})}return i}var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){var i=this;return e="[Parchment] "+e,i=t.call(this,e)||this,i.message=e,i.name=i.constructor.name,i}return a(e,t),e}(Error);e.ParchmentError=s;var u={},c={},f={},d={};e.DATA_KEY="__blot";var h;(function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"})(h=e.Scope||(e.Scope={})),e.create=n,e.find=r,e.query=o,e.register=l},function(t,e,i){var n=i(54),r=i(11),o=i(3),l=i(20),a=String.fromCharCode(0),s=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};s.prototype.insert=function(t,e){var i={};return 0===t.length?this:(i.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(i.attributes=e),this.push(i))},s.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},s.prototype.retain=function(t,e){if(t<=0)return this;var i={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(i.attributes=e),this.push(i)},s.prototype.push=function(t){var e=this.ops.length,i=this.ops[e-1];if(t=o(!0,{},t),"object"==typeof i){if("number"==typeof t.delete&&"number"==typeof i.delete)return this.ops[e-1]={delete:i.delete+t.delete},this;if("number"==typeof i.delete&&null!=t.insert&&(e-=1,"object"!=typeof(i=this.ops[e-1])))return this.ops.unshift(t),this;if(r(t.attributes,i.attributes)){if("string"==typeof t.insert&&"string"==typeof i.insert)return this.ops[e-1]={insert:i.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof i.retain)return this.ops[e-1]={retain:i.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},s.prototype.filter=function(t){return this.ops.filter(t)},s.prototype.forEach=function(t){this.ops.forEach(t)},s.prototype.map=function(t){return this.ops.map(t)},s.prototype.partition=function(t){var e=[],i=[];return this.forEach(function(n){(t(n)?e:i).push(n)}),[e,i]},s.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},s.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},s.prototype.length=function(){return this.reduce(function(t,e){return t+l.length(e)},0)},s.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var i=[],n=l.iterator(this.ops),r=0;r<e&&n.hasNext();){var o;r<t?o=n.next(t-r):(o=n.next(e-r),i.push(o)),r+=l.length(o)}return new s(i)},s.prototype.compose=function(t){for(var e=l.iterator(this.ops),i=l.iterator(t.ops),n=new s;e.hasNext()||i.hasNext();)if("insert"===i.peekType())n.push(i.next());else if("delete"===e.peekType())n.push(e.next());else{var r=Math.min(e.peekLength(),i.peekLength()),o=e.next(r),a=i.next(r);if("number"==typeof a.retain){var u={};"number"==typeof o.retain?u.retain=r:u.insert=o.insert;var c=l.attributes.compose(o.attributes,a.attributes,"number"==typeof o.retain);c&&(u.attributes=c),n.push(u)}else"number"==typeof a.delete&&"number"==typeof o.retain&&n.push(a)}return n.chop()},s.prototype.concat=function(t){var e=new s(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},s.prototype.diff=function(t,e){if(this.ops===t.ops)return new s;var i=[this,t].map(function(e){return e.map(function(i){if(null!=i.insert)return"string"==typeof i.insert?i.insert:a;var n=e===t?"on":"with";throw new Error("diff() called "+n+" non-document")}).join("")}),o=new s,u=n(i[0],i[1],e),c=l.iterator(this.ops),f=l.iterator(t.ops);return u.forEach(function(t){for(var e=t[1].length;e>0;){var i=0;switch(t[0]){case n.INSERT:i=Math.min(f.peekLength(),e),o.push(f.next(i));break;case n.DELETE:i=Math.min(e,c.peekLength()),c.next(i),o.delete(i);break;case n.EQUAL:i=Math.min(c.peekLength(),f.peekLength(),e);var a=c.next(i),s=f.next(i);r(a.insert,s.insert)?o.retain(i,l.attributes.diff(a.attributes,s.attributes)):o.push(s).delete(i)}e-=i}}),o.chop()},s.prototype.eachLine=function(t,e){e=e||"\n";for(var i=l.iterator(this.ops),n=new s,r=0;i.hasNext();){if("insert"!==i.peekType())return;var o=i.peek(),a=l.length(o)-i.peekLength(),u="string"==typeof o.insert?o.insert.indexOf(e,a)-a:-1;if(u<0)n.push(i.next());else if(u>0)n.push(i.next(u));else{if(!1===t(n,i.next(1).attributes||{},r))return;r+=1,n=new s}}n.length()>0&&t(n,{},r)},s.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var i=l.iterator(this.ops),n=l.iterator(t.ops),r=new s;i.hasNext()||n.hasNext();)if("insert"!==i.peekType()||!e&&"insert"===n.peekType())if("insert"===n.peekType())r.push(n.next());else{var o=Math.min(i.peekLength(),n.peekLength()),a=i.next(o),u=n.next(o);if(a.delete)continue;u.delete?r.push(u):r.retain(o,l.attributes.transform(a.attributes,u.attributes,e))}else r.retain(l.length(i.next()));return r.chop()},s.prototype.transformPosition=function(t,e){e=!!e;for(var i=l.iterator(this.ops),n=0;i.hasNext()&&n<=t;){var r=i.peekLength(),o=i.peekType();i.next(),"delete"!==o?("insert"===o&&(n<t||!e)&&(t+=r),n+=r):t-=Math.min(r,t-n)}return t},t.exports=s},function(t,e){"use strict";var i=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===n.call(t)},o=function(t){if(!t||"[object Object]"!==n.call(t))return!1;var e=i.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&i.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!r)return!1;var o;for(o in t);return void 0===o||i.call(t,o)};t.exports=function t(){var e,i,n,l,a,s,u=arguments[0],c=1,f=arguments.length,d=!1;for("boolean"==typeof u?(d=u,u=arguments[1]||{},c=2):("object"!=typeof u&&"function"!=typeof u||null==u)&&(u={});c<f;++c)if(null!=(e=arguments[c]))for(i in e)n=u[i],l=e[i],u!==l&&(d&&l&&(o(l)||(a=r(l)))?(a?(a=!1,s=n&&r(n)?n:[]):s=n&&o(n)?n:{},u[i]=t(d,s,l)):void 0!==l&&(u[i]=l));return u}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0,f.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:a(t.parent,e))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},c=i(3),f=n(c),d=i(2),h=n(d),p=i(0),m=n(p),g=i(17),v=n(g),b=i(7),y=n(b),x=i(8),w=n(x),k=i(12),_=n(k),q=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),s(e,[{key:"attach",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new h.default).insert(this.value(),(0,f.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var i=m.default.query(t,m.default.Scope.BLOCK_ATTRIBUTE);null!=i&&this.attributes.attribute(i,e)}},{key:"formatAt",value:function(t,e,i,n){this.format(i,n)}},{key:"insertAt",value:function(t,i,n){if("string"==typeof i&&i.endsWith("\n")){var r=m.default.create(C.blotName);this.parent.insertBefore(r,0===t?this:this.next),r.insertAt(0,i.slice(0,-1))}else u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,i,n)}}]),e}(y.default);q.scope=m.default.Scope.BLOCK_BLOT;var C=function(t){function e(t){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.cache={},i}return l(e,t),s(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(t,e){return 0===e.length()?t:t.insert(e.value(),a(e))},new h.default).insert("\n",a(this))),this.cache.delta}},{key:"deleteAt",value:function(t,i){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,i),this.cache={}}},{key:"formatAt",value:function(t,i,n,r){i<=0||(m.default.query(n,m.default.Scope.BLOCK)?t+i===this.length()&&this.format(n,r):u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(i,this.length()-t-1),n,r),this.cache={})}},{key:"insertAt",value:function(t,i,n){if(null!=n)return u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,i,n);if(0!==i.length){var r=i.split("\n"),o=r.shift();o.length>0&&(t<this.length()-1||null==this.children.tail?u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var l=this;r.reduce(function(t,e){return l=l.split(t,!0),l.insertAt(0,e),e.length},t+o.length)}}},{key:"insertBefore",value:function(t,i){var n=this.children.head;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,i),n instanceof v.default&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,i){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,i),this.cache={}}},{key:"optimize",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this),this.cache={}}},{key:"path",value:function(t){return u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i&&(0===t||t>=this.length()-1)){var n=this.clone();return 0===t?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var r=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,i);return this.cache={},r}}]),e}(m.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[w.default,y.default,_.default],e.bubbleFormats=a,e.BlockEmbed=q,e.default=C},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},u=i(53),c=n(u),f=i(10),d=n(f),h=(0,d.default)("quill:events"),p=function(t){function e(){r(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.on("error",h.error),t}return l(e,t),a(e,[{key:"emit",value:function(){h.log.apply(h,arguments),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}}]),e}(c.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},e.default=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(e=(0,A.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e),e.theme&&e.theme!==L.DEFAULTS.theme){if(e.theme=L.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=E.default;var i=(0,A.default)(!0,{},e.theme.DEFAULTS);[i,e].forEach(function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach(function(e){!0===t.modules[e]&&(t.modules[e]={})})});var n=Object.keys(i.modules).concat(Object.keys(e.modules)),r=n.reduce(function(t,e){var i=L.import("modules/"+e);return null==i?M.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=i.DEFAULTS||{},t},{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,A.default)(!0,{},L.DEFAULTS,{modules:r},i,e),["bounds","container","scrollingContainer"].forEach(function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),e.modules=Object.keys(e.modules).reduce(function(t,i){return e.modules[i]&&(t[i]=e.modules[i]),t},{}),e}function a(t,e,i,n){if(this.options.strict&&!this.isEnabled()&&e===b.default.sources.USER)return new p.default;var r=null==i?null:this.getSelection(),o=this.editor.delta,l=t();if(null!=r&&(!0===i&&(i=r.index),null==n?r=u(r,l,e):0!==n&&(r=u(r,i,n,e)),this.setSelection(r,b.default.sources.SILENT)),l.length()>0){var a,s=[b.default.events.TEXT_CHANGE,l,o,e];if((a=this.emitter).emit.apply(a,[b.default.events.EDITOR_CHANGE].concat(s)),e!==b.default.sources.SILENT){var c;(c=this.emitter).emit.apply(c,s)}}return l}function s(t,e,i,n,r){var o={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(r=n,n=i,i=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(r=n,n=i,i=e,e=0),"object"===(void 0===i?"undefined":c(i))?(o=i,r=n):"string"==typeof i&&(null!=n?o[i]=n:r=i),r=r||b.default.sources.API,[t,e,o,r]}function u(t,e,i,n){if(null==t)return null;var r=void 0,o=void 0;if(e instanceof p.default){var l=[t.index,t.index+t.length].map(function(t){return e.transformPosition(t,n===b.default.sources.USER)}),a=f(l,2);r=a[0],o=a[1]}else{var s=[t.index,t.index+t.length].map(function(t){return t<e||t===e&&n!==b.default.sources.USER?t:i>=0?t+i:Math.max(e,t+i)}),u=f(s,2);r=u[0],o=u[1]}return new _.Range(r,o-r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(n=(l=a.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i(43);var h=i(2),p=n(h),m=i(14),g=n(m),v=i(5),b=n(v),y=i(9),x=n(y),w=i(0),k=n(w),_=i(15),q=n(_),C=i(3),A=n(C),S=i(10),O=n(S),T=i(29),E=n(T),M=(0,O.default)("quill"),L=function(){function t(e){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(this,t),this.options=l(e,n),this.container=this.options.container,null==this.container)return M.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new b.default,this.scroll=k.default.create(this.root,{emitter:this.emitter,scrollingContainer:this.scrollingContainer,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new q.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(b.default.events.EDITOR_CHANGE,function(t){t===b.default.events.TEXT_CHANGE&&i.root.classList.toggle("ql-blank",i.editor.isBlank())}),this.emitter.on(b.default.events.SCROLL_UPDATE,function(t,e){var n=i.selection.lastRange,r=n&&0===n.length?n.index:void 0;a.call(i,function(){return i.editor.update(null,e,r)},t)});var s=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(s),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return d(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),O.default.level(t)}},{key:"find",value:function(t){return t.__quill||k.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&M.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var r=t.attrName||t.blotName;"string"==typeof r?this.register("formats/"+r,t,e):Object.keys(t).forEach(function(n){i.register(n,t[n],e)})}else null==this.imports[t]||n||M.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?k.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),d(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var i=t;t=document.createElement("div"),t.classList.add(i)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,i){var n=this,r=s(t,e,i),o=f(r,4);return t=o[0],e=o[1],i=o[3],a.call(this,function(){return n.editor.deleteText(t,e)},i,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.selection.scrollIntoView()}},{key:"format",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.default.sources.API;return a.call(this,function(){var n=i.getSelection(!0),o=new p.default;if(null==n)return o;if(k.default.query(t,k.default.Scope.BLOCK))o=i.editor.formatLine(n.index,n.length,r({},t,e));else{if(0===n.length)return i.selection.format(t,e),o;o=i.editor.formatText(n.index,n.length,r({},t,e))}return i.setSelection(n,b.default.sources.SILENT),o},n)}},{key:"formatLine",value:function(t,e,i,n,r){var o=this,l=void 0,u=s(t,e,i,n,r),c=f(u,4);return t=c[0],e=c[1],l=c[2],r=c[3],a.call(this,function(){return o.editor.formatLine(t,e,l)},r,t,0)}},{key:"formatText",value:function(t,e,i,n,r){var o=this,l=void 0,u=s(t,e,i,n,r),c=f(u,4);return t=c[0],e=c[1],l=c[2],r=c[3],a.call(this,function(){return o.editor.formatText(t,e,l)},r,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=void 0;i="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var n=this.container.getBoundingClientRect();return{bottom:i.bottom-n.top,height:i.height,left:i.left-n.left,right:i.right-n.left,top:i.top-n.top,width:i.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,i=s(t,e),n=f(i,2);return t=n[0],e=n[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,i=s(t,e),n=f(i,2);return t=n[0],e=n[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,i,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return a.call(this,function(){return r.editor.insertEmbed(e,i,n)},o,e)}},{key:"insertText",value:function(t,e,i,n,r){var o=this,l=void 0,u=s(t,0,i,n,r),c=f(u,4);return t=c[0],l=c[2],r=c[3],a.call(this,function(){return o.editor.insertText(t,e,l)},r,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,i){this.clipboard.dangerouslyPasteHTML(t,e,i)}},{key:"removeFormat",value:function(t,e,i){var n=this,r=s(t,e,i),o=f(r,4);return t=o[0],e=o[1],i=o[3],a.call(this,function(){return n.editor.removeFormat(t,e)},i,t)}},{key:"setContents",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.default.sources.API;return a.call(this,function(){t=new p.default(t);var i=e.getLength(),n=e.editor.deleteText(0,i),r=e.editor.applyDelta(t),o=r.ops[r.ops.length-1];return null!=o&&"string"==typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),r.delete(1)),n.compose(r)},i)}},{key:"setSelection",value:function(e,i,n){if(null==e)this.selection.setRange(null,i||t.sources.API);else{var r=s(e,i,n),o=f(r,4);e=o[0],i=o[1],n=o[3],this.selection.setRange(new _.Range(e,i),n)}n!==b.default.sources.SILENT&&this.selection.scrollIntoView()}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.default.sources.API,i=(new p.default).insert(t);return this.setContents(i,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.default.sources.API;return a.call(this,function(){return t=new p.default(t),e.editor.applyDelta(t,i)},i,!0)}}]),t}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=b.default.events,L.sources=b.default.sources,L.version="1.2.3",L.imports={delta:p.default,parchment:k.default,"core/module":x.default,"core/theme":E.default},e.expandConfig=l,e.overload=s,e.default=L},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=i(0),a=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(a.default.Embed);e.default=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},u=i(7),c=n(u),f=i(12),d=n(f),h=i(0),p=n(h),m=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"formatAt",value:function(t,i,n,r){if(e.compare(this.statics.blotName,n)<0&&p.default.query(n,p.default.Scope.BLOT)){var o=this.isolate(t,i);r&&o.wrap(n,r)}else s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,i,n,r)}},{key:"optimize",value:function(){if(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}],[{key:"compare",value:function(t,i){var n=e.order.indexOf(t),r=e.order.indexOf(i);return n>=0||r>=0?n-r:t===i?0:t<i?-1:1}}]),e}(p.default.Inline);m.allowedChildren=[m,c.default,d.default],m.order=["cursor","inline","code","underline","strike","italic","bold","script","link"],e.default=m},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.quill=e,this.options=i};r.DEFAULTS={},e.default=r},function(t,e,i){"use strict";function n(t){if(o.indexOf(t)<=o.indexOf(l)){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];console[t].apply(console,i)}}function r(t){return o.reduce(function(e,i){return e[i]=n.bind(console,i,t),e},{})}Object.defineProperty(e,"__esModule",{value:!0});var o=["error","warn","log","info"],l="warn";n.level=r.level=function(t){l=t},e.default=r},function(t,e,i){function n(t){return null===t||void 0===t}function r(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}function o(t,e,i){var o,c;if(n(t)||n(e))return!1;if(t.prototype!==e.prototype)return!1;if(s(t))return!!s(e)&&(t=l.call(t),e=l.call(e),u(t,e,i));if(r(t)){if(!r(e))return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}try{var f=a(t),d=a(e)}catch(t){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),o=f.length-1;o>=0;o--)if(f[o]!=d[o])return!1;for(o=f.length-1;o>=0;o--)if(c=f[o],!u(t[c],e[c],i))return!1;return typeof t==typeof e}var l=Array.prototype.slice,a=i(52),s=i(51),u=t.exports=function(t,e,i){return i||(i={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?i.strict?t===e:t==e:o(t,e,i))}},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=i(0),a=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(a.default.Text);e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(){function t(t,e,i){void 0===i&&(i={}),this.attrName=t,this.keyName=e;var r=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=i.scope?this.scope=i.scope&n.Scope.LEVEL|r:this.scope=n.Scope.ATTRIBUTE,null!=i.whitelist&&(this.whitelist=i.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,function(t){return t.name})},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=n.query(t,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||this.whitelist.indexOf(e)>-1)},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)?e:""},t}();e.default=r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){return Object.keys(e).reduce(function(i,n){return null==t[n]?i:(e[n]===t[n]?i[n]=e[n]:Array.isArray(e[n])?e[n].indexOf(t[n])<0&&(i[n]=e[n].concat([t[n]])):i[n]=[e[n],t[n]],i)},{})}function a(t){return t.reduce(function(t,e){if(1===e.insert){var i=(0,q.default)(e.attributes);return delete i.image,t.insert({image:e.attributes.image},i)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||(e=(0,q.default)(e),e.attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)},new d.default)}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(n=(l=a.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),f=i(2),d=n(f),h=i(20),p=n(h),m=i(0),g=n(m),v=i(16),b=n(v),y=i(25),x=n(y),w=i(4),k=n(w),_=i(19),q=n(_),C=i(11),A=n(C),S=i(3),O=n(S),T=function(){function t(e){o(this,t),this.scroll=e,this.delta=this.getDelta()}return c(t,[{key:"applyDelta",value:function(t){var e=this,i=!1;this.scroll.update();var n=this.scroll.length();return this.scroll.batch=!0,t=a(t),t.reduce(function(t,r){var o=r.retain||r.delete||r.insert.length||1,l=r.attributes||{};if(null!=r.insert){if("string"==typeof r.insert){var a=r.insert;a.endsWith("\n")&&i&&(i=!1,a=a.slice(0,-1)),t>=n&&!a.endsWith("\n")&&(i=!0),e.scroll.insertAt(t,a);var c=e.scroll.line(t),f=u(c,2),d=f[0],h=f[1],m=(0,O.default)({},(0,w.bubbleFormats)(d));if(d instanceof k.default){var v=d.descendant(g.default.Leaf,h),b=u(v,1),y=b[0];m=(0,O.default)(m,(0,w.bubbleFormats)(y))}l=p.default.attributes.diff(m,l)||{}}else if("object"===s(r.insert)){var x=Object.keys(r.insert)[0];if(null==x)return t;e.scroll.insertAt(t,x,r.insert[x])}n+=o}return Object.keys(l).forEach(function(i){e.scroll.formatAt(t,o,i,l[i])}),t+o},0),t.reduce(function(t,i){return"number"==typeof i.delete?(e.scroll.deleteAt(t,i.delete),t):t+(i.retain||i.insert.length||1)},0),this.scroll.batch=!1,this.scroll.optimize(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new d.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach(function(r){if(null==i.scroll.whitelist||i.scroll.whitelist[r]){var o=i.scroll.lines(t,Math.max(e,1)),l=e;o.forEach(function(e){var o=e.length();if(e instanceof b.default){var a=t-e.offset(i.scroll),s=e.newlineIndex(a+l)-a+1;e.formatAt(a,s,r,n[r])}else e.format(r,n[r]);l-=o})}}),this.scroll.optimize(),this.update((new d.default).retain(t).retain(e,(0,q.default)(n)))}},{key:"formatText",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach(function(r){i.scroll.formatAt(t,e,r,n[r])}),this.update((new d.default).retain(t).retain(e,(0,q.default)(n)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new d.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],n=[];0===e?this.scroll.path(t).forEach(function(t){var e=u(t,1),r=e[0];r instanceof k.default?i.push(r):r instanceof g.default.Leaf&&n.push(r)}):(i=this.scroll.lines(t,e),n=this.scroll.descendants(g.default.Leaf,t,e));var r=[i,n].map(function(t){if(0===t.length)return{};for(var e=(0,w.bubbleFormats)(t.shift());Object.keys(e).length>0;){var i=t.shift();if(null==i)return e;e=l((0,w.bubbleFormats)(i),e)}return e});return O.default.apply(O.default,r)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter(function(t){return"string"==typeof t.insert}).map(function(t){return t.insert}).join("")}},{key:"insertEmbed",value:function(t,e,i){return this.scroll.insertAt(t,e,i),this.update((new d.default).retain(t).insert(r({},e,i)))}},{key:"insertText",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(n).forEach(function(r){i.scroll.formatAt(t,e.length,r,n[r])}),this.update((new d.default).retain(t).insert(e,(0,q.default)(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.length()<=1&&0==Object.keys(t.formats()).length}},{key:"removeFormat",value:function(t,e){var i=this.getText(t,e),n=this.scroll.line(t+e),r=u(n,2),o=r[0],l=r[1],a=0,s=new d.default;null!=o&&(a=o instanceof b.default?o.newlineIndex(l)-l+1:o.length()-l,s=o.delta().slice(l,l+a-1).insert("\n"));var c=this.getContents(t,e+a),f=c.diff((new d.default).insert(i).concat(s)),h=(new d.default).retain(t).concat(f);return this.applyDelta(h)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===e.length&&"characterData"===e[0].type&&g.default.find(e[0].target)){var r=g.default.find(e[0].target),o=(0,w.bubbleFormats)(r),l=r.offset(this.scroll),a=e[0].oldValue.replace(x.default.CONTENTS,""),s=(new d.default).insert(a),u=(new d.default).insert(r.value());t=(new d.default).retain(l).concat(s.diff(u,i)).reduce(function(t,e){return e.insert?t.insert(e.insert,o):t.push(e)},new d.default),this.delta=n.compose(t)}else this.delta=this.getDelta(),t&&(0,A.default)(n.compose(t),this.delta)||(t=n.diff(this.delta,i));return t}}]),t}();e.default=T},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var a=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(n=(l=a.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),c=n(u),f=i(19),d=n(f),h=i(11),p=n(h),m=i(5),g=n(m),v=i(10),b=n(v),y=(0,b.default)("quill:selection"),x=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o(this,t),this.index=e,this.length=i},w=function(){function t(e,i){var n=this;o(this,t),this.emitter=i,this.scroll=e,this.composing=!1,this.root=this.scroll.domNode,this.root.addEventListener("compositionstart",function(){n.composing=!0}),this.root.addEventListener("compositionend",function(){n.composing=!1}),this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new x(0,0),["keyup","mouseup","mouseleave","touchend","touchleave","focus","blur"].forEach(function(t){n.root.addEventListener(t,function(){setTimeout(n.update.bind(n,g.default.sources.USER),100)})}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(t,e){t===g.default.events.TEXT_CHANGE&&e.length()>0&&n.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){var t=n.getNativeRange();null!=t&&t.start.node!==n.cursor.textNode&&n.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{n.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}})}),this.update(g.default.sources.SILENT)}return s(t,[{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var i=this.getNativeRange();if(null!=i&&i.native.collapsed&&!c.default.query(t,c.default.Scope.BLOCK)){if(i.start.node!==this.cursor.textNode){var n=c.default.find(i.start.node,!1);if(null==n)return;if(n instanceof c.default.Leaf){var r=n.split(i.start.offset);n.parent.insertBefore(this.cursor,r)}else n.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.scroll.length();t=Math.min(t,i-1),e=Math.min(t+e,i-1)-t;var n=void 0,r=this.scroll.leaf(t),o=a(r,2),l=o[0],s=o[1];if(null==l)return null;var u=l.position(s,!0),c=a(u,2);n=c[0],s=c[1];var f=document.createRange();if(e>0){f.setStart(n,s);var d=this.scroll.leaf(t+e),h=a(d,2);if(l=h[0],s=h[1],null==l)return null;var p=l.position(s,!0),m=a(p,2);return n=m[0],s=m[1],f.setEnd(n,s),f.getBoundingClientRect()}var g="left",v=void 0;return n instanceof Text?(s<n.data.length?(f.setStart(n,s),f.setEnd(n,s+1)):(f.setStart(n,s-1),f.setEnd(n,s),g="right"),v=f.getBoundingClientRect()):(v=l.domNode.getBoundingClientRect(),s>0&&(g="right")),{bottom:v.top+v.height,height:v.height,left:v[g],right:v[g],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;if(!l(this.root,e.startContainer)||!e.collapsed&&!l(this.root,e.endContainer))return null;var i={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[i.start,i.end].forEach(function(t){for(var e=t.node,i=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>i)e=e.childNodes[i],i=0;else{if(e.childNodes.length!==i)break;e=e.lastChild,i=e instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=i}),y.info("getNativeRange",i),i}},{key:"getRange",value:function(){var t=this,e=this.getNativeRange();if(null==e)return[null,null];var i=[[e.start.node,e.start.offset]];e.native.collapsed||i.push([e.end.node,e.end.offset]);var n=i.map(function(e){var i=a(e,2),n=i[0],r=i[1],o=c.default.find(n,!0),l=o.offset(t.scroll);return 0===r?l:o instanceof c.default.Container?l+o.length():l+o.index(n,r)}),o=Math.min.apply(Math,r(n)),l=Math.max.apply(Math,r(n));return l=Math.min(l,this.scroll.length()-1),[new x(o,l-o),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"scrollIntoView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastRange;if(null!=t){var e=this.getBounds(t.index,t.length);if(null!=e){var i=this.scroll.length()-1,n=this.scroll.line(Math.min(t.index,i)),r=a(n,1),o=r[0],l=o;if(t.length>0){var s=this.scroll.line(Math.min(t.index+t.length,i));l=a(s,1)[0]}if(null!=o&&null!=l){var u=this.scroll.scrollingContainer,c=u.getBoundingClientRect();e.top<c.top?u.scrollTop-=c.top-e.top:e.bottom>c.bottom&&(u.scrollTop+=e.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(y.info("setNativeRange",t,e,i,n),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=i.parentNode){var o=document.getSelection();if(null!=o)if(null!=t){this.hasFocus()||this.root.focus();var l=(this.getNativeRange()||{}).native;if(null==l||r||t!==l.startContainer||e!==l.startOffset||i!==l.endContainer||n!==l.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==i.tagName&&(n=[].indexOf.call(i.parentNode.childNodes,i),i=i.parentNode);var a=document.createRange();a.setStart(t,e),a.setEnd(i,n),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.default.sources.API;if("string"==typeof i&&(n=i,i=!1),y.info("setRange",t),null!=t){var o=t.collapsed?[t.index]:[t.index,t.index+t.length],l=[],s=this.scroll.length();o.forEach(function(t,i){t=Math.min(s-1,t);var n=void 0,r=e.scroll.leaf(t),o=a(r,2),u=o[0],c=o[1],f=u.position(c,0!==i),d=a(f,2);n=d[0],c=d[1],l.push(n,c)}),l.length<2&&(l=l.concat(l)),this.setNativeRange.apply(this,r(l).concat([i]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.sources.USER,e=this.lastRange,i=this.getRange(),n=a(i,2),r=n[0],o=n[1];if(this.lastRange=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,p.default)(e,this.lastRange)){var l;!this.composing&&null!=o&&o.native.collapsed&&o.start.node!==this.cursor.textNode&&this.cursor.restore();var s=[g.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(e),t];if((l=this.emitter).emit.apply(l,[g.default.events.EDITOR_CHANGE].concat(s)),t!==g.default.sources.SILENT){var u;(u=this.emitter).emit.apply(u,s)}}}}]),t}();e.Range=x,e.default=w},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var a=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(n=(l=a.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},c=i(2),f=n(c),d=i(0),h=n(d),p=i(4),m=n(p),g=i(8),v=n(g),b=i(12),y=n(b),x=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(v.default);x.blotName="code",x.tagName="CODE";var w=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),s(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce(function(e,i){return e.insert(i).insert("\n",t.formats())},new f.default)}},{key:"format",value:function(t,i){if(t!==this.statics.blotName||!i){var n=this.descendant(y.default,this.length()-1),r=a(n,1),o=r[0];null!=o&&o.deleteAt(o.length()-1,1),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,i)}}},{key:"formatAt",value:function(t,i,n,r){if(0!==i&&null!=h.default.query(n,h.default.Scope.BLOCK)&&(n!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var o=this.newlineIndex(t);if(!(o<0||o>=t+i)){var l=this.newlineIndex(t,!0)+1,a=o-l+1,s=this.isolate(l,a),u=s.next;s.format(n,r),u instanceof e&&u.formatAt(0,t-l+i-a,n,r)}}}},{key:"insertAt",value:function(t,e,i){if(null==i){var n=this.descendant(y.default,t),r=a(n,2),o=r[0],l=r[1];o.insertAt(l,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}},{key:"optimize",value:function(){this.domNode.textContent.endsWith("\n")||this.appendChild(h.default.create("text","\n")),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===t.statics.formats(t.domNode)&&(t.optimize(),t.moveChildren(this),t.remove())}},{key:"replace",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(t){var e=h.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof h.default.Embed?e.remove():e.unwrap()})}}],[{key:"create",value:function(t){var i=u(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return i.setAttribute("spellcheck",!1),i}},{key:"formats",value:function(){return!0}}]),e}(m.default);w.blotName="code-block",w.tagName="PRE",w.TAB="  ",e.Code=x,e.default=w},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},s=i(7),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"insertInto",value:function(t,i){0===t.children.length?a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,i):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(u.default);c.blotName="break",c.tagName="BR",e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t instanceof g.default||t instanceof m.BlockEmbed}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(n=(l=a.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},f=i(0),d=n(f),h=i(5),p=n(h),m=i(4),g=n(m),v=i(17),b=n(v),y=i(24),x=n(y),w=i(16),k=n(w),_=function(t){function e(t,i){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.emitter=i.emitter,n.scrollingContainer=i.scrollingContainer,Array.isArray(i.whitelist)&&(n.whitelist=i.whitelist.reduce(function(t,e){return t[e]=!0,t},{})),n.optimize(),n.enable(),n}return l(e,t),u(e,[{key:"deleteAt",value:function(t,i){var n=this.line(t),r=s(n,2),o=r[0],l=r[1],a=this.line(t+i),u=s(a,1),f=u[0];if(c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,i),null!=f&&o!==f&&l>0&&!(o instanceof m.BlockEmbed)&&!(f instanceof m.BlockEmbed)){f instanceof k.default&&f.deleteAt(f.length()-1,1);var d=f.children.head instanceof b.default?null:f.children.head;o.moveChildren(f,d),o.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,i,n,r){(null==this.whitelist||this.whitelist[n])&&(c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,i,n,r),this.optimize())}},{key:"insertAt",value:function(t,i,n){if(null==n||null==this.whitelist||this.whitelist[i]){if(t>=this.length())if(null==n||null==d.default.query(i,d.default.Scope.BLOCK)){var r=d.default.create(this.statics.defaultChild);this.appendChild(r),null==n&&i.endsWith("\n")&&(i=i.slice(0,-1)),r.insertAt(0,i,n)}else{var o=d.default.create(i,n);this.appendChild(o)}else c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,i,n);this.optimize()}}},{key:"insertBefore",value:function(t,i){if(t.statics.scope===d.default.Scope.INLINE_BLOT){var n=d.default.create(this.statics.defaultChild);n.appendChild(t),t=n}c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,i)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(a,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return function t(e,i,n){var r=[],o=n;return e.children.forEachAt(i,n,function(e,i,n){a(e)?r.push(e):e instanceof d.default.Container&&(r=r.concat(t(e,i,o))),o-=n}),r}(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!0!==this.batch&&(c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),t.length>0&&this.emitter.emit(p.default.events.SCROLL_OPTIMIZE,t))}},{key:"path",value:function(t){return c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var i=p.default.sources.USER;"string"==typeof t&&(i=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(p.default.events.SCROLL_BEFORE_UPDATE,i,t),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(p.default.events.SCROLL_UPDATE,i,t)}}}]),e}(d.default.Scroll);_.blotName="scroll",_.className="ql-editor",_.tagName="DIV",_.defaultChild="block",_.allowedChildren=[g.default,m.BlockEmbed,x.default],e.default=_},function(t,i){var n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}function i(n,r,o,l,f){function d(n,o){if(null===n)return null;if(0===o)return n;var g,v;if("object"!=typeof n)return n;if(t(n,s))g=new s;else if(t(n,u))g=new u;else if(t(n,c))g=new c(function(t,e){n.then(function(e){t(d(e,o-1))},function(t){e(d(t,o-1))})});else if(i.__isArray(n))g=[];else if(i.__isRegExp(n))g=new RegExp(n.source,a(n)),n.lastIndex&&(g.lastIndex=n.lastIndex);else if(i.__isDate(n))g=new Date(n.getTime());else{if(m&&e.isBuffer(n))return g=new e(n.length),n.copy(g),g;t(n,Error)?g=Object.create(n):void 0===l?(v=Object.getPrototypeOf(n),g=Object.create(v)):(g=Object.create(l),v=l)}if(r){var b=h.indexOf(n);if(-1!=b)return p[b];h.push(n),p.push(g)}t(n,s)&&n.forEach(function(t,e){var i=d(e,o-1),n=d(t,o-1);g.set(i,n)}),t(n,u)&&n.forEach(function(t){var e=d(t,o-1);g.add(e)});for(var y in n){var x;v&&(x=Object.getOwnPropertyDescriptor(v,y)),x&&null==x.set||(g[y]=d(n[y],o-1))}if(Object.getOwnPropertySymbols)for(var w=Object.getOwnPropertySymbols(n),y=0;y<w.length;y++){var k=w[y],_=Object.getOwnPropertyDescriptor(n,k);(!_||_.enumerable||f)&&(g[k]=d(n[k],o-1),_.enumerable||Object.defineProperty(g,k,{enumerable:!1}))}if(f)for(var q=Object.getOwnPropertyNames(n),y=0;y<q.length;y++){var C=q[y],_=Object.getOwnPropertyDescriptor(n,C);_&&_.enumerable||(g[C]=d(n[C],o-1),Object.defineProperty(g,C,{enumerable:!1}))}return g}"object"==typeof r&&(o=r.depth,l=r.prototype,f=r.includeNonEnumerable,r=r.circular);var h=[],p=[],m=void 0!==e;return void 0===r&&(r=!0),void 0===o&&(o=1/0),d(n,o)}function n(t){return Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&"[object Date]"===n(t)}function o(t){return"object"==typeof t&&"[object Array]"===n(t)}function l(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}var s;try{s=Map}catch(t){s=function(){}}var u;try{u=Set}catch(t){u=function(){}}var c;try{c=Promise}catch(t){c=function(){}}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=n,i.__isDate=r,i.__isArray=o,i.__isRegExp=l,i.__getRegExpFlags=a,i}();"object"==typeof t&&t.exports&&(t.exports=n)},function(t,e,i){function n(t){this.ops=t,this.index=0,this.offset=0}var r=i(11),o=i(3),l={attributes:{compose:function(t,e,i){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=o(!0,{},e);i||(n=Object.keys(n).reduce(function(t,e){return null!=n[e]&&(t[e]=n[e]),t},{}));for(var r in t)void 0!==t[r]&&void 0===e[r]&&(n[r]=t[r]);return Object.keys(n).length>0?n:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var i=Object.keys(t).concat(Object.keys(e)).reduce(function(i,n){return r(t[n],e[n])||(i[n]=void 0===e[n]?null:e[n]),i},{});return Object.keys(i).length>0?i:void 0},transform:function(t,e,i){if("object"!=typeof t)return e;if("object"==typeof e){if(!i)return e;var n=Object.keys(e).reduce(function(i,n){return void 0===t[n]&&(i[n]=e[n]),i},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(t){return new n(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};n.prototype.hasNext=function(){return this.peekLength()<1/0},n.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var i=this.offset,n=l.length(e);if(t>=n-i?(t=n-i,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var r={};return e.attributes&&(r.attributes=e.attributes),"number"==typeof e.retain?r.retain=t:"string"==typeof e.insert?r.insert=e.insert.substr(i,t):r.insert=e.insert,r}return{retain:1/0}},n.prototype.peek=function(){return this.ops[this.index]},n.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},n.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.exports=l},function(t,e,i){"use strict";function n(t){var e=a.find(t);if(null==e)try{e=a.create(t)}catch(i){e=a.create(a.Scope.INLINE),[].slice.call(t.childNodes).forEach(function(t){e.domNode.appendChild(t)}),t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(61),l=i(34),a=i(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){var e=this;t.prototype.attach.call(this),this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var i=n(t);e.insertBefore(i,e.children.head)}catch(t){if(t instanceof a.ParchmentError)return;throw t}})},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,function(t,e,i){t.deleteAt(e,i)})},e.prototype.descendant=function(t,i){var n=this.children.find(i),r=n[0],o=n[1];return null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t?[r,o]:r instanceof e?r.descendant(t,o):[null,-1]},e.prototype.descendants=function(t,i,n){void 0===i&&(i=0),void 0===n&&(n=Number.MAX_VALUE);var r=[],o=n;return this.children.forEachAt(i,n,function(i,n,l){(null==t.blotName&&t(i)||null!=t.blotName&&i instanceof t)&&r.push(i),i instanceof e&&(r=r.concat(i.descendants(t,n,o))),o-=l}),r},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,i,n){this.children.forEachAt(t,e,function(t,e,r){t.formatAt(e,r,i,n)})},e.prototype.insertAt=function(t,e,i){var n=this.children.find(t),r=n[0],o=n[1];if(r)r.insertAt(o,e,i);else{var l=null==i?a.create("text",e):a.create(e,i);this.appendChild(l)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(e){return t instanceof e}))throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)},e.prototype.moveChildren=function(t,e){this.children.forEach(function(i){t.insertBefore(i,e)})},e.prototype.optimize=function(){if(t.prototype.optimize.call(this),0===this.children.length)if(null!=this.statics.defaultChild){var e=a.create(this.statics.defaultChild);this.appendChild(e),e.optimize()}else this.remove()},e.prototype.path=function(t,i){void 0===i&&(i=!1);var n=this.children.find(t,i),r=n[0],o=n[1],l=[[this,t]];return r instanceof e?l.concat(r.path(o,i)):(null!=r&&l.push([r,o]),l)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(i){i instanceof e&&i.moveChildren(this),t.prototype.replace.call(this,i)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var i=this.clone();return this.parent.insertBefore(i,this.next),this.children.forEachAt(t,this.length(),function(t,n,r){t=t.split(n,e),i.appendChild(t)}),i},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t){var e=this,i=[],r=[];t.forEach(function(t){t.target===e.domNode&&"childList"===t.type&&(i.push.apply(i,t.addedNodes),r.push.apply(r,t.removedNodes))}),r.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var i=a.find(t);null!=i&&(null!=i.domNode.parentNode&&i.domNode.parentNode!==e.domNode||i.detach())}}),i.filter(function(t){return t.parentNode==e.domNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var i=null;null!=t.nextSibling&&(i=a.find(t.nextSibling));var r=n(t);r.next==i&&null!=r.next||(null!=r.parent&&r.parent.removeChild(e),e.insertBefore(r,i))})},e}(l.default);e.default=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(13),o=i(32),l=i(21),a=i(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.attach=function(){t.prototype.attach.call(this),this.attributes=new o.default(this.domNode)},e.prototype.format=function(t,e){var i=a.query(t);i instanceof r.default?this.attributes.attribute(i,e):e&&(null==i||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,i){var n=t.prototype.replaceWith.call(this,e,i);return this.attributes.copy(n),n},e.prototype.update=function(e){var i=this;t.prototype.update.call(this,e),e.some(function(t){return t.target===i.domNode&&"attributes"===t.type})&&this.attributes.build()},e.prototype.wrap=function(i,n){var r=t.prototype.wrap.call(this,i,n);return r instanceof e&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},e}(l.default);e.default=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(34),o=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return t!==this.domNode?-1:Math.min(e,1)},e.prototype.position=function(t,e){var i=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(i+=1),[this.parent.domNode,i]},e.prototype.value=function(){return t={},t[this.statics.blotName]=this.statics.value(this.domNode)||!0,t;var t},e}(r.default);l.scope=o.Scope.INLINE_BLOT,e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),s=n(a),u=i(4),c=n(u),f=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(s.default.Container);f.allowedChildren=[c.default,u.BlockEmbed,f],e.default=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(n=(l=a.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(0),f=n(c),d=i(7),h=n(d),p=i(12),m=n(p),g=i(5),v=n(g),b=function(t){function e(t,i){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.selection=i,n.textNode=document.createTextNode(e.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return l(e,t),u(e,null,[{key:"value",value:function(){}}]),u(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,i){if(0!==this._length)return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,i);for(var n=this,r=0;null!=n&&n.statics.scope!==f.default.Scope.BLOCK_BLOT;)r+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=e.CONTENTS.length,n.optimize(),n.formatAt(r,e.CONTENTS.length,t,i),this._length=0)}},{key:"index",value:function(t,i){return t===this.textNode?0:s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,i)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){var t=this;if(!this.selection.composing&&null!=this.parent){var i=this.textNode,n=this.selection.getNativeRange(),r=void 0,o=void 0,l=void 0;if(null!=n&&n.start.node===i&&n.end.node===i){var s=[i,n.start.offset,n.end.offset];r=s[0],o=s[1],l=s[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var u=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof m.default?(r=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=e.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}this.remove(),null!=o&&this.selection.emitter.once(v.default.events.SCROLL_OPTIMIZE,function(){var e=[o,l].map(function(t){return Math.max(0,Math.min(r.data.length,t-1))}),i=a(e,2);o=i[0],l=i[1],t.selection.setNativeRange(r,o,r,l)})}}},{key:"update",value:function(t){var e=this;t.forEach(function(t){"characterData"===t.type&&t.target===e.textNode&&e.restore()})}},{key:"value",value:function(){return""}}]),e}(h.default);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\ufeff",e.default=b},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},s=i(0),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"value",value:function(t){var i=a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return i.startsWith("rgb(")?(i=i.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+i.split(",").map(function(t){return("00"+parseInt(t).toString(16)).slice(-2)}).join("")):i}}]),e}(u.default.Attributor.Style),f=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),d=new c("color","color",{scope:u.default.Scope.INLINE});e.ColorAttributor=c,e.ColorClass=f,e.ColorStyle=d},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var i=document.createElement("a");i.href=t;var n=i.href.slice(0,i.href.indexOf(":"));return e.indexOf(n)>-1}Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},u=i(8),c=function(t){return t&&t.__esModule?t:{default:t}}(u),f=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),a(e,[{key:"format",value:function(t,i){if(t!==this.statics.blotName||!i)return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,i);i=this.constructor.sanitize(i),this.domNode.setAttribute("href",i)}}],[{key:"create",value:function(t){var i=s(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),i.setAttribute("href",t),i.setAttribute("target","_blank"),i}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return l(t,["http","https","mailto"])?t:this.SANITIZED_URL}}]),e}(c.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",e.default=f,e.sanitize=l},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(88),a=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(){function t(e){var i=this;n(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){i.container.classList.toggle("ql-expanded")}),this.select.addEventListener("change",this.update.bind(this))}return o(t,[{key:"buildItem",value:function(t){var e=this,i=document.createElement("span");return i.classList.add("ql-picker-item"),t.hasAttribute("value")&&i.setAttribute("data-value",t.getAttribute("value")),t.textContent&&i.setAttribute("data-label",t.textContent),i.addEventListener("click",function(){e.selectItem(i,!0)}),i}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=a.default,this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),[].slice.call(this.select.options).forEach(function(i){var n=t.buildItem(i);e.appendChild(n),i.hasAttribute("selected")&&t.selectItem(n)}),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach(function(e){t.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"close",value:function(){this.container.classList.remove("ql-expanded")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.container.querySelector(".ql-selected");if(t!==i&&(null!=i&&i.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":r(Event))){var n=document.createEvent("Event");n.initEvent("change",!0,!0),this.select.dispatchEvent(n)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var i=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",i)}}]),t}();e.default=s},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e,i){n(this,t),this.quill=e,this.options=i,this.modules={}}return r(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach(function(e){null==t.modules[e]&&t.addModule(e)})}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();o.DEFAULTS={modules:{}},o.themes={default:o},e.default=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var i=this.quill.getLine(t.index),n=m(i,1),r=n[0],o={};if(0===e.offset){var l=r.formats(),a=this.quill.getFormat(t.index-1,1);o=q.default.attributes.diff(l,a)||{}}var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-s,s,O.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(t.index-s,s,o,O.default.sources.USER),this.quill.selection.scrollIntoView()}}function s(t,e){var i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;t.index>=this.quill.getLength()-i||this.quill.deleteText(t.index,i,O.default.sources.USER)}function u(t){this.quill.deleteText(t,O.default.sources.USER),this.quill.setSelection(t.index,O.default.sources.SILENT),this.quill.selection.scrollIntoView()}function c(t,e){var i=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var n=Object.keys(e.format).reduce(function(t,i){return A.default.query(i,A.default.Scope.BLOCK)&&!Array.isArray(e.format[i])&&(t[i]=e.format[i]),t},{});this.quill.insertText(t.index,"\n",n,O.default.sources.USER),this.quill.setSelection(t.index+1,O.default.sources.SILENT),this.quill.selection.scrollIntoView(),Object.keys(e.format).forEach(function(t){null==n[t]&&(Array.isArray(e.format[t])||"link"!==t&&i.quill.format(t,e.format[t],O.default.sources.USER))})}function f(t){return{key:N.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var i=A.default.query("code-block"),n=e.index,r=e.length,o=this.quill.scroll.descendant(i,n),l=m(o,2),a=l[0],s=l[1];if(null!=a){var u=this.quill.getIndex(a),c=a.newlineIndex(s,!0)+1,f=a.newlineIndex(u+s+r),d=a.domNode.textContent.slice(c,f).split("\n");s=0,d.forEach(function(e,o){t?(a.insertAt(c+s,i.TAB),s+=i.TAB.length,0===o?n+=i.TAB.length:r+=i.TAB.length):e.startsWith(i.TAB)&&(a.deleteAt(c+s,i.TAB.length),s-=i.TAB.length,0===o?n-=i.TAB.length:r-=i.TAB.length),s+=e.length+1}),this.quill.update(O.default.sources.USER),this.quill.setSelection(n,r,O.default.sources.SILENT)}}}}function d(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,i){this.quill.format(t,!i.format[t],O.default.sources.USER)}}}function h(t){if("string"==typeof t||"number"==typeof t)return h({key:t});if("object"===(void 0===t?"undefined":p(t))&&(t=(0,b.default)(t,!1)),"string"==typeof t.key)if(null!=N.keys[t.key.toUpperCase()])t.key=N.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[P]=t.shortKey,delete t.shortKey),t}Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(n=(l=a.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),v=i(19),b=n(v),y=i(11),x=n(y),w=i(3),k=n(w),_=i(20),q=n(_),C=i(0),A=n(C),S=i(6),O=n(S),T=i(10),E=n(T),M=i(9),L=n(M),D=(0,E.default)("quill:keyboard"),P=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",N=function(t){function e(t,i){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.bindings={},Object.keys(n.options.bindings).forEach(function(t){n.options.bindings[t]&&n.addBinding(n.options.bindings[t])}),n.addBinding({key:e.keys.ENTER,shiftKey:null},c),n.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},a),n.addBinding({key:e.keys.DELETE},{collapsed:!0},s)):(n.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},a),n.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},s)),n.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},u),n.addBinding({key:e.keys.DELETE},{collapsed:!1},u),n.addBinding({key:e.keys.BACKSPACE},{empty:!0,shortKey:!0},a),n.listen(),n}return l(e,t),g(e,null,[{key:"match",value:function(t,e){return e=h(e),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(i){return!!e[i]!==t[i]&&null!==e[i]})&&e.key===(t.which||t.keyCode)}}]),g(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=h(t);if(null==n||null==n.key)return D.warn("Attempted to add invalid keyboard binding",n);"function"==typeof e&&(e={handler:e}),"function"==typeof i&&(i={handler:i}),n=(0,k.default)(n,e,i),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",function(i){if(!i.defaultPrevented){var n=i.which||i.keyCode,r=(t.bindings[n]||[]).filter(function(t){return e.match(i,t)});if(0!==r.length){var o=t.quill.getSelection();if(null!=o&&t.quill.hasFocus()){var l=t.quill.getLine(o.index),a=m(l,2),s=a[0],u=a[1],c=t.quill.getLeaf(o.index),f=m(c,2),d=f[0],h=f[1],g=0===o.length?[d,h]:t.quill.getLeaf(o.index+o.length),v=m(g,2),b=v[0],y=v[1],w=d instanceof A.default.Text?d.value().slice(0,h):"",k=b instanceof A.default.Text?b.value().slice(y):"",_={collapsed:0===o.length,empty:0===o.length&&s.length()<=1,format:t.quill.getFormat(o),offset:u,prefix:w,suffix:k};r.some(function(e){if(null!=e.collapsed&&e.collapsed!==_.collapsed)return!1;if(null!=e.empty&&e.empty!==_.empty)return!1;if(null!=e.offset&&e.offset!==_.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(function(t){return null==_.format[t]}))return!1}else if("object"===p(e.format)&&!Object.keys(e.format).every(function(t){return!0===e.format[t]?null!=_.format[t]:!1===e.format[t]?null==_.format[t]:(0,x.default)(e.format[t],_.format[t])}))return!1;return!(null!=e.prefix&&!e.prefix.test(_.prefix)||null!=e.suffix&&!e.suffix.test(_.suffix)||!0===e.handler.call(t,o,_))})&&i.preventDefault()}}}})}}]),e}(L.default);N.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},N.DEFAULTS={bindings:{bold:d("bold"),italic:d("italic"),underline:d("underline"),indent:{key:N.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",O.default.sources.USER)}},outdent:{key:N.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",O.default.sources.USER)}},"outdent backspace":{key:N.keys.BACKSPACE,collapsed:!0,format:["blockquote","indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",O.default.sources.USER):null!=e.format.blockquote?this.quill.format("blockquote",!1,O.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,O.default.sources.USER)}},"indent code-block":f(!0),"outdent code-block":f(!1),"remove tab":{key:N.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,O.default.sources.USER)}},tab:{key:N.keys.TAB,handler:function(t,e){e.collapsed||this.quill.scroll.deleteAt(t.index,t.length),this.quill.insertText(t.index,"\t",O.default.sources.USER),this.quill.setSelection(t.index+1,O.default.sources.SILENT)}},"list empty enter":{key:N.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,O.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,O.default.sources.USER)}},"checklist enter":{key:N.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){this.quill.scroll.insertAt(t.index,"\n");var e=this.quill.getLine(t.index+1);m(e,1)[0].format("list","unchecked"),this.quill.update(O.default.sources.USER),this.quill.setSelection(t.index+1,O.default.sources.SILENT),this.quill.selection.scrollIntoView()}},"header enter":{key:N.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t){this.quill.scroll.insertAt(t.index,"\n"),this.quill.formatText(t.index+1,1,"header",!1,O.default.sources.USER),this.quill.setSelection(t.index+1,O.default.sources.SILENT),this.quill.selection.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(1\.|-|\[ \]|\[x\])$/,handler:function(t,e){if(null!=this.quill.scroll.whitelist&&!this.quill.scroll.whitelist.list)return!0;var i=e.prefix.length,n=void 0;switch(e.prefix.trim()){case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":n="bullet";break;default:n="ordered"}this.quill.scroll.deleteAt(t.index-i,i),this.quill.formatLine(t.index-i,1,"list",n,O.default.sources.USER),this.quill.setSelection(t.index-i,O.default.sources.SILENT)}},"code exit":{key:N.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){this.quill.format("code-block",!1,O.default.sources.USER),this.quill.deleteText(t.index-2,1,O.default.sources.USER)}}}},e.default=N,e.SHORTKEY=P},function(t,e,i){"use strict";function n(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(function(t){return 0===t.indexOf(e+"-")})}var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(13),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){n(t,this.keyName).forEach(function(e){t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=n(t,this.keyName)[0]||"",i=e.slice(this.keyName.length+1);return this.canAdd(t,i)?i:""},e}(o.default);e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(13),r=i(31),o=i(33),l=i(1),a=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=n.default.keys(this.domNode),i=r.default.keys(this.domNode),a=o.default.keys(this.domNode);e.concat(i).concat(a).forEach(function(e){var i=l.query(e,l.Scope.ATTRIBUTE);i instanceof n.default&&(t.attributes[i.attrName]=i)})},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(i){var n=e.attributes[i].value(e.domNode);t.format(i,n)})},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,i){return e[i]=t.attributes[i].value(t.domNode),e},{})},t}();e.default=a},function(t,e,i){"use strict";function n(t){var e=t.split("-"),i=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+i}var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(13),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){return t.split(":")[0].trim()})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[n(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[n(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[n(this.keyName)];return this.canAdd(t,e)?e:""},e}(o.default);e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(){function t(t){this.domNode=t,this.attach()}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){this.domNode[n.DATA_KEY]={blot:this}},t.prototype.clone=function(){var t=this.domNode.cloneNode();return n.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,i,r){var o=this.isolate(t,e);if(null!=n.query(i,n.Scope.BLOT)&&r)o.wrap(i,r);else if(null!=n.query(i,n.Scope.ATTRIBUTE)){var l=n.create(this.statics.scope);o.wrap(l),l.format(i,r)}},t.prototype.insertAt=function(t,e,i){var r=null==i?n.create("text",e):n.create(e,i),o=this.split(t);this.parent.insertBefore(r,o)},t.prototype.insertInto=function(t,e){if(null!=this.parent&&this.parent.children.remove(this),t.children.insertBefore(this,e),null!=e)var i=e.domNode;null!=this.next&&this.domNode.nextSibling==i||t.domNode.insertBefore(this.domNode,void 0!==i?i:null),this.parent=t},t.prototype.isolate=function(t,e){var i=this.split(t);return i.split(e),i},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var i="string"==typeof t?n.create(t,e):t;return i.replace(this),i},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t){void 0===t&&(t=[])},t.prototype.wrap=function(t,e){var i="string"==typeof t?n.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(i,this.next),i.appendChild(this),i},t}();r.blotName="abstract",e.default=r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=i(0),o=n(r),l=i(6),a=n(l),s=i(4),u=n(s),c=i(17),f=n(c),d=i(24),h=n(d),p=i(25),m=n(p),g=i(7),v=n(g),b=i(8),y=n(b),x=i(18),w=n(x),k=i(12),_=n(k),q=i(45),C=n(q),A=i(42),S=n(A),O=i(30),T=n(O);a.default.register({"blots/block":u.default,"blots/block/embed":s.BlockEmbed,"blots/break":f.default,"blots/container":h.default,"blots/cursor":m.default,"blots/embed":v.default,"blots/inline":y.default,"blots/scroll":w.default,"blots/text":_.default,"modules/clipboard":C.default,"modules/history":S.default,"modules/keyboard":T.default}),o.default.register(u.default,f.default,m.default,y.default,w.default,_.default),t.exports=a.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var n=i(0),r=function(t){return t&&t.__esModule?t:{default:t}}(n),o={scope:r.default.Scope.BLOCK,whitelist:["right","center","justify"]},l=new r.default.Attributor.Attribute("align","align",o),a=new r.default.Attributor.Class("align","ql-align",o),s=new r.default.Attributor.Style("align","text-align",o);e.AlignAttribute=l,e.AlignClass=a,e.AlignStyle=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var n=i(0),r=function(t){return t&&t.__esModule?t:{default:t}}(n),o=i(26),l=new r.default.Attributor.Class("background","ql-bg",{scope:r.default.Scope.INLINE}),a=new o.ColorAttributor("background","background-color",{scope:r.default.Scope.INLINE});e.BackgroundClass=l,e.BackgroundStyle=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var n=i(0),r=function(t){return t&&t.__esModule?t:{default:t}}(n),o={scope:r.default.Scope.BLOCK,whitelist:["rtl"]},l=new r.default.Attributor.Attribute("direction","dir",o),a=new r.default.Attributor.Class("direction","ql-direction",o),s=new r.default.Attributor.Style("direction","direction",o);e.DirectionAttribute=l,e.DirectionClass=a,e.DirectionStyle=s},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},s=i(0),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new u.default.Attributor.Class("font","ql-font",c),d=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"value",value:function(t){return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(u.default.Attributor.Style),h=new d("font","font-family",c);e.FontStyle=h,e.FontClass=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var n=i(0),r=function(t){return t&&t.__esModule?t:{default:t}}(n),o=new r.default.Attributor.Class("size","ql-size",{scope:r.default.Scope.INLINE,whitelist:["small","large","huge"]}),l=new r.default.Attributor.Style("size","font-size",{scope:r.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=o,e.SizeStyle=l},function(t,e,i){"use strict";t.exports={align:{"":i(79),center:i(77),right:i(80),justify:i(78)},background:i(81),blockquote:i(82),bold:i(83),clean:i(84),code:i(55),"code-block":i(55),color:i(85),direction:{"":i(86),rtl:i(87)},float:{center:i(89),full:i(90),left:i(91),right:i(92)},formula:i(93),header:{1:i(95),2:i(94)},italic:i(98),image:i(96),indent:{"+1":i(97),"-1":i(103)},link:i(99),list:{ordered:i(102),bullet:i(100),check:i(101)},script:{sub:i(105),super:i(106)},strike:i(104),underline:i(107),video:i(108)}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some(function(t){return null!=f.default.query(t,f.default.Scope.BLOCK)}))}function s(t){var e=t.reduce(function(t,e){return t+=e.delete||0},0),i=t.length()-e;return a(t)&&(i-=1),i}Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(0),f=n(c),d=i(6),h=n(d),p=i(9),m=n(p),g=function(t){function e(t,i){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(h.default.events.EDITOR_CHANGE,function(t,e,i,r){t!==h.default.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&r!==h.default.sources.USER?n.transform(e):n.record(e,i))}),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(n)),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(n)),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(n)),n}return l(e,t),u(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var i=this.stack[t].pop();this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i[t],h.default.sources.USER),this.ignoreChange=!1;var n=s(i[t]);this.quill.setSelection(n),this.quill.selection.scrollIntoView(),this.stack[e].push(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var i=this.quill.getContents().diff(e),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var r=this.stack.undo.pop();i=i.compose(r.undo),t=r.redo.compose(t)}else this.lastRecorded=n;this.stack.undo.push({redo:t,undo:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}),this.stack.redo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(m.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=g,e.getLastChangeIndex=s},function(t,e,i){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:r.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var i=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>i.length)&&(e=i.length),e-=t.length;var n=i.indexOf(t,e);return-1!==n&&n===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(e=i[o],t.call(r,e,o,i))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1)})},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},s=i(8),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"optimize",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(u.default);c.blotName="bold",c.tagName=["STRONG","B"],e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return t.nodeType!==Node.ELEMENT_NODE?{}:t["__ql-computed-style"]||(t["__ql-computed-style"]=window.getComputedStyle(t))}function c(t,e){for(var i="",n=t.ops.length-1;n>=0&&i.length<e.length;--n){var r=t.ops[n];if("string"!=typeof r.insert)break;i=r.insert+i}return i.slice(-1*e.length)===e}function f(t){return 0!==t.childNodes.length&&["block","list-item"].indexOf(u(t).display)>-1}function d(t,e,i){return t.nodeType===t.TEXT_NODE?i.reduce(function(e,i){return i(t,e)},new C.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],function(n,r){var o=d(r,e,i);return r.nodeType===t.ELEMENT_NODE&&(o=e.reduce(function(t,e){return e(r,t)},o),o=(r[B]||[]).reduce(function(t,e){return e(r,t)},o)),n.concat(o)},new C.default):new C.default}function h(t,e,i){return i.compose((new C.default).retain(i.length(),r({},t,!0)))}function p(t,e){var i=S.default.Attributor.Attribute.keys(t),n=S.default.Attributor.Class.keys(t),r=S.default.Attributor.Style.keys(t),o={};return i.concat(n).concat(r).forEach(function(e){var i=S.default.query(e,S.default.Scope.ATTRIBUTE);null!=i&&(o[i.attrName]=i.value(t),o[i.attrName])||(null!=W[e]&&(i=W[e],o[i.attrName]=i.value(t)||void 0),null!=U[e]&&(i=U[e],o[i.attrName]=i.value(t)||void 0))}),Object.keys(o).length>0&&(e=e.compose((new C.default).retain(e.length(),o))),e}function m(t,e){var i=S.default.query(t);if(null==i)return e;if(i.prototype instanceof S.default.Embed){var n={},o=i.value(t);null!=o&&(n[i.blotName]=o,e=(new C.default).insert(n,i.formats(t)))}else if("function"==typeof i.formats){var l=r({},i.blotName,i.formats(t));e=e.compose((new C.default).retain(e.length(),l))}return e}function g(t,e){return c(e,"\n")||e.insert("\n"),e}function v(){return new C.default}function b(t,e){return f(t)&&!c(e,"\n")&&e.insert("\n"),e}function y(t,e){if(f(t)&&null!=t.nextElementSibling&&!c(e,"\n\n")){var i=t.offsetHeight+parseFloat(u(t).marginTop)+parseFloat(u(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*i&&e.insert("\n")}return e}function x(t,e){var i={},n=t.style||{};return n.fontStyle&&"italic"===u(t).fontStyle&&(i.italic=!0),n.fontWeight&&"bold"===u(t).fontWeight&&(i.bold=!0),Object.keys(i).length>0&&(e=e.compose((new C.default).retain(e.length(),i))),parseFloat(n.textIndent||0)>0&&(e=(new C.default).insert("\t").concat(e)),e}function w(t,e){var i=t.data;if("O:P"===t.parentNode.tagName)return e.insert(i.trim());if(!u(t.parentNode).whiteSpace.startsWith("pre")){var n=function(t,e){return e=e.replace(/[^\u00a0]/g,""),e.length<1&&t?" ":e};i=i.replace(/\r\n/g," ").replace(/\n/g," "),i=i.replace(/\s\s+/g,n.bind(n,!0)),(null==t.previousSibling&&f(t.parentNode)||null!=t.previousSibling&&f(t.previousSibling))&&(i=i.replace(/^\s+/,n.bind(n,!1))),(null==t.nextSibling&&f(t.parentNode)||null!=t.nextSibling&&f(t.nextSibling))&&(i=i.replace(/\s+$/,n.bind(n,!1)))}return e.insert(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var k=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(n=(l=a.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),q=i(2),C=n(q),A=i(0),S=n(A),O=i(6),T=n(O),E=i(10),M=n(E),L=i(9),D=n(L),P=i(36),N=i(37),I=i(26),j=i(38),F=i(39),R=i(40),z=(0,M.default)("quill:clipboard"),B="__ql-matcher",H=[[Node.TEXT_NODE,w],["br",g],[Node.ELEMENT_NODE,b],[Node.ELEMENT_NODE,m],[Node.ELEMENT_NODE,y],[Node.ELEMENT_NODE,p],[Node.ELEMENT_NODE,x],["b",h.bind(h,"bold")],["i",h.bind(h,"italic")],["style",v]],W=[P.AlignAttribute,j.DirectionAttribute].reduce(function(t,e){return t[e.keyName]=e,t},{}),U=[P.AlignStyle,N.BackgroundStyle,I.ColorStyle,j.DirectionStyle,F.FontStyle,R.SizeStyle].reduce(function(t,e){return t[e.keyName]=e,t},{}),$=function(t){function e(t,i){l(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.quill.root.addEventListener("paste",n.onPaste.bind(n)),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],H.concat(n.options.matchers).forEach(function(t){n.addMatcher.apply(n,o(t))}),n}return s(e,t),_(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){"string"==typeof t&&(this.container.innerHTML=t);var e=this.prepareMatching(),i=k(e,2),n=i[0],r=i[1],o=d(this.container,n,r);return c(o,"\n")&&null==o.ops[o.ops.length-1].attributes&&(o=o.compose((new C.default).retain(o.length()-1).delete(1))),z.log("convert",this.container.innerHTML,o),this.container.innerHTML="",o}},{key:"dangerouslyPasteHTML",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T.default.sources.API;if("string"==typeof t)return this.quill.setContents(this.convert(t),e);var n=this.convert(e);return this.quill.updateContents((new C.default).retain(t).concat(n),i)}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var i=this.quill.getSelection(),n=(new C.default).retain(i.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),setTimeout(function(){e.quill.selection.update(T.default.sources.SILENT),n=n.concat(e.convert()).delete(i.length),e.quill.updateContents(n,T.default.sources.USER),e.quill.setSelection(n.length()-i.length,T.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=r,e.quill.selection.scrollIntoView()},1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],i=[];return this.matchers.forEach(function(n){var r=k(n,2),o=r[0],l=r[1];switch(o){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:e.push(l);break;default:[].forEach.call(t.container.querySelectorAll(o),function(t){t[B]=t[B]||[],t[B].push(l)})}}),[e,i]}}]),e}(D.default);$.DEFAULTS={matchers:[]},e.default=$,e.matchAttributor=p,e.matchBlot=m,e.matchNewline=b,e.matchSpacing=y,e.matchText=w},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,i){var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("ql-"+e),null!=i&&(n.value=i),t.appendChild(n)}function u(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(function(e){var i=document.createElement("span");i.classList.add("ql-formats"),e.forEach(function(t){if("string"==typeof t)s(i,t);else{var e=Object.keys(t)[0],n=t[e];Array.isArray(n)?c(i,e,n):s(i,e,n)}}),t.appendChild(i)})}function c(t,e,i){var n=document.createElement("select");n.classList.add("ql-"+e),i.forEach(function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),n.appendChild(e)}),t.appendChild(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var f=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(n=(l=a.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(2),p=n(h),m=i(0),g=n(m),v=i(6),b=n(v),y=i(10),x=n(y),w=i(9),k=n(w),_=(0,x.default)("quill:toolbar"),q=function(t){function e(t,i){o(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));if(Array.isArray(n.options.container)){var r=document.createElement("div");u(r,n.options.container),t.container.parentNode.insertBefore(r,t.container),n.container=r}else"string"==typeof n.options.container?n.container=document.querySelector(n.options.container):n.container=n.options.container;if(!(n.container instanceof HTMLElement)){var a;return a=_.error("Container required for toolbar",n.options),l(n,a)}return n.container.classList.add("ql-toolbar"),n.controls=[],n.handlers={},Object.keys(n.options.handlers).forEach(function(t){n.addHandler(t,n.options.handlers[t])}),[].forEach.call(n.container.querySelectorAll("button, select"),function(t){n.attach(t)}),n.quill.on(b.default.events.EDITOR_CHANGE,function(t,e){t===b.default.events.SELECTION_CHANGE&&n.update(e)}),n.quill.on(b.default.events.SCROLL_OPTIMIZE,function(){var t=n.quill.selection.getRange(),e=f(t,1),i=e[0];n.update(i)}),n}return a(e,t),d(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,i=[].find.call(t.classList,function(t){return 0===t.indexOf("ql-")});if(i){if(i=i.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[i]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[i])return void _.warn("ignoring attaching to disabled format",i,t);if(null==g.default.query(i))return void _.warn("ignoring attaching to nonexistent format",i,t)}var n="SELECT"===t.tagName?"change":"click";t.addEventListener(n,function(n){var o=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var l=t.options[t.selectedIndex];o=!l.hasAttribute("selected")&&(l.value||!1)}else o=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),n.preventDefault();e.quill.focus();var a=e.quill.selection.getRange(),s=f(a,1),u=s[0];if(null!=e.handlers[i])e.handlers[i].call(e,o);else if(g.default.query(i).prototype instanceof g.default.Embed){if(!(o=prompt("Enter "+i)))return;e.quill.updateContents((new p.default).retain(u.index).delete(u.length).insert(r({},i,o)),b.default.sources.USER)}else e.quill.format(i,o,b.default.sources.USER);e.update(u)}),this.controls.push([i,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach(function(i){var n=f(i,2),r=n[0],o=n[1];if("SELECT"===o.tagName){var l=void 0;if(null==t)l=null;else if(null==e[r])l=o.querySelector("option[selected]");else if(!Array.isArray(e[r])){var a=e[r];"string"==typeof a&&(a=a.replace(/\"/g,'\\"')),l=o.querySelector('option[value="'+a+'"]')}null==l?(o.value="",o.selectedIndex=-1):l.selected=!0}else if(null==t)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var s=e[r]===o.getAttribute("value")||null!=e[r]&&e[r].toString()===o.getAttribute("value")||null==e[r]&&!o.getAttribute("value");o.classList.toggle("ql-active",s)}else o.classList.toggle("ql-active",null!=e[r])})}}]),e}(k.default);q.DEFAULTS={},q.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var i=this.quill.getFormat();Object.keys(i).forEach(function(e){null!=g.default.query(e,g.default.Scope.INLINE)&&t.quill.format(e,!1)})}else this.quill.removeFormat(e,b.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",b.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,b.default.sources.USER),this.quill.format("direction",t,b.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),i=this.quill.getFormat(e),n=parseInt(i.indent||0);if("+1"===t||"-1"===t){var r="+1"===t?1:-1;"rtl"===i.direction&&(r*=-1),this.quill.format("indent",n+r,b.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,b.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),i=this.quill.getFormat(e);"check"===t?"checked"===i.list||"unchecked"===i.list?this.quill.format("list",!1,b.default.sources.USER):this.quill.format("list","unchecked",b.default.sources.USER):this.quill.format("list",t,b.default.sources.USER)}}},e.default=q,e.addControls=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach(function(e){var n=document.createElement("option");e===i?n.setAttribute("selected","selected"):n.setAttribute("value",e),t.appendChild(n)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},c=i(3),f=n(c),d=i(2),h=n(d),p=i(5),m=n(p),g=i(30),v=n(g),b=i(29),y=n(b),x=i(48),w=n(x),k=i(49),_=n(k),q=i(28),C=n(q),A=i(50),S=n(A),O=[!1,"center","right","justify"],T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],E=[!1,"serif","monospace"],M=["1","2","3",!1],L=["small",!1,"large","huge"],D=function(t){function e(t,i){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),l=function e(i){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==n.tooltip||n.tooltip.root.contains(i.target)||document.activeElement===n.tooltip.textbox||n.quill.hasFocus()||n.tooltip.hide(),null!=n.pickers&&n.pickers.forEach(function(t){t.container.contains(i.target)||t.close()})};return document.body.addEventListener("click",l),n}return l(e,t),s(e,[{key:"addModule",value:function(t){var i=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(i),i}},{key:"buildButtons",value:function(t,e){t.forEach(function(t){(t.getAttribute("class")||"").split(/\s+/).forEach(function(i){if(i.startsWith("ql-")&&(i=i.slice("ql-".length),null!=e[i]))if("direction"===i)t.innerHTML=e[i][""]+e[i].rtl;else if("string"==typeof e[i])t.innerHTML=e[i];else{var n=t.value||"";null!=n&&e[i][n]&&(t.innerHTML=e[i][n])}})})}},{key:"buildPickers",value:function(t,e){var i=this;this.pickers=t.map(function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&a(t,O),new _.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var i=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&a(t,T,"background"===i?"#ffffff":"#000000"),new w.default(t,e[i])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?a(t,E):t.classList.contains("ql-header")?a(t,M):t.classList.contains("ql-size")&&a(t,L)),new C.default(t)});var n=function(){i.pickers.forEach(function(t){t.update()})};this.quill.on(m.default.events.SELECTION_CHANGE,n).on(m.default.events.SCROLL_OPTIMIZE,n)}}]),e}(y.default);D.DEFAULTS=(0,f.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon, image/svg+xml"),e.classList.add("ql-image"),e.addEventListener("change",function(){if(null!=e.files&&null!=e.files[0]){var i=new FileReader;i.onload=function(i){var n=t.quill.getSelection(!0);t.quill.updateContents((new h.default).retain(n.index).delete(n.length).insert({image:i.target.result}),m.default.sources.USER),e.value=""},i.readAsDataURL(e.files[0])}}),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var P=function(t){function e(t,i){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.textbox=n.root.querySelector('input[type="text"]'),n.listen(),n}return l(e,t),s(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",function(e){v.default.match(e,"enter")?(t.save(),e.preventDefault()):v.default.match(e,"escape")&&(t.cancel(),e.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,m.default.sources.USER)),this.quill.root.scrollTop=e;break;case"video":var i=t.match(/^(https?):\/\/(www\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(https?):\/\/(www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);i?t=i[1]+"://www.youtube.com/embed/"+i[3]+"?showinfo=0":(i=t.match(/^(https?):\/\/(www\.)?vimeo\.com\/(\d+)/))&&(t=i[1]+"://player.vimeo.com/video/"+i[3]+"/");case"formula":if(!t)break;var n=this.quill.getSelection(!0),r=n.index+n.length;null!=n&&(this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,m.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",m.default.sources.USER),this.quill.setSelection(r+2,m.default.sources.USER))}this.textbox.value="",this.hide()}}]),e}(S.default);e.BaseTooltip=P,e.default=D},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},s=i(28),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(t,i){n(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.label.innerHTML=i,o.container.classList.add("ql-color-picker"),[].slice.call(o.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary")}),o}return o(e,t),l(e,[{key:"buildItem",value:function(t){var i=a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return i.style.backgroundColor=t.getAttribute("value")||"",i}},{key:"selectItem",value:function(t,i){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,i);var n=this.label.querySelector(".ql-color-label"),r=t?t.getAttribute("data-value")||"":"";n&&("line"===n.tagName?n.style.stroke=r:n.style.fill=r)}}]),e}(u.default);e.default=c},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},s=i(28),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(t,i){n(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.container.classList.add("ql-icon-picker"),[].forEach.call(o.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=i[t.getAttribute("data-value")||""]}),o.defaultItem=o.container.querySelector(".ql-selected"),o.selectItem(o.defaultItem),o}return o(e,t),l(e,[{key:"selectItem",value:function(t,i){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,i),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(u.default);e.default=c},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e,i){var r=this;n(this,t),this.quill=e,this.boundsContainer=i||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return r(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,i=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=i+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),o=0;if(r.right>n.right&&(o=n.right-r.right,this.root.style.left=e+o+"px"),r.left<n.left&&(o=n.left-r.left,this.root.style.left=e+o+"px"),r.bottom>n.bottom){var l=r.bottom-r.top,a=t.bottom-t.top+l;this.root.style.top=i-a+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=o},function(t,e){function i(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function n(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=r?i:n,e.supported=i,e.unsupported=n},function(t,e){function i(t){var e=[];for(var i in t)e.push(i);return e}e=t.exports="function"==typeof Object.keys?Object.keys:i,e.shim=i},function(t,e){"use strict";function i(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(){this._events=new i,this._eventsCount=0}var o=Object.prototype.hasOwnProperty,l="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(l=!1)),r.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)o.call(t,e)&&i.push(l?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},r.prototype.listeners=function(t,e){var i=l?l+t:t,n=this._events[i];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},r.prototype.emit=function(t,e,i,n,r,o){var a=l?l+t:t;if(!this._events[a])return!1;var s,u,c=this._events[a],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,n),!0;case 5:return c.fn.call(c.context,e,i,n,r),!0;case 6:return c.fn.call(c.context,e,i,n,r,o),!0}for(u=1,s=new Array(f-1);u<f;u++)s[u-1]=arguments[u];c.fn.apply(c.context,s)}else{var d,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,i);break;case 4:c[u].fn.call(c[u].context,e,i,n);break;default:if(!s)for(d=1,s=new Array(f-1);d<f;d++)s[d-1]=arguments[d];c[u].fn.apply(c[u].context,s)}}return!0},r.prototype.on=function(t,e,i){var r=new n(e,i||this),o=l?l+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},r.prototype.once=function(t,e,i){var r=new n(e,i||this,!0),o=l?l+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},r.prototype.removeListener=function(t,e,n,r){var o=l?l+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new i:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new i:delete this._events[o]);else{for(var s=0,u=[],c=a.length;s<c;s++)(a[s].fn!==e||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new i:delete this._events[o]}return this},r.prototype.removeAllListeners=function(t){var e;return t?(e=l?l+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new i:delete this._events[e])):(this._events=new i,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=l,r.EventEmitter=r,void 0!==t&&(t.exports=r)},function(t,e){function i(t,e,i){if(t==e)return t?[[m,t]]:[];(i<0||t.length<i)&&(i=null);var r=l(t,e),o=t.substring(0,r);t=t.substring(r),e=e.substring(r),r=a(t,e);var s=t.substring(t.length-r);t=t.substring(0,t.length-r),e=e.substring(0,e.length-r);var c=n(t,e);return o&&c.unshift([m,o]),s&&c.push([m,s]),u(c),null!=i&&(c=f(c,i)),c}function n(t,e){var n;if(!t)return[[p,e]];if(!e)return[[h,t]];var o=t.length>e.length?t:e,l=t.length>e.length?e:t,a=o.indexOf(l);if(-1!=a)return n=[[p,o.substring(0,a)],[m,l],[p,o.substring(a+l.length)]],t.length>e.length&&(n[0][0]=n[2][0]=h),n;if(1==l.length)return[[h,t],[p,e]];var u=s(t,e);if(u){var c=u[0],f=u[1],d=u[2],g=u[3],v=u[4],b=i(c,d),y=i(f,g);return b.concat([[m,v]],y)}return r(t,e)}function r(t,e){for(var i=t.length,n=e.length,r=Math.ceil((i+n)/2),l=r,a=2*r,s=new Array(a),u=new Array(a),c=0;c<a;c++)s[c]=-1,u[c]=-1;s[l+1]=0,u[l+1]=0;for(var f=i-n,d=f%2!=0,m=0,g=0,v=0,b=0,y=0;y<r;y++){for(var x=-y+m;x<=y-g;x+=2){var w,k=l+x;w=x==-y||x!=y&&s[k-1]<s[k+1]?s[k+1]:s[k-1]+1;for(var _=w-x;w<i&&_<n&&t.charAt(w)==e.charAt(_);)w++,_++;if(s[k]=w,w>i)g+=2;else if(_>n)m+=2;else if(d){var q=l+f-x;if(q>=0&&q<a&&-1!=u[q]){var C=i-u[q];if(w>=C)return o(t,e,w,_)}}}for(var A=-y+v;A<=y-b;A+=2){var C,q=l+A;C=A==-y||A!=y&&u[q-1]<u[q+1]?u[q+1]:u[q-1]+1;for(var S=C-A;C<i&&S<n&&t.charAt(i-C-1)==e.charAt(n-S-1);)C++,S++;if(u[q]=C,C>i)b+=2;else if(S>n)v+=2;else if(!d){var k=l+f-A;if(k>=0&&k<a&&-1!=s[k]){var w=s[k],_=l+w-k;if(C=i-C,w>=C)return o(t,e,w,_)}}}}return[[h,t],[p,e]]}function o(t,e,n,r){var o=t.substring(0,n),l=e.substring(0,r),a=t.substring(n),s=e.substring(r),u=i(o,l),c=i(a,s);return u.concat(c)}function l(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var i=0,n=Math.min(t.length,e.length),r=n,o=0;i<r;)t.substring(o,r)==e.substring(o,r)?(i=r,o=i):n=r,r=Math.floor((n-i)/2+i);return r}function a(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var i=0,n=Math.min(t.length,e.length),r=n,o=0;i<r;)t.substring(t.length-r,t.length-o)==e.substring(e.length-r,e.length-o)?(i=r,o=i):n=r,r=Math.floor((n-i)/2+i);return r}function s(t,e){function i(t,e,i){for(var n,r,o,s,u=t.substring(i,i+Math.floor(t.length/4)),c=-1,f="";-1!=(c=e.indexOf(u,c+1));){var d=l(t.substring(i),e.substring(c)),h=a(t.substring(0,i),e.substring(0,c));f.length<h+d&&(f=e.substring(c-h,c)+e.substring(c,c+d),n=t.substring(0,i-h),r=t.substring(i+d),o=e.substring(0,c-h),s=e.substring(c+d))}return 2*f.length>=t.length?[n,r,o,s,f]:null}var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;var o,s=i(n,r,Math.ceil(n.length/4)),u=i(n,r,Math.ceil(n.length/2));if(!s&&!u)return null;o=u?s&&s[4].length>u[4].length?s:u:s;var c,f,d,h;return t.length>e.length?(c=o[0],f=o[1],d=o[2],h=o[3]):(d=o[0],h=o[1],c=o[2],f=o[3]),[c,f,d,h,o[4]]}function u(t){t.push([m,""]);for(var e,i=0,n=0,r=0,o="",s="";i<t.length;)switch(t[i][0]){case p:r++,s+=t[i][1],i++;break;case h:n++,o+=t[i][1],i++;break;case m:n+r>1?(0!==n&&0!==r&&(e=l(s,o),0!==e&&(i-n-r>0&&t[i-n-r-1][0]==m?t[i-n-r-1][1]+=s.substring(0,e):(t.splice(0,0,[m,s.substring(0,e)]),i++),s=s.substring(e),o=o.substring(e)),0!==(e=a(s,o))&&(t[i][1]=s.substring(s.length-e)+t[i][1],s=s.substring(0,s.length-e),o=o.substring(0,o.length-e))),0===n?t.splice(i-r,n+r,[p,s]):0===r?t.splice(i-n,n+r,[h,o]):t.splice(i-n-r,n+r,[h,o],[p,s]),i=i-n-r+(n?1:0)+(r?1:0)+1):0!==i&&t[i-1][0]==m?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,r=0,n=0,o="",s=""}""===t[t.length-1][1]&&t.pop();var c=!1;for(i=1;i<t.length-1;)t[i-1][0]==m&&t[i+1][0]==m&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)==t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),c=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),c=!0)),i++;c&&u(t)}function c(t,e){if(0===e)return[m,t];for(var i=0,n=0;n<t.length;n++){var r=t[n];if(r[0]===h||r[0]===m){var o=i+r[1].length;if(e===o)return[n+1,t];if(e<o){t=t.slice();var l=e-i,a=[r[0],r[1].slice(0,l)],s=[r[0],r[1].slice(l)];return t.splice(n,1,a,s),[n+1,t]}i=o}}throw new Error("cursor_pos is out of bounds!")}function f(t,e){var i=c(t,e),n=i[1],r=i[0],o=n[r],l=n[r+1];if(null==o)return t;if(o[0]!==m)return t;if(null!=l&&o[1]+l[1]===l[1]+o[1])return n.splice(r,2,l,o),d(n,r,2);if(null!=l&&0===l[1].indexOf(o[1])){n.splice(r,2,[l[0],o[1]],[0,o[1]]);var a=l[1].slice(o[1].length);return a.length>0&&n.splice(r+2,0,[l[0],a]),d(n,r,3)}return t}function d(t,e,i){for(var n=e+i-1;n>=0&&n>=e-1;n--)if(n+1<t.length){var r=t[n],o=t[n+1];r[0]===o[1]&&t.splice(n,2,[r[0],r[1]+o[1]])}return t}var h=-1,p=1,m=0,g=i;g.INSERT=p,g.DELETE=h,g.EQUAL=m,t.exports=g},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(22),o=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.formats=function(i){var n=o.query(e.blotName).tagName;if(i.tagName!==n)return t.formats.call(this,i)},e.prototype.format=function(i,n){null!=o.query(i,o.Scope.BLOCK)&&(i!==this.statics.blotName||n?t.prototype.format.call(this,i,n):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,i,n,r){null!=o.query(n,o.Scope.BLOCK)?this.format(n,r):t.prototype.formatAt.call(this,e,i,n,r)},e.prototype.insertAt=function(e,i,n){if(null==n||null!=o.query(i,o.Scope.INLINE))t.prototype.insertAt.call(this,e,i,n);else{var r=this.split(e),l=o.create(i,n);r.parent.insertBefore(l,r)}},e.prototype.update=function(e){navigator.userAgent.match(/Trident/)?this.attach():t.prototype.update.call(this,e)},e}(r.default);l.blotName="block",l.scope=o.Scope.BLOCK_BLOT,l.tagName="P",e.default=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(23),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.formats=function(t){},e.prototype.format=function(e,i){t.prototype.formatAt.call(this,0,this.length(),e,i)},e.prototype.formatAt=function(e,i,n,r){0===e&&i===this.length()?this.format(n,r):t.prototype.formatAt.call(this,e,i,n,r)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(r.default);e.default=o},function(t,e,i){"use strict";function n(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var i in t)if(t[i]!==e[i])return!1;return!0}var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),l=i(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(i){if(i.tagName!==e.tagName)return t.formats.call(this,i)},e.prototype.format=function(i,n){var r=this;i!==this.statics.blotName||n?t.prototype.format.call(this,i,n):(this.children.forEach(function(t){t instanceof o.default||(t=t.wrap(e.blotName,!0)),r.attributes.copy(t)}),this.unwrap())},e.prototype.formatAt=function(e,i,n,r){null!=this.formats()[n]||l.query(n,l.Scope.ATTRIBUTE)?this.isolate(e,i).format(n,r):t.prototype.formatAt.call(this,e,i,n,r)},e.prototype.optimize=function(){t.prototype.optimize.call(this);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof e&&r.prev===this&&n(i,r.formats())&&(r.moveChildren(this),r.remove())},e}(o.default);a.blotName="inline",a.scope=l.Scope.INLINE_BLOT,a.tagName="SPAN",e.default=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(21),o=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},a=function(t){function e(e){var i=t.call(this,e)||this;return i.parent=null,i.observer=new MutationObserver(function(t){i.update(t)}),i.observer.observe(i.domNode,l),i}return n(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,i){this.update(),0===e&&i===this.length()?this.children.forEach(function(t){t.remove()}):t.prototype.deleteAt.call(this,e,i)},e.prototype.formatAt=function(e,i,n,r){this.update(),t.prototype.formatAt.call(this,e,i,n,r)},e.prototype.insertAt=function(e,i,n){this.update(),t.prototype.insertAt.call(this,e,i,n)},e.prototype.optimize=function(e){var i=this;void 0===e&&(e=[]),t.prototype.optimize.call(this);for(var n=[].slice.call(this.observer.takeRecords());n.length>0;)e.push(n.pop());for(var l=function(t,e){void 0===e&&(e=!0),null!=t&&t!==i&&null!=t.domNode.parentNode&&(null==t.domNode[o.DATA_KEY].mutations&&(t.domNode[o.DATA_KEY].mutations=[]),e&&l(t.parent))},a=function(t){null!=t.domNode[o.DATA_KEY]&&null!=t.domNode[o.DATA_KEY].mutations&&(t instanceof r.default&&t.children.forEach(a),t.optimize())},s=e,u=0;s.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(s.forEach(function(t){var e=o.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(l(o.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,function(t){var e=o.find(t,!1);l(e,!1),e instanceof r.default&&e.children.forEach(function(t){l(t,!1)})})):"attributes"===t.type&&l(e.prev)),l(e))}),this.children.forEach(a),s=[].slice.call(this.observer.takeRecords()),n=s.slice();n.length>0;)e.push(n.pop())}},e.prototype.update=function(e){var i=this;e=e||this.observer.takeRecords(),e.map(function(t){var e=o.find(t.target,!0);if(null!=e)return null==e.domNode[o.DATA_KEY].mutations?(e.domNode[o.DATA_KEY].mutations=[t],e):(e.domNode[o.DATA_KEY].mutations.push(t),null)}).forEach(function(t){null!=t&&t!==i&&null!=t.domNode[o.DATA_KEY]&&t.update(t.domNode[o.DATA_KEY].mutations||[])}),null!=this.domNode[o.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations),this.optimize(e)},e}(r.default);a.blotName="scroll",a.defaultChild="block",a.scope=o.Scope.BLOCK_BLOT,a.tagName="DIV",e.default=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(23),o=i(1),l=function(t){function e(e){var i=t.call(this,e)||this;return i.text=i.statics.value(i.domNode),i}return n(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){return t.data},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,i,n){null==n?(this.text=this.text.slice(0,e)+i+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,i,n)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(){t.prototype.optimize.call(this),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var i=o.create(this.domNode.splitText(t));return this.parent.insertBefore(i,this.next),this.text=this.statics.value(this.domNode),i},e.prototype.update=function(t){var e=this;t.some(function(t){return"characterData"===t.type&&t.target===e.domNode})&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e}(r.default);l.blotName="text",l.scope=o.Scope.INLINE_BLOT,e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.head=this.tail=void 0,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],void 0),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,i=this.iterator();e=i();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=void 0,this.head=this.tail=t),this.length+=1},t.prototype.offset=function(t){for(var e=0,i=this.head;null!=i;){if(i===t)return e;e+=i.length(),i=i.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var i,n=this.iterator();i=n();){var r=i.length();if(t<r||e&&t===r&&(null==i.next||0!==i.next.length()))return[i,t];t-=r}return[null,0]},t.prototype.forEach=function(t){for(var e,i=this.iterator();e=i();)t(e)},t.prototype.forEachAt=function(t,e,i){if(!(e<=0))for(var n,r=this.find(t),o=r[0],l=r[1],a=t-l,s=this.iterator(o);(n=s())&&a<t+e;){var u=n.length();t>a?i(n,t-a,Math.min(e,a+u-t)):i(n,0,Math.min(u,t+e-a)),a+=u}},t.prototype.map=function(t){return this.reduce(function(e,i){return e.push(t(i)),e},[])},t.prototype.reduce=function(t,e){for(var i,n=this.iterator();i=n();)e=t(e,i);return e},t}();e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=i(35),o=n(r),l=i(36),a=i(38),s=i(67),u=i(64),c=n(u),f=i(65),d=n(f),h=i(69),p=n(h),m=i(37),g=i(26),v=i(39),b=i(40),y=i(44),x=n(y),w=i(68),k=n(w),_=i(27),q=n(_),C=i(70),A=n(C),S=i(71),O=n(S),T=i(72),E=n(T),M=i(66),L=n(M),D=i(73),P=n(D),N=i(16),I=n(N),j=i(74),F=n(j),R=i(75),z=n(R),B=i(46),H=n(B),W=i(41),U=n(W),$=i(28),V=n($),Y=i(48),K=n(Y),Z=i(49),X=n(Z),J=i(50),G=n(J),Q=i(76),tt=n(Q),et=i(63),it=n(et);o.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":m.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":m.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":b.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":s.IndentClass,"formats/background":m.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":v.FontClass,"formats/size":b.SizeClass,"formats/blockquote":c.default,"formats/code-block":I.default,"formats/header":d.default,"formats/list":p.default,"formats/bold":x.default,"formats/code":N.Code,"formats/italic":k.default,"formats/link":q.default,"formats/script":A.default,"formats/strike":O.default,"formats/underline":E.default,"formats/image":L.default,"formats/video":P.default,"formats/list/item":h.ListItem,"modules/formula":F.default,"modules/syntax":z.default,"modules/toolbar":H.default,"themes/bubble":tt.default,"themes/snow":it.default,"ui/icons":U.default,"ui/picker":V.default,"ui/icon-picker":X.default,"ui/color-picker":K.default,"ui/tooltip":G.default},!0),t.exports=o.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(n=(l=a.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(3),f=n(c),d=i(5),h=n(d),p=i(47),m=n(p),g=i(27),v=n(g),b=i(15),y=i(41),x=n(y),w=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(t){function e(t,i){r(this,e),null!=i.modules.toolbar&&null==i.modules.toolbar.container&&(i.modules.toolbar.container=w);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.quill.container.classList.add("ql-snow"),n}return l(e,t),u(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),x.default),this.tooltip=new _(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(e,i){t.handlers.link.call(t,!i.format.link)})}}]),e}(m.default);k.DEFAULTS=(0,f.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var i=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(i)&&0!==i.indexOf("mailto:")&&(i="mailto:"+i),this.quill.theme.tooltip.edit("link",i)}else this.quill.format("link",!1)}}}}});var _=function(t){function e(t,i){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.preview=n.root.querySelector("a.ql-preview"),n}return l(e,t),u(e,[{key:"listen",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(e){if(null!=t.linkRange){var i=t.linkRange;t.restoreFocus(),t.quill.formatText(i,"link",!1,h.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(e,i,n){if(null!=e){if(0===e.length&&n===h.default.sources.USER){var r=t.quill.scroll.descendant(v.default,e.index),o=a(r,2),l=o[0],s=o[1];if(null!=l){t.linkRange=new b.Range(e.index-s,l.length());var u=v.default.formats(l.domNode);return t.preview.textContent=u,t.preview.setAttribute("href",u),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}})}},{key:"show",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(p.BaseTooltip);_.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=k},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=i(4),a=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(a.default);s.blotName="blockquote",s.tagName="blockquote",e.default=s},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(4),s=function(t){return t&&t.__esModule?t:{default:t}}(a),u=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(s.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],e.default=u},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},s=i(7),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=i(27),f=["alt","height","width"],d=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"format",value:function(t,i){f.indexOf(t)>-1?i?this.domNode.setAttribute(t,i):this.domNode.removeAttribute(t):a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,i)}}],[{key:"create",value:function(t){var i=a(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&i.setAttribute("src",this.sanitize(t)),i}},{key:"formats",value:function(t){return f.reduce(function(e,i){return t.hasAttribute(i)&&(e[i]=t.getAttribute(i)),e},{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,c.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(u.default);d.blotName="image",d.tagName="IMG",e.default=d},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},s=i(0),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"add",value:function(t,i){if("+1"===i||"-1"===i){var n=this.value(t)||0;i="+1"===i?n+1:n-1}return 0===i?(this.remove(t),!0):a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,i)}},{key:"canAdd",value:function(t,i){return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,i)||a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(i))}},{key:"value",value:function(t){return parseInt(a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(u.default.Attributor.Class),f=new c("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=f},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=i(44),a=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(a.default);s.blotName="italic",s.tagName=["EM","I"],e.default=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},c=i(0),f=n(c),d=i(4),h=n(d),p=i(24),m=n(p),g=function(t){function e(){return o(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"format",value:function(t,i){t!==v.blotName||i?u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,i):this.replaceWith(f.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,i){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,i),this):(this.parent.unwrap(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,i))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:u(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(h.default);g.blotName="list-item",g.tagName="LI";var v=function(t){function e(t){o(this,e);var i=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return t.addEventListener("click",function(e){if(e.target.parentNode===t){var n=i.statics.formats(t),r=f.default.find(e.target);"checked"===n?r.format("list","unchecked"):"unchecked"===n&&r.format("list","checked")}}),i}return a(e,t),s(e,null,[{key:"create",value:function(t){var i="ordered"===t?"OL":"UL",n=u(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,i);return"checked"!==t&&"unchecked"!==t||n.setAttribute("data-checked","checked"===t),n}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),s(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return r({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(t,i){if(t instanceof g)u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,i);else{var n=null==i?this.length():i.offset(this),r=this.split(n);r.parent.insertBefore(t,r)}}},{key:"optimize",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&t.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(t.moveChildren(this),t.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var i=f.default.create(this.statics.defaultChild);t.moveChildren(i),this.appendChild(i)}u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(m.default);v.blotName="list",v.scope=f.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[g],e.ListItem=g,e.default=v},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},s=i(8),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):a(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(u.default);c.blotName="script",c.tagName=["SUB","SUP"],e.default=c},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=i(8),a=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(a.default);s.blotName="strike",s.tagName="S",e.default=s},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=i(8),a=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(a.default);s.blotName="underline",s.tagName="U",e.default=s},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},s=i(4),u=i(27),c=function(t){return t&&t.__esModule?t:{default:t}}(u),f=["height","width"],d=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"format",value:function(t,i){f.indexOf(t)>-1?i?this.domNode.setAttribute(t,i):this.domNode.removeAttribute(t):a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,i)}}],[{key:"create",value:function(t){var i=a(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return i.setAttribute("frameborder","0"),i.setAttribute("allowfullscreen",!0),i.setAttribute("src",this.sanitize(t)),i}},{key:"formats",value:function(t){return f.reduce(function(e,i){return t.hasAttribute(i)&&(e[i]=t.getAttribute(i)),e},{})}},{key:"sanitize",value:function(t){return c.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(s.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",e.default=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},u=i(7),c=n(u),f=i(6),d=n(f),h=i(9),p=n(h),m=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"index",value:function(){return 1}}],[{key:"create",value:function(t){var i=s(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,i),i.setAttribute("data-value",t)),i.setAttribute("contenteditable",!1),i}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(c.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var g=function(t){function e(){r(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return l(e,t),a(e,null,[{key:"register",value:function(){d.default.register(m,!0)}}]),e}(p.default);e.FormulaBlot=m,e.default=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},u=i(0),c=n(u),f=i(6),d=n(f),h=i(9),p=n(h),m=i(16),g=n(m),v=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){if(this.cachedHTML!==this.domNode.innerHTML){var e=this.domNode.textContent;(e.trim().length>0||null==this.cachedHTML)&&(this.domNode.innerHTML=t(e),this.attach()),this.cachedHTML=this.domNode.innerHTML}}}]),e}(g.default);v.className="ql-syntax";var b=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),y=function(t){function e(t,i){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));if("function"!=typeof n.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var l=null;return n.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){null==l&&(l=setTimeout(function(){n.highlight(),l=null},100))}),n.highlight(),n}return l(e,t),a(e,null,[{key:"register",value:function(){d.default.register(b,!0),d.default.register(v,!0)}}]),a(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){var e=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(e){e.highlight(t.options.highlight)}),this.quill.update(d.default.sources.SILENT),null!=e&&this.quill.setSelection(e,d.default.sources.SILENT)}}}]),e}(p.default);y.DEFAULTS={highlight:function(){return null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value}}()},e.CodeBlock=v,e.CodeToken=b,e.default=y},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(n):void 0},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(3),c=n(u),f=i(5),d=n(f),h=i(47),p=n(h),m=i(15),g=i(41),v=n(g),b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],y=function(t){function e(t,i){r(this,e),null!=i.modules.toolbar&&null==i.modules.toolbar.container&&(i.modules.toolbar.container=b);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.quill.container.classList.add("ql-bubble"),n}return l(e,t),s(e,[{key:"extendToolbar",value:function(t){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),v.default)}}]),e}(p.default);y.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=function(t){function e(t,i){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.quill.on(d.default.events.EDITOR_CHANGE,function(t,e,i,r){if(t===d.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&r===d.default.sources.USER){n.show(),n.root.style.left="0px",n.root.style.width="",n.root.style.width=n.root.offsetWidth+"px";var o=n.quill.getLines(e.index,e.length);if(1===o.length)n.position(n.quill.getBounds(e));else{var l=o[o.length-1],a=n.quill.getIndex(l),s=Math.min(l.length()-1,e.index+e.length-a),u=n.quill.getBounds(new m.Range(a,s));n.position(u)}}else document.activeElement!==n.textbox&&n.quill.hasFocus()&&n.hide()}),n}return l(e,t),s(e,[{key:"listen",value:function(){var t=this;a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){t.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var i=a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),n=this.root.querySelector(".ql-tooltip-arrow");if(n.style.marginLeft="",0===i)return i;n.style.marginLeft=-1*i-n.offsetWidth/2+"px"}}]),e}(h.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=x,e.default=y},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=3 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=11 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=3 y1=9 y2=9></line> <path class="ql-stroke ql-thin" d=M15.5,14.5h-2c0-.234,1.85-1.076,1.85-2.234a0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=3 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=11 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=3 y1=9 y2=9></line> <line class="ql-stroke ql-thin" x1=13.5 x2=15.5 y1=14.5 y2=14.5></line> <path class=ql-fill d=M14.5,15a0.5,0.5,0,0,1-.5-0.5V12.085l-0.276.138A0.5,0.5,0,0,1,13.053,12c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,15,11.5v3A0.5,0.5,0,0,1,14.5,15Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){t.exports=i(62)}])}()}()}).call(e,i(2).Buffer)},function(t,e,i){i(17);var n=i(13)(i(4),i(14),null,null);t.exports=n.exports},function(t,e){t.exports=function(t,e,i,n){var r,o=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(r=t,o=t.default);var a="function"==typeof o?o.options:o;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),i&&(a._scopeId=i),n){var s=Object.create(a.computed||null);Object.keys(n).forEach(function(t){var e=n[t];s[t]=function(){return e}}),a.computed=s}return{esModule:r,exports:o,options:a}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"quillWrapper"},[i("div",{ref:"quillContainer",attrs:{id:t.id}}),t._v(" "),t.useCustomImageHandler?i("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{id:"file-upload",type:"file"},on:{change:function(e){t.emitImageInfo(e)}}}):t._e()])},staticRenderFns:[]}},function(t,e,i){var n=i(6);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(1)("3a8079a0",n,!0)},function(t,e,i){var n=i(7);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(1)("d22a7388",n,!0)},function(t,e,i){var n=i(8);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(1)("1cdebd1c",n,!0)},function(t,e){t.exports=function(t,e){for(var i=[],n={},r=0;r<e.length;r++){var o=e[r],l=o[0],a=o[1],s=o[2],u=o[3],c={id:t+":"+r,css:a,media:s,sourceMap:u};n[l]?n[l].parts.push(c):i.push(n[l]={id:l,parts:[c]})}return i}},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){t.exports=i(3)}])})},function(module,exports){!function(window){function Element(){this.initialize=function(){this.elementType="element",this.serializedProperties=["elementType"],this.propertiesStack=[],this._id=""+(new Date).getTime()},this.distroy=function(){},this.removeHandler=function(){},this.attr=function(t,e){if(null!=t&&null!=e)this[t]=e;else if(null!=t)return this[t];return this},this.save=function(){var t=this,e={};this.serializedProperties.forEach(function(i){e[i]=t[i]}),this.propertiesStack.push(e)},this.restore=function(){if(null!=this.propertiesStack&&0!=this.propertiesStack.length){var t=this,e=this.propertiesStack.pop();this.serializedProperties.forEach(function(i){t[i]=e[i]})}},this.toJson=function(){var t=this,e="{",i=this.serializedProperties.length;return this.serializedProperties.forEach(function(n,r){var o=t[n];"string"==typeof o&&(o='"'+o+'"'),e+='"'+n+'":'+o,i>r+1&&(e+=",")}),e+="}"}}CanvasRenderingContext2D.prototype.JTopoRoundRect=function(t,e,i,n,r){void 0===r&&(r=5),this.beginPath(),this.moveTo(t+r,e),this.lineTo(t+i-r,e),this.quadraticCurveTo(t+i,e,t+i,e+r),this.lineTo(t+i,e+n-r),this.quadraticCurveTo(t+i,e+n,t+i-r,e+n),this.lineTo(t+r,e+n),this.quadraticCurveTo(t,e+n,t,e+n-r),this.lineTo(t,e+r),this.quadraticCurveTo(t,e,t+r,e),this.closePath()},CanvasRenderingContext2D.prototype.JTopoDashedLineTo=function(t,e,i,n,r){void 0===r&&(r=5);var o=i-t,l=n-e,a=Math.floor(Math.sqrt(o*o+l*l)),s=0>=r?a:a/r,u=l/a*r,c=o/a*r;this.beginPath();for(var f=0;s>f;f++)f%2?this.lineTo(t+f*c,e+f*u):this.moveTo(t+f*c,e+f*u);this.stroke()},JTopo={version:"0.4.8",zIndex_Container:1,zIndex_Link:2,zIndex_Node:3,SceneMode:{normal:"normal",drag:"drag",edit:"edit",select:"select"},MouseCursor:{normal:"default",pointer:"pointer",top_left:"nw-resize",top_center:"n-resize",top_right:"ne-resize",middle_left:"e-resize",middle_right:"e-resize",bottom_left:"ne-resize",bottom_center:"n-resize",bottom_right:"nw-resize",move:"move",open_hand:"url(./img/cur/openhand.cur) 8 8, default",closed_hand:"url(./img/cur/closedhand.cur) 8 8, default"},createStageFromJson:function(jsonStr,canvas){eval("var jsonObj = "+jsonStr);var stage=new JTopo.Stage(canvas);for(var k in jsonObj)"childs"!=k&&(stage[k]=jsonObj[k]);var scenes=jsonObj.childs;return scenes.forEach(function(t){var e=new JTopo.Scene(stage);for(var i in t)"childs"!=i&&(e[i]=t[i]),"background"==i&&(e.background=t[i]);t.childs.forEach(function(t){var i=null,n=t.elementType;"node"==n?i=new JTopo.Node:"CircleNode"==n&&(i=new JTopo.CircleNode);for(var r in t)i[r]=t[r];e.add(i)})}),stage}},JTopo.Element=Element,window.JTopo=JTopo}(window),function(JTopo){function MessageBus(t){var e=this;this.name=t,this.messageMap={},this.messageCount=0,this.subscribe=function(t,i){null==e.messageMap[t]&&(e.messageMap[t]=[]),e.messageMap[t].push(i),e.messageCount++},this.unsubscribe=function(t){null!=e.messageMap[t]&&(e.messageMap[t]=null,delete e.messageMap[t],e.messageCount--)},this.publish=function(t,i,n){var r=e.messageMap[t];if(null!=r)for(var o=0;o<r.length;o++)n?function(t,e){setTimeout(function(){t(e)},10)}(r[o],i):r[o](i)}}function getDistance(t,e,i,n){var r,o;return null==i&&null==n?(r=e.x-t.x,o=e.y-t.y):(r=i-t,o=n-e),Math.sqrt(r*r+o*o)}function getElementsBound(t){for(var e={left:Number.MAX_VALUE,right:Number.MIN_VALUE,top:Number.MAX_VALUE,bottom:Number.MIN_VALUE},i=0;i<t.length;i++){var n=t[i];n instanceof JTopo.Link||(e.left>n.x&&(e.left=n.x,e.leftNode=n),e.right<n.x+n.width&&(e.right=n.x+n.width,e.rightNode=n),e.top>n.y&&(e.top=n.y,e.topNode=n),e.bottom<n.y+n.height&&(e.bottom=n.y+n.height,e.bottomNode=n))}return e.width=e.right-e.left,e.height=e.bottom-e.top,e}function mouseCoords(t){return t=cloneEvent(t),t.pageX||(t.pageX=t.clientX+document.body.scrollLeft-document.body.clientLeft,t.pageY=t.clientY+document.body.scrollTop-document.body.clientTop),t}function getEventPosition(t){return t=mouseCoords(t)}function rotatePoint(t,e,i,n,r){var o=i-t,l=n-e,a=Math.sqrt(o*o+l*l),s=Math.atan2(l,o)+r;return{x:t+Math.cos(s)*a,y:e+Math.sin(s)*a}}function rotatePoints(t,e,i){for(var n=[],r=0;r<e.length;r++){var o=rotatePoint(t.x,t.y,e[r].x,e[r].y,i);n.push(o)}return n}function $foreach(t,e,i){function n(r){r!=t.length&&(e(t[r]),setTimeout(function(){n(++r)},i))}if(0!=t.length){n(0)}}function $for(t,e,i,n){function r(t){t!=e&&(i(e),setTimeout(function(){r(++t)},n))}if(!(t>e)){r(0)}}function cloneEvent(t){var e={};for(var i in t)"returnValue"!=i&&"keyLocation"!=i&&(e[i]=t[i]);return e}function clone(t){var e={};for(var i in t)e[i]=t[i];return e}function isPointInRect(t,e){var i=e.x,n=e.y,r=e.width,o=e.height;return t.x>i&&t.x<i+r&&t.y>n&&t.y<n+o}function isPointInLine(t,e,i){var n=JTopo.util.getDistance(e,i),r=JTopo.util.getDistance(e,t),o=JTopo.util.getDistance(i,t);return Math.abs(r+o-n)<=.5}function removeFromArray(t,e){for(var i=0;i<t.length;i++){if(t[i]===e){t=t.del(i);break}}return t}function randomColor(){return Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())}function isIntsect(){}function getProperties(t,e){for(var i="",n=0;n<e.length;n++){n>0&&(i+=",");var r=t[e[n]];"string"==typeof r?r='"'+r+'"':void 0==r&&(r=null),i+=e[n]+":"+r}return i}function loadStageFromJson(json,canvas){var obj=eval(json),stage=new JTopo.Stage(canvas);for(var k in stageObj)if("scenes"!=k)stage[k]=obj[k];else for(var scenes=obj.scenes,i=0;i<scenes.length;i++){var sceneObj=scenes[i],scene=new JTopo.Scene(stage);for(var p in sceneObj)if("elements"!=p)scene[p]=sceneObj[p];else for(var nodeMap={},elements=sceneObj.elements,m=0;m<elements.length;m++){var elementObj=elements[m],type=elementObj.elementType,element;"Node"==type&&(element=new JTopo.Node);for(var mk in elementObj)element[mk]=elementObj[mk];nodeMap[element.text]=element,scene.add(element)}}return console.log(stage),stage}function toJson(t){var e="backgroundColor,visible,mode,rotate,alpha,scaleX,scaleY,shadow,translateX,translateY,areaSelect,paintAll".split(","),i="text,elementType,x,y,width,height,visible,alpha,rotate,scaleX,scaleY,fillColor,shadow,transformAble,zIndex,dragable,selected,showSelected,font,fontColor,textPosition,textOffsetX,textOffsetY".split(","),n="{";n+="frames:"+t.frames,n+=", scenes:[";for(var r=0;r<t.childs.length;r++){var o=t.childs[r];n+="{",n+=getProperties(o,e),n+=", elements:[";for(var l=0;l<o.childs.length;l++){var a=o.childs[l];l>0&&(n+=","),n+="{",n+=getProperties(a,i),n+="}"}n+="]}"}return n+="]",n+="}"}function changeColor(t,e,i,n,r){var o=canvas.width=e.width,l=canvas.height=e.height;t.clearRect(0,0,canvas.width,canvas.height),t.drawImage(e,0,0);for(var a=t.getImageData(0,0,e.width,e.height),s=a.data,u=0;o>u;u++)for(var c=0;l>c;c++){var f=4*(u+c*o);0!=s[f+3]&&(null!=i&&(s[f+0]+=i),null!=n&&(s[f+1]+=n),null!=r&&(s[f+2]+=r))}t.putImageData(a,0,0,0,0,e.width,e.height);var d=canvas.toDataURL();return alarmImageCache[e.src]=d,d}function genImageAlarm(t,e){null==e&&(e=255);try{if(alarmImageCache[t.src])return alarmImageCache[t.src];var i=new Image;return i.src=changeColor(graphics,t,e),alarmImageCache[t.src]=i,i}catch(t){}return null}function getOffsetPosition(t){if(!t)return{left:0,top:0};var e=0,i=0;if("getBoundingClientRect"in document.documentElement)var n=t.getBoundingClientRect(),r=t.ownerDocument,o=r.body,l=r.documentElement,a=l.clientTop||o.clientTop||0,s=l.clientLeft||o.clientLeft||0,e=n.top+(self.pageYOffset||l&&l.scrollTop||o.scrollTop)-a,i=n.left+(self.pageXOffset||l&&l.scrollLeft||o.scrollLeft)-s;else do{e+=t.offsetTop||0,i+=t.offsetLeft||0,t=t.offsetParent}while(t);return{left:i,top:e}}function lineF(t,e,i,n){function r(t){return t*o+l}var o=(n-e)/(i-t),l=e-t*o;return r.k=o,r.b=l,r.x1=t,r.x2=i,r.y1=e,r.y2=n,r}function inRange(t,e,i){var n=Math.abs(e-i),r=Math.abs(e-t),o=Math.abs(i-t);return 1e-6>Math.abs(n-(r+o))}function isPointInLineSeg(t,e,i){return inRange(t,i.x1,i.x2)&&inRange(e,i.y1,i.y2)}function intersection(t,e){var i,n;return t.k==e.k?null:(1/0==t.k||t.k==-1/0?(i=t.x1,n=e(t.x1)):1/0==e.k||e.k==-1/0?(i=e.x1,n=t(e.x1)):(i=(e.b-t.b)/(t.k-e.k),n=t(i)),0==isPointInLineSeg(i,n,t)?null:0==isPointInLineSeg(i,n,e)?null:{x:i,y:n})}function intersectionLineBound(t,e){var i=JTopo.util.lineF(e.left,e.top,e.left,e.bottom),n=JTopo.util.intersection(t,i);return null==n&&(i=JTopo.util.lineF(e.left,e.top,e.right,e.top),null==(n=JTopo.util.intersection(t,i))&&(i=JTopo.util.lineF(e.right,e.top,e.right,e.bottom),null==(n=JTopo.util.intersection(t,i))&&(i=JTopo.util.lineF(e.left,e.bottom,e.right,e.bottom),n=JTopo.util.intersection(t,i)))),n}requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){setTimeout(t,1e3/24)},Array.prototype.del=function(t){if("number"!=typeof t){for(var e=0;e<this.length;e++)if(this[e]===t)return this.slice(0,e).concat(this.slice(e+1,this.length));return this}return 0>t?this:this.slice(0,t).concat(this.slice(t+1,this.length))},[].indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),window.console||(window.console={log:function(){},info:function(){},debug:function(){},warn:function(){},error:function(){}});var canvas=document.createElement("canvas"),graphics=canvas.getContext("2d"),alarmImageCache={};JTopo.util={rotatePoint:rotatePoint,rotatePoints:rotatePoints,getDistance:getDistance,getEventPosition:getEventPosition,mouseCoords:mouseCoords,MessageBus:MessageBus,isFirefox:navigator.userAgent.indexOf("Firefox")>0,isIE:!(!window.attachEvent||-1!==navigator.userAgent.indexOf("Opera")),isChrome:null!=navigator.userAgent.toLowerCase().match(/chrome/),clone:clone,isPointInRect:isPointInRect,isPointInLine:isPointInLine,removeFromArray:removeFromArray,cloneEvent:cloneEvent,randomColor:randomColor,isIntsect:isIntsect,toJson:toJson,loadStageFromJson:loadStageFromJson,getElementsBound:getElementsBound,genImageAlarm:genImageAlarm,getOffsetPosition:getOffsetPosition,lineF:lineF,intersection:intersection,intersectionLineBound:intersectionLineBound},window.$for=$for,window.$foreach=$foreach}(JTopo),function(t){function e(t){return{hgap:16,visible:!1,exportCanvas:document.createElement("canvas"),getImage:function(e,i){var n=t.getBound(),r=1,o=1;this.exportCanvas.width=t.canvas.width,this.exportCanvas.height=t.canvas.height,null!=e&&null!=i?(this.exportCanvas.width=e,this.exportCanvas.height=i,r=e/n.width,o=i/n.height):(n.width>t.canvas.width&&(this.exportCanvas.width=n.width),n.height>t.canvas.height&&(this.exportCanvas.height=n.height));var l=this.exportCanvas.getContext("2d");return t.childs.length>0&&(l.save(),l.clearRect(0,0,this.exportCanvas.width,this.exportCanvas.height),t.childs.forEach(function(t){1==t.visible&&(t.save(),t.translateX=0,t.translateY=0,t.scaleX=1,t.scaleY=1,l.scale(r,o),n.left<0&&(t.translateX=Math.abs(n.left)),n.top<0&&(t.translateY=Math.abs(n.top)),t.paintAll=!0,t.repaint(l),t.paintAll=!1,t.restore())}),l.restore()),this.exportCanvas.toDataURL("image/png")},canvas:document.createElement("canvas"),update:function(){this.eagleImageDatas=this.getData(t)},setSize:function(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e},getData:function(e,i){null!=s&&null!=u?this.setSize(e,i):this.setSize(200,160);var n=this.canvas.getContext("2d");if(t.childs.length>0){n.save(),n.clearRect(0,0,this.canvas.width,this.canvas.height),t.childs.forEach(function(t){1==t.visible&&(t.save(),t.centerAndZoom(null,null,n),t.repaint(n),t.restore())});var r=function(t){var e=t.stage.canvas.width,i=t.stage.canvas.height,n=e/t.scaleX/2,r=i/t.scaleY/2;return{translateX:t.translateX+n-n*t.scaleX,translateY:t.translateY+r-r*t.scaleY}}(t.childs[0]),o=r.translateX*(this.canvas.width/t.canvas.width)*t.childs[0].scaleX,l=r.translateY*(this.canvas.height/t.canvas.height)*t.childs[0].scaleY,a=t.getBound(),s=t.canvas.width/t.childs[0].scaleX/a.width,u=t.canvas.height/t.childs[0].scaleY/a.height;s>1&&(s=1),u>1&&(s=1),o*=s,l*=u,a.left<0&&(o-=Math.abs(a.left)*(this.width/a.width)),a.top<0&&(l-=Math.abs(a.top)*(this.height/a.height)),n.save(),n.lineWidth=1,n.strokeStyle="rgba(255,0,0,1)",n.strokeRect(-o,-l,n.canvas.width*s,n.canvas.height*u),n.restore();var c=null;try{c=n.getImageData(0,0,n.canvas.width,n.canvas.height)}catch(t){}return c}return null},paint:function(){if(null!=this.eagleImageDatas){var e=t.graphics;e.save(),e.fillStyle="rgba(211,211,211,0.3)",e.fillRect(t.canvas.width-this.canvas.width-2*this.hgap,t.canvas.height-this.canvas.height-1,t.canvas.width-this.canvas.width,this.canvas.height+1),e.fill(),e.save(),e.lineWidth=1,e.strokeStyle="rgba(0,0,0,1)",e.rect(t.canvas.width-this.canvas.width-2*this.hgap,t.canvas.height-this.canvas.height-1,t.canvas.width-this.canvas.width,this.canvas.height+1),e.stroke(),e.restore(),e.putImageData(this.eagleImageDatas,t.canvas.width-this.canvas.width-this.hgap,t.canvas.height-this.canvas.height),e.restore()}else this.eagleImageDatas=this.getData(t)},eventHandler:function(t,e,i){var n=e.x,r=e.y;if(n>i.canvas.width-this.canvas.width&&r>i.canvas.height-this.canvas.height&&(n=e.x-this.canvas.width,r=e.y-this.canvas.height,"mousedown"==t&&(this.lastTranslateX=i.childs[0].translateX,this.lastTranslateY=i.childs[0].translateY),"mousedrag"==t&&i.childs.length>0)){var o=e.dx,l=e.dy,a=i.getBound(),s=this.canvas.width/i.childs[0].scaleX/a.width,u=this.canvas.height/i.childs[0].scaleY/a.height;i.childs[0].translateX=this.lastTranslateX-o/s,i.childs[0].translateY=this.lastTranslateY-l/u}}}}function i(i){function n(e){var i=t.util.getEventPosition(e),n=t.util.getOffsetPosition(h.canvas);return i.offsetLeft=i.pageX-n.left,i.offsetTop=i.pageY-n.top,i.x=i.offsetLeft,i.y=i.offsetTop,i.target=null,i}function r(t){document.onselectstart=function(){return!1},this.mouseOver=!0;var e=n(t);h.dispatchEventToScenes("mouseover",e),h.dispatchEvent("mouseover",e)}function o(t){m=setTimeout(function(){p=!0},500),document.onselectstart=function(){return!0};var e=n(t);h.dispatchEventToScenes("mouseout",e),h.dispatchEvent("mouseout",e),h.needRepaint=0!=h.animate}function l(t){var e=n(t);h.mouseDown=!0,h.mouseDownX=e.x,h.mouseDownY=e.y,h.dispatchEventToScenes("mousedown",e),h.dispatchEvent("mousedown",e)}function a(t){var e=n(t);h.dispatchEventToScenes("mouseup",e),h.dispatchEvent("mouseup",e),h.mouseDown=!1,h.needRepaint=0!=h.animate}function s(t){m&&(window.clearTimeout(m),m=null),p=!1;var e=n(t);h.mouseDown?0==t.button&&(e.dx=e.x-h.mouseDownX,e.dy=e.y-h.mouseDownY,h.dispatchEventToScenes("mousedrag",e),h.dispatchEvent("mousedrag",e),1==h.eagleEye.visible&&h.eagleEye.update()):(h.dispatchEventToScenes("mousemove",e),h.dispatchEvent("mousemove",e))}function u(t){var e=n(t);h.dispatchEventToScenes("click",e),h.dispatchEvent("click",e)}function c(t){var e=n(t);h.dispatchEventToScenes("dbclick",e),h.dispatchEvent("dbclick",e)}function f(t){var e=n(t);h.dispatchEventToScenes("mousewheel",e),h.dispatchEvent("mousewheel",e),null!=h.wheelZoom&&(t.preventDefault?t.preventDefault():(t=t||window.event,t.returnValue=!1),1==h.eagleEye.visible&&h.eagleEye.update())}function d(e){t.util.isIE||!window.addEventListener?(e.onmouseout=o,e.onmouseover=r,e.onmousedown=l,e.onmouseup=a,e.onmousemove=s,e.onclick=u,e.ondblclick=c,e.onmousewheel=f,e.touchstart=l,e.touchmove=s,e.touchend=a):(e.addEventListener("mouseout",o),e.addEventListener("mouseover",r),e.addEventListener("mousedown",l),e.addEventListener("mouseup",a),e.addEventListener("mousemove",s),e.addEventListener("click",u),e.addEventListener("dblclick",c),t.util.isFirefox?e.addEventListener("DOMMouseScroll",f):e.addEventListener("mousewheel",f)),window.addEventListener&&(window.addEventListener("keydown",function(e){h.dispatchEventToScenes("keydown",t.util.cloneEvent(e)),300==e.keyCode&&(e.preventDefault?e.preventDefault():(e=e||window.event,e.returnValue=!1))},!0),window.addEventListener("keyup",function(e){h.dispatchEventToScenes("keyup",t.util.cloneEvent(e)),300==e.keyCode&&(e.preventDefault?e.preventDefault():(e=e||window.event,e.returnValue=!1))},!0))}t.stage=this;var h=this;this.initialize=function(i){d(i),this.canvas=i,this.graphics=i.getContext("2d"),this.childs=[],this.frames=24,this.messageBus=new t.util.MessageBus,this.eagleEye=e(this),this.wheelZoom=null,this.mouseDownX=0,this.mouseDownY=0,this.mouseDown=!1,this.mouseOver=!1,this.needRepaint=!0,this.serializedProperties=["frames","wheelZoom"]},null!=i&&this.initialize(i);var p=!0,m=null;document.oncontextmenu=function(){return p},this.dispatchEventToScenes=function(t,e){if(0!=this.frames&&(this.needRepaint=!0),1==this.eagleEye.visible&&-1!=t.indexOf("mouse")){var i=e.x,n=e.y;if(i>this.width-this.eagleEye.width&&n>this.height-this.eagleEye.height)return void this.eagleEye.eventHandler(t,e,this)}this.childs.forEach(function(i){if(1==i.visible){var n=i[t+"Handler"];if(null==n)throw new Error("Function not found:"+t+"Handler");n.call(i,e)}})},this.add=function(t){for(var e=0;e<this.childs.length;e++)if(this.childs[e]===t)return;t.addTo(this),this.childs.push(t)},this.remove=function(t){if(null==t)throw new Error("Stage.remove出错: 参数为null!");for(var e=0;e<this.childs.length;e++)if(this.childs[e]===t)return t.stage=null,this.childs=this.childs.del(e),this;return this},this.clear=function(){this.childs=[]},this.addEventListener=function(t,e){var i=this,n=function(t){e.call(i,t)};return this.messageBus.subscribe(t,n),this},this.removeEventListener=function(t){this.messageBus.unsubscribe(t)},this.removeAllEventListener=function(){this.messageBus=new t.util.MessageBus},this.dispatchEvent=function(t,e){return this.messageBus.publish(t,e),this};var g=this;"click,dbclick,mousedown,mouseup,mouseover,mouseout,mousemove,mousedrag,mousewheel,touchstart,touchmove,touchend,keydown,keyup".split(",").forEach(function(t){g[t]=function(e){null!=e?this.addEventListener(t,e):this.dispatchEvent(t)}}),this.saveImageInfo=function(t,e){var i=this.eagleEye.getImage(t,e);return window.open("about:blank").document.write("<img src='"+i+"' alt='from canvas'/>"),this},this.saveAsLocalImage=function(t,e){var i=this.eagleEye.getImage(t,e);return i.replace("image/png","image/octet-stream"),window.location.href=i,this},this.paint=function(){null!=this.canvas&&(this.graphics.save(),this.graphics.clearRect(0,0,this.width,this.height),this.childs.forEach(function(t){1==t.visible&&t.repaint(h.graphics)}),1==this.eagleEye.visible&&this.eagleEye.paint(this),this.graphics.restore())},this.repaint=function(){0!=this.frames&&(this.frames<0&&0==this.needRepaint||(this.paint(),this.frames<0&&(this.needRepaint=!1)))},this.zoom=function(t){this.childs.forEach(function(e){0!=e.visible&&e.zoom(t)})},this.zoomOut=function(t){this.childs.forEach(function(e){0!=e.visible&&e.zoomOut(t)})},this.zoomIn=function(t){this.childs.forEach(function(e){0!=e.visible&&e.zoomIn(t)})},this.centerAndZoom=function(){this.childs.forEach(function(t){0!=t.visible&&t.centerAndZoom()})},this.setCenter=function(t,e){var i=this;this.childs.forEach(function(n){var r=t-i.canvas.width/2,o=e-i.canvas.height/2;n.translateX=-r,n.translateY=-o})},this.getBound=function(){var t={left:Number.MAX_VALUE,right:Number.MIN_VALUE,top:Number.MAX_VALUE,bottom:Number.MIN_VALUE};return this.childs.forEach(function(e){var i=e.getElementsBound();i.left<t.left&&(t.left=i.left,t.leftNode=i.leftNode),i.top<t.top&&(t.top=i.top,t.topNode=i.topNode),i.right>t.right&&(t.right=i.right,t.rightNode=i.rightNode),i.bottom>t.bottom&&(t.bottom=i.bottom,t.bottomNode=i.bottomNode)}),t.width=t.right-t.left,t.height=t.bottom-t.top,t},this.toJson=function(){var e=this,i='{"version":"'+t.version+'",';return this.serializedProperties.length,this.serializedProperties.forEach(function(t){var n=e[t];"string"==typeof n&&(n='"'+n+'"'),i+='"'+t+'":'+n+","}),i+='"childs":[',this.childs.forEach(function(t){i+=t.toJson()}),i+="]",i+="}"},function(){0==h.frames?setTimeout(arguments.callee,100):h.frames<0?(h.repaint(),setTimeout(arguments.callee,1e3/-h.frames)):(h.repaint(),setTimeout(arguments.callee,1e3/h.frames))}(),setTimeout(function(){h.mousewheel(function(t){var e=null==t.wheelDelta?t.detail:t.wheelDelta;null!=this.wheelZoom&&(e>0?this.zoomIn(this.wheelZoom):this.zoomOut(this.wheelZoom))}),h.paint()},300),setTimeout(function(){h.paint()},1e3),setTimeout(function(){h.paint()},3e3)}i.prototype={get width(){return this.canvas.width},get height(){return this.canvas.height},set cursor(t){this.canvas.style.cursor=t},get cursor(){return this.canvas.style.cursor},set mode(t){this.childs.forEach(function(e){e.mode=t})}},t.Stage=i}(JTopo),function(t){function e(i){function n(t,e,i,n){return function(r){r.beginPath(),r.strokeStyle="rgba(0,0,236,0.5)",r.fillStyle="rgba(0,0,236,0.1)",r.rect(t,e,i,n),r.fill(),r.stroke(),r.closePath()}}var r=this;this.initialize=function(){e.prototype.initialize.apply(this,arguments),this.messageBus=new t.util.MessageBus,this.elementType="scene",this.childs=[],this.zIndexMap={},this.zIndexArray=[],this.backgroundColor="255,255,255",this.visible=!0,this.alpha=0,this.scaleX=1,this.scaleY=1,this.mode=t.SceneMode.normal,this.translate=!0,this.translateX=0,this.translateY=0,this.lastTranslateX=0,this.lastTranslateY=0,this.mouseDown=!1,this.mouseDownX=null,this.mouseDownY=null,this.mouseDownEvent=null,this.areaSelect=!0,this.operations=[],this.selectedElements=[],this.paintAll=!1;var i="background,backgroundColor,mode,paintAll,areaSelect,translate,translateX,translateY,lastTranslatedX,lastTranslatedY,alpha,visible,scaleX,scaleY".split(",");this.serializedProperties=this.serializedProperties.concat(i)},this.initialize(),this.setBackground=function(t){this.background=t},this.addTo=function(t){this.stage!==t&&null!=t&&(this.stage=t)},null!=i&&(i.add(this),this.addTo(i)),this.show=function(){this.visible=!0},this.hide=function(){this.visible=!1},this.paint=function(t){if(0!=this.visible&&null!=this.stage){if(t.save(),this.paintBackgroud(t),t.restore(),t.save(),t.scale(this.scaleX,this.scaleY),1==this.translate){var e=this.getOffsetTranslate(t);t.translate(e.translateX,e.translateY)}this.paintChilds(t),t.restore(),t.save(),this.paintOperations(t,this.operations),t.restore()}},this.repaint=function(t){0!=this.visible&&this.paint(t)},this.paintBackgroud=function(t){null!=this.background?t.drawImage(this.background,0,0,t.canvas.width,t.canvas.height):(t.beginPath(),t.fillStyle="rgba("+this.backgroundColor+","+this.alpha+")",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.closePath())},this.getDisplayedElements=function(){for(var t=[],e=0;e<this.zIndexArray.length;e++)for(var i=this.zIndexArray[e],n=this.zIndexMap[i],r=0;r<n.length;r++){var o=n[r];this.isVisiable(o)&&t.push(o)}return t},this.getDisplayedNodes=function(){for(var e=[],i=0;i<this.childs.length;i++){var n=this.childs[i];n instanceof t.Node&&this.isVisiable(n)&&e.push(n)}return e},this.paintChilds=function(e){for(var i=0;i<this.zIndexArray.length;i++)for(var n=this.zIndexArray[i],r=this.zIndexMap[n],o=0;o<r.length;o++){var l=r[o];if(1==this.paintAll||this.isVisiable(l)){if(e.save(),1==l.transformAble){var a=l.getCenterLocation();e.translate(a.x,a.y),l.rotate&&e.rotate(l.rotate),l.scaleX&&l.scaleY?e.scale(l.scaleX,l.scaleY):l.scaleX?e.scale(l.scaleX,1):l.scaleY&&e.scale(1,l.scaleY)}1==l.shadow&&(e.shadowBlur=l.shadowBlur,e.shadowColor=l.shadowColor,e.shadowOffsetX=l.shadowOffsetX,e.shadowOffsetY=l.shadowOffsetY),l instanceof t.InteractiveElement&&(l.selected&&1==l.showSelected&&l.paintSelected(e),1==l.isMouseOver&&l.paintMouseover(e)),l.paint(e),e.restore()}}},this.getOffsetTranslate=function(t){var e=this.stage.canvas.width,i=this.stage.canvas.height;null!=t&&"move"!=t&&(e=t.canvas.width,i=t.canvas.height);var n=e/this.scaleX/2,r=i/this.scaleY/2;return{translateX:this.translateX+(n-n*this.scaleX),translateY:this.translateY+(r-r*this.scaleY)}},this.isVisiable=function(e){if(1!=e.visible)return!1;if(e instanceof t.Link)return!0;var i=this.getOffsetTranslate(),n=e.x+i.translateX,r=e.y+i.translateY;n*=this.scaleX,r*=this.scaleY;var o=n+e.width*this.scaleX,l=r+e.height*this.scaleY;return!(n>this.stage.canvas.width||r>this.stage.canvas.height||0>o||0>l)},this.paintOperations=function(t,e){for(var i=0;i<e.length;i++)e[i](t)},this.findElements=function(t){for(var e=[],i=0;i<this.childs.length;i++)1==t(this.childs[i])&&e.push(this.childs[i]);return e},this.getElementsByClass=function(t){return this.findElements(function(e){return e instanceof t})},this.addOperation=function(t){return this.operations.push(t),this},this.clearOperations=function(){return this.operations=[],this},this.getElementByXY=function(e,i){for(var n=null,r=this.zIndexArray.length-1;r>=0;r--)for(var o=this.zIndexArray[r],l=this.zIndexMap[o],a=l.length-1;a>=0;a--){var s=l[a];if(s instanceof t.InteractiveElement&&this.isVisiable(s)&&s.isInBound(e,i))return n=s}return n},this.add=function(t){this.childs.push(t),null==this.zIndexMap[t.zIndex]&&(this.zIndexMap[t.zIndex]=[],this.zIndexArray.push(t.zIndex),this.zIndexArray.sort(function(t,e){return t-e})),this.zIndexMap[""+t.zIndex].push(t)},this.remove=function(e){this.childs=t.util.removeFromArray(this.childs,e);var i=this.zIndexMap[e.zIndex];i&&(this.zIndexMap[e.zIndex]=t.util.removeFromArray(i,e)),e.removeHandler(this)},this.clear=function(){var t=this;this.childs.forEach(function(e){e.removeHandler(t)}),this.childs=[],this.operations=[],this.zIndexArray=[],this.zIndexMap={}},this.addToSelected=function(t){this.selectedElements.push(t)},this.cancleAllSelected=function(t){for(var e=0;e<this.selectedElements.length;e++)this.selectedElements[e].unselectedHandler(t);this.selectedElements=[]},this.notInSelectedNodes=function(t){for(var e=0;e<this.selectedElements.length;e++)if(t===this.selectedElements[e])return!1;return!0},this.removeFromSelected=function(t){for(var e=0;e<this.selectedElements.length;e++){t===this.selectedElements[e]&&(this.selectedElements=this.selectedElements.del(e))}},this.toSceneEvent=function(e){var i=t.util.clone(e);if(i.x/=this.scaleX,i.y/=this.scaleY,1==this.translate){var n=this.getOffsetTranslate();i.x-=n.translateX,i.y-=n.translateY}return null!=i.dx&&(i.dx/=this.scaleX,i.dy/=this.scaleY),null!=this.currentElement&&(i.target=this.currentElement),i.scene=this,i},this.selectElement=function(t){var e=r.getElementByXY(t.x,t.y);if(null!=e)if(t.target=e,e.mousedownHander(t),e.selectedHandler(t),r.notInSelectedNodes(e))t.ctrlKey||r.cancleAllSelected(),r.addToSelected(e);else{1==t.ctrlKey&&(e.unselectedHandler(),this.removeFromSelected(e));for(var i=0;i<this.selectedElements.length;i++){var n=this.selectedElements[i];n.selectedHandler(t)}}else t.ctrlKey||r.cancleAllSelected();this.currentElement=e},this.mousedownHandler=function(e){var i=this.toSceneEvent(e);if(this.mouseDown=!0,this.mouseDownX=i.x,this.mouseDownY=i.y,this.mouseDownEvent=i,this.mode==t.SceneMode.normal)this.selectElement(i),(null==this.currentElement||this.currentElement instanceof t.Link)&&1==this.translate&&(this.lastTranslateX=this.translateX,this.lastTranslateY=this.translateY);else{if(this.mode==t.SceneMode.drag&&1==this.translate)return this.lastTranslateX=this.translateX,void(this.lastTranslateY=this.translateY);this.mode==t.SceneMode.select?this.selectElement(i):this.mode==t.SceneMode.edit&&(this.selectElement(i),(null==this.currentElement||this.currentElement instanceof t.Link)&&1==this.translate&&(this.lastTranslateX=this.translateX,this.lastTranslateY=this.translateY))}r.dispatchEvent("mousedown",i)},this.mouseupHandler=function(e){this.stage.cursor!=t.MouseCursor.normal&&(this.stage.cursor=t.MouseCursor.normal),r.clearOperations();var i=this.toSceneEvent(e);null!=this.currentElement&&(i.target=r.currentElement,this.currentElement.mouseupHandler(i)),this.dispatchEvent("mouseup",i),this.mouseDown=!1},this.dragElements=function(e){if(null!=this.currentElement&&1==this.currentElement.dragable)for(var i=0;i<this.selectedElements.length;i++){var n=this.selectedElements[i];if(0!=n.dragable){var r=t.util.clone(e);r.target=n,n.mousedragHandler(r)}}},this.mousedragHandler=function(e){var i=this.toSceneEvent(e);this.mode==t.SceneMode.normal?null==this.currentElement||this.currentElement instanceof t.Link?1==this.translate&&(this.stage.cursor=t.MouseCursor.closed_hand,this.translateX=this.lastTranslateX+i.dx,this.translateY=this.lastTranslateY+i.dy):this.dragElements(i):this.mode==t.SceneMode.drag?1==this.translate&&(this.stage.cursor=t.MouseCursor.closed_hand,this.translateX=this.lastTranslateX+i.dx,this.translateY=this.lastTranslateY+i.dy):this.mode==t.SceneMode.select?null!=this.currentElement?1==this.currentElement.dragable&&this.dragElements(i):1==this.areaSelect&&this.areaSelectHandle(i):this.mode==t.SceneMode.edit&&(null==this.currentElement||this.currentElement instanceof t.Link?1==this.translate&&(this.stage.cursor=t.MouseCursor.closed_hand,this.translateX=this.lastTranslateX+i.dx,this.translateY=this.lastTranslateY+i.dy):this.dragElements(i)),this.dispatchEvent("mousedrag",i)},this.areaSelectHandle=function(t){var e=t.offsetLeft,i=t.offsetTop,o=this.mouseDownEvent.offsetLeft,l=this.mouseDownEvent.offsetTop,a=e>=o?o:e,s=i>=l?l:i,u=Math.abs(t.dx)*this.scaleX,c=Math.abs(t.dy)*this.scaleY,f=new n(a,s,u,c);r.clearOperations().addOperation(f),e=t.x,i=t.y,o=this.mouseDownEvent.x,l=this.mouseDownEvent.y,a=e>=o?o:e,s=i>=l?l:i,u=Math.abs(t.dx),c=Math.abs(t.dy);for(var d=a+u,h=s+c,p=0;p<r.childs.length;p++){var m=r.childs[p];m.x>a&&m.x+m.width<d&&m.y>s&&m.y+m.height<h&&r.notInSelectedNodes(m)&&(m.selectedHandler(t),r.addToSelected(m))}},this.mousemoveHandler=function(e){this.mousecoord={x:e.x,y:e.y};var i=this.toSceneEvent(e);if(this.mode==t.SceneMode.drag)return void(this.stage.cursor=t.MouseCursor.open_hand);this.mode==t.SceneMode.normal?this.stage.cursor=t.MouseCursor.normal:this.mode==t.SceneMode.select&&(this.stage.cursor=t.MouseCursor.normal);var n=r.getElementByXY(i.x,i.y);null!=n?(r.mouseOverelement&&r.mouseOverelement!==n&&(i.target=n,r.mouseOverelement.mouseoutHandler(i)),r.mouseOverelement=n,0==n.isMouseOver?(i.target=n,n.mouseoverHandler(i),r.dispatchEvent("mouseover",i)):(i.target=n,n.mousemoveHandler(i),r.dispatchEvent("mousemove",i))):r.mouseOverelement?(i.target=n,r.mouseOverelement.mouseoutHandler(i),r.mouseOverelement=null,r.dispatchEvent("mouseout",i)):(i.target=null,r.dispatchEvent("mousemove",i))},this.mouseoverHandler=function(t){var e=this.toSceneEvent(t);this.dispatchEvent("mouseover",e)},this.mouseoutHandler=function(t){var e=this.toSceneEvent(t);this.dispatchEvent("mouseout",e)},this.clickHandler=function(t){var e=this.toSceneEvent(t);this.currentElement&&(e.target=this.currentElement,this.currentElement.clickHandler(e)),this.dispatchEvent("click",e)},this.dbclickHandler=function(t){var e=this.toSceneEvent(t);this.currentElement?(e.target=this.currentElement,this.currentElement.dbclickHandler(e)):r.cancleAllSelected(),this.dispatchEvent("dbclick",e)},this.mousewheelHandler=function(t){var e=this.toSceneEvent(t);this.dispatchEvent("mousewheel",e)},this.touchstart=this.mousedownHander,this.touchmove=this.mousedragHandler,this.touchend=this.mousedownHander,this.keydownHandler=function(t){this.dispatchEvent("keydown",t)},this.keyupHandler=function(t){this.dispatchEvent("keyup",t)},this.addEventListener=function(t,e){var i=this,n=function(t){e.call(i,t)};return this.messageBus.subscribe(t,n),this},this.removeEventListener=function(t){this.messageBus.unsubscribe(t)},this.removeAllEventListener=function(){this.messageBus=new t.util.MessageBus},this.dispatchEvent=function(t,e){return this.messageBus.publish(t,e),this};var o=this;return"click,dbclick,mousedown,mouseup,mouseover,mouseout,mousemove,mousedrag,mousewheel,touchstart,touchmove,touchend,keydown,keyup".split(",").forEach(function(t){o[t]=function(e){null!=e?this.addEventListener(t,e):this.dispatchEvent(t)}}),this.zoom=function(t,e){null!=t&&0!=t&&(this.scaleX=t),null!=e&&0!=e&&(this.scaleY=e)},this.zoomOut=function(t){0!=t&&(null==t&&(t=.8),this.scaleX/=t,this.scaleY/=t)},this.zoomIn=function(t){0!=t&&(null==t&&(t=.8),this.scaleX*=t,this.scaleY*=t)},this.getBound=function(){return{left:0,top:0,right:this.stage.canvas.width,bottom:this.stage.canvas.height,width:this.stage.canvas.width,height:this.stage.canvas.height}},this.getElementsBound=function(){return t.util.getElementsBound(this.childs)},this.translateToCenter=function(t){var e=this.getElementsBound(),i=this.stage.canvas.width/2-(e.left+e.right)/2,n=this.stage.canvas.height/2-(e.top+e.bottom)/2;t&&(i=t.canvas.width/2-(e.left+e.right)/2,n=t.canvas.height/2-(e.top+e.bottom)/2),this.translateX=i,this.translateY=n},this.setCenter=function(t,e){var i=t-this.stage.canvas.width/2,n=e-this.stage.canvas.height/2;this.translateX=-i,this.translateY=-n},this.centerAndZoom=function(t,e,i){if(this.translateToCenter(i),null==t||null==e){var n=this.getElementsBound(),r=n.right-n.left,o=n.bottom-n.top,l=this.stage.canvas.width/r,a=this.stage.canvas.height/o;i&&(l=i.canvas.width/r,a=i.canvas.height/o);var s=Math.min(l,a);if(s>1)return;this.zoom(s,s)}this.zoom(t,e)},this.getCenterLocation=function(){return{x:r.stage.canvas.width/2,y:r.stage.canvas.height/2}},this.doLayout=function(t){t&&t(this,this.childs)},this.toJson=function(){var t=this,e="{";this.serializedProperties.length,this.serializedProperties.forEach(function(i){var n=t[i];"background"==i&&(n=t._background.src),"string"==typeof n&&(n='"'+n+'"'),e+='"'+i+'":'+n+","}),e+='"childs":[';var i=this.childs.length;return this.childs.forEach(function(t,n){e+=t.toJson(),i>n+1&&(e+=",")}),e+="]",e+="}"},r}e.prototype=new t.Element;var i={};Object.defineProperties(e.prototype,{background:{get:function(){return this._background},set:function(t){if("string"==typeof t){var e=i[t];null==e&&(e=new Image,e.src=t,e.onload=function(){i[t]=e}),this._background=e}else this._background=t}}}),t.Scene=e}(JTopo),function(t){function e(){this.initialize=function(){e.prototype.initialize.apply(this,arguments),this.elementType="displayElement",this.x=0,this.y=0,this.width=32,this.height=32,this.visible=!0,this.alpha=1,this.rotate=0,this.scaleX=1,this.scaleY=1,this.strokeColor="22,124,255",this.borderColor="22,124,255",this.fillColor="22,124,255",this.shadow=!1,this.shadowBlur=5,this.shadowColor="rgba(0,0,0,0.5)",this.shadowOffsetX=3,this.shadowOffsetY=6,this.transformAble=!1,this.zIndex=0;var t="x,y,width,height,visible,alpha,rotate,scaleX,scaleY,strokeColor,fillColor,shadow,shadowColor,shadowOffsetX,shadowOffsetY,transformAble,zIndex".split(",");this.serializedProperties=this.serializedProperties.concat(t)},this.initialize(),this.paint=function(t){t.beginPath(),t.fillStyle="rgba("+this.fillColor+","+this.alpha+")",t.rect(-this.width/2,-this.height/2,this.width,this.height),t.fill(),t.stroke(),t.closePath()},this.getLocation=function(){return{x:this.x,y:this.y}},this.setLocation=function(t,e){return this.x=t,this.y=e,this},this.getCenterLocation=function(){return{x:this.x+this.width/2,y:this.y+this.height/2}},this.setCenterLocation=function(t,e){return this.x=t-this.width/2,this.y=e-this.height/2,this},this.getSize=function(){return{width:this.width,height:this.heith}},this.setSize=function(t,e){return this.width=t,this.height=e,this},this.getBound=function(){return{left:this.x,top:this.y,right:this.x+this.width,bottom:this.y+this.height,width:this.width,height:this.height}},this.setBound=function(t,e,i,n){return this.setLocation(t,e),this.setSize(i,n),this},this.getDisplayBound=function(){return{left:this.x,top:this.y,right:this.x+this.width*this.scaleX,bottom:this.y+this.height*this.scaleY}},this.getDisplaySize=function(){return{width:this.width*this.scaleX,height:this.height*this.scaleY}},this.getPosition=function(t){var e,i=this.getBound();return"Top_Left"==t?e={x:i.left,y:i.top}:"Top_Center"==t?e={x:this.cx,y:i.top}:"Top_Right"==t?e={x:i.right,y:i.top}:"Middle_Left"==t?e={x:i.left,y:this.cy}:"Middle_Center"==t?e={x:this.cx,y:this.cy}:"Middle_Right"==t?e={x:i.right,y:this.cy}:"Bottom_Left"==t?e={x:i.left,y:i.bottom}:"Bottom_Center"==t?e={x:this.cx,y:i.bottom}:"Bottom_Right"==t&&(e={x:i.right,y:i.bottom}),e}}function i(){this.initialize=function(){i.prototype.initialize.apply(this,arguments),this.elementType="interactiveElement",this.dragable=!1,this.selected=!1,this.showSelected=!0,this.selectedLocation=null,this.isMouseOver=!1;var t="dragable,selected,showSelected,isMouseOver".split(",");this.serializedProperties=this.serializedProperties.concat(t)},this.initialize(),this.paintSelected=function(t){0!=this.showSelected&&(t.save(),t.beginPath(),t.strokeStyle="rgba(168,202,255, 0.9)",t.fillStyle="rgba(168,202,236,0.7)",t.rect(-this.width/2-3,-this.height/2-3,this.width+6,this.height+6),t.fill(),t.stroke(),t.closePath(),t.restore())},this.paintMouseover=function(t){return this.paintSelected(t)},this.isInBound=function(t,e){return t>this.x&&t<this.x+this.width*Math.abs(this.scaleX)&&e>this.y&&e<this.y+this.height*Math.abs(this.scaleY)},this.selectedHandler=function(){this.selected=!0,this.selectedLocation={x:this.x,y:this.y}},this.unselectedHandler=function(){this.selected=!1,this.selectedLocation=null},this.dbclickHandler=function(t){this.dispatchEvent("dbclick",t)},this.clickHandler=function(t){this.dispatchEvent("click",t)},this.mousedownHander=function(t){this.dispatchEvent("mousedown",t)},this.mouseupHandler=function(t){this.dispatchEvent("mouseup",t)},this.mouseoverHandler=function(t){this.isMouseOver=!0,this.dispatchEvent("mouseover",t)},this.mousemoveHandler=function(t){this.dispatchEvent("mousemove",t)},this.mouseoutHandler=function(t){this.isMouseOver=!1,this.dispatchEvent("mouseout",t)},this.mousedragHandler=function(t){var e=this.selectedLocation.x+t.dx,i=this.selectedLocation.y+t.dy;this.setLocation(e,i),this.dispatchEvent("mousedrag",t)},this.addEventListener=function(e,i){var n=this,r=function(t){i.call(n,t)};return this.messageBus||(this.messageBus=new t.util.MessageBus),this.messageBus.subscribe(e,r),this},this.dispatchEvent=function(t,e){return this.messageBus?(this.messageBus.publish(t,e),this):null},this.removeEventListener=function(t){this.messageBus.unsubscribe(t)},this.removeAllEventListener=function(){this.messageBus=new t.util.MessageBus};var e=this;"click,dbclick,mousedown,mouseup,mouseover,mouseout,mousemove,mousedrag,touchstart,touchmove,touchend".split(",").forEach(function(t){e[t]=function(e){null!=e?this.addEventListener(t,e):this.dispatchEvent(t)}})}function n(){this.initialize=function(){n.prototype.initialize.apply(this,arguments),this.editAble=!1,this.selectedPoint=null},this.getCtrlPosition=function(t){var e=this.getPosition(t);return{left:e.x-5,top:e.y-5,right:e.x+5,bottom:e.y+5}},this.selectedHandler=function(e){n.prototype.selectedHandler.apply(this,arguments),this.selectedSize={width:this.width,height:this.height},e.scene.mode==t.SceneMode.edit&&(this.editAble=!0)},this.unselectedHandler=function(){n.prototype.unselectedHandler.apply(this,arguments),this.selectedSize=null,this.editAble=!1};var e=["Top_Left","Top_Center","Top_Right","Middle_Left","Middle_Right","Bottom_Left","Bottom_Center","Bottom_Right"];this.paintCtrl=function(t){if(0!=this.editAble){t.save();for(var i=0;i<e.length;i++){var n=this.getCtrlPosition(e[i]);n.left-=this.cx,n.right-=this.cx,n.top-=this.cy,n.bottom-=this.cy;var r=n.right-n.left,o=n.bottom-n.top;t.beginPath(),t.strokeStyle="rgba(0,0,0,0.8)",t.rect(n.left,n.top,r,o),t.stroke(),t.closePath(),t.beginPath(),t.strokeStyle="rgba(255,255,255,0.3)",t.rect(n.left+1,n.top+1,r-2,o-2),t.stroke(),t.closePath()}t.restore()}},this.isInBound=function(t,i){if(this.selectedPoint=null,1==this.editAble)for(var r=0;r<e.length;r++){var o=this.getCtrlPosition(e[r]);if(t>o.left&&t<o.right&&i>o.top&&i<o.bottom)return this.selectedPoint=e[r],!0}return n.prototype.isInBound.apply(this,arguments)},this.mousedragHandler=function(t){if(null==this.selectedPoint){var e=this.selectedLocation.x+t.dx,i=this.selectedLocation.y+t.dy;this.setLocation(e,i),this.dispatchEvent("mousedrag",t)}else{if("Top_Left"==this.selectedPoint){var n=this.selectedSize.width-t.dx,r=this.selectedSize.height-t.dy,e=this.selectedLocation.x+t.dx,i=this.selectedLocation.y+t.dy;e<this.x+this.width&&(this.x=e,this.width=n),i<this.y+this.height&&(this.y=i,this.height=r)}else if("Top_Center"==this.selectedPoint){var r=this.selectedSize.height-t.dy,i=this.selectedLocation.y+t.dy;i<this.y+this.height&&(this.y=i,this.height=r)}else if("Top_Right"==this.selectedPoint){var n=this.selectedSize.width+t.dx,i=this.selectedLocation.y+t.dy;i<this.y+this.height&&(this.y=i,this.height=this.selectedSize.height-t.dy),n>1&&(this.width=n)}else if("Middle_Left"==this.selectedPoint){var n=this.selectedSize.width-t.dx,e=this.selectedLocation.x+t.dx;e<this.x+this.width&&(this.x=e),n>1&&(this.width=n)}else if("Middle_Right"==this.selectedPoint){var n=this.selectedSize.width+t.dx;n>1&&(this.width=n)}else if("Bottom_Left"==this.selectedPoint){var n=this.selectedSize.width-t.dx,e=this.selectedLocation.x+t.dx;n>1&&(this.x=e,this.width=n);var r=this.selectedSize.height+t.dy;r>1&&(this.height=r)}else if("Bottom_Center"==this.selectedPoint){var r=this.selectedSize.height+t.dy;r>1&&(this.height=r)}else if("Bottom_Right"==this.selectedPoint){var n=this.selectedSize.width+t.dx;n>1&&(this.width=n);var r=this.selectedSize.height+t.dy;r>1&&(this.height=r)}this.dispatchEvent("resize",t)}}}e.prototype=new t.Element,Object.defineProperties(e.prototype,{cx:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},cy:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),i.prototype=new e,n.prototype=new i,t.DisplayElement=e,t.InteractiveElement=i,t.EditableElement=n}(JTopo),function(t){function e(i){this.initialize=function(i){e.prototype.initialize.apply(this,arguments),this.elementType="node",this.zIndex=t.zIndex_Node,this.text=i,this.font="12px Consolas",this.fontColor="255,255,255",this.borderWidth=0,this.borderColor="255,255,255",this.borderRadius=null,this.dragable=!0,this.textPosition="Bottom_Center",this.textOffsetX=0,this.textOffsetY=0,this.transformAble=!0,this.inLinks=null,this.outLinks=null;var n="text,font,fontColor,textPosition,textOffsetX,textOffsetY,borderRadius".split(",");this.serializedProperties=this.serializedProperties.concat(n)},this.initialize(i),this.paint=function(t){if(this.image){var e=t.globalAlpha;t.globalAlpha=this.alpha,null!=this.image.alarm&&null!=this.alarm?t.drawImage(this.image.alarm,-this.width/2,-this.height/2,this.width,this.height):t.drawImage(this.image,-this.width/2,-this.height/2,this.width,this.height),t.globalAlpha=e}else t.beginPath(),t.fillStyle="rgba("+this.fillColor+","+this.alpha+")",null==this.borderRadius||0==this.borderRadius?t.rect(-this.width/2,-this.height/2,this.width,this.height):t.JTopoRoundRect(-this.width/2,-this.height/2,this.width,this.height,this.borderRadius),t.fill(),t.closePath();this.paintText(t),this.paintBorder(t),this.paintCtrl(t),this.paintAlarmText(t)},this.paintAlarmText=function(t){if(null!=this.alarm&&""!=this.alarm){var e=this.alarmColor||"255,0,0",i=this.alarmAlpha||.5;t.beginPath(),t.font=this.alarmFont||"10px 微软雅黑";var n=t.measureText(this.alarm).width+6,r=t.measureText("�?").width+6,o=this.width/2-n/2,l=-this.height/2-r-8;t.strokeStyle="rgba("+e+", "+i+")",t.fillStyle="rgba("+e+", "+i+")",t.lineCap="round",t.lineWidth=1,t.moveTo(o,l),t.lineTo(o+n,l),t.lineTo(o+n,l+r),t.lineTo(o+n/2+6,l+r),t.lineTo(o+n/2,l+r+8),t.lineTo(o+n/2-6,l+r),t.lineTo(o,l+r),t.lineTo(o,l),t.fill(),t.stroke(),t.closePath(),t.beginPath(),t.strokeStyle="rgba("+this.fontColor+", "+this.alpha+")",t.fillStyle="rgba("+this.fontColor+", "+this.alpha+")",t.fillText(this.alarm,o+2,l+r-4),t.closePath()}},this.paintText=function(t){var e=this.text;if(null!=e&&""!=e){t.beginPath(),t.font=this.font;var i=t.measureText(e).width,n=t.measureText("�?").width;t.fillStyle="rgba("+this.fontColor+", "+this.alpha+")";var r=this.getTextPostion(this.textPosition,i,n);t.fillText(e,r.x,r.y),t.closePath()}},this.paintBorder=function(t){if(0!=this.borderWidth){t.beginPath(),t.lineWidth=this.borderWidth,t.strokeStyle="rgba("+this.borderColor+","+this.alpha+")";var e=this.borderWidth/2;null==this.borderRadius||0==this.borderRadius?t.rect(-this.width/2-e,-this.height/2-e,this.width+this.borderWidth,this.height+this.borderWidth):t.JTopoRoundRect(-this.width/2-e,-this.height/2-e,this.width+this.borderWidth,this.height+this.borderWidth,this.borderRadius),t.stroke(),t.closePath()}},this.getTextPostion=function(t,e,i){var n=null;return null==t||"Bottom_Center"==t?n={x:-this.width/2+(this.width-e)/2,y:this.height/2+i}:"Top_Center"==t?n={x:-this.width/2+(this.width-e)/2,y:-this.height/2-i/2}:"Top_Right"==t?n={x:this.width/2,y:-this.height/2-i/2}:"Top_Left"==t?n={x:-this.width/2-e,y:-this.height/2-i/2}:"Bottom_Right"==t?n={x:this.width/2,y:this.height/2+i}:"Bottom_Left"==t?n={x:-this.width/2-e,y:this.height/2+i}:"Middle_Center"==t?n={x:-this.width/2+(this.width-e)/2,y:i/2}:"Middle_Right"==t?n={x:this.width/2,y:i/2}:"Middle_Left"==t&&(n={x:-this.width/2-e,y:i/2}),null!=this.textOffsetX&&(n.x+=this.textOffsetX),null!=this.textOffsetY&&(n.y+=this.textOffsetY),n},this.setImage=function(e,i){if(null==e)throw new Error("Node.setImage(): 参数Image对象为空!");var n=this;if("string"==typeof e){var r=u[e];null==r?(r=new Image,r.src=e,r.onload=function(){u[e]=r,1==i&&n.setSize(r.width,r.height);var o=t.util.genImageAlarm(r);o&&(r.alarm=o),n.image=r}):(i&&this.setSize(r.width,r.height),this.image=r)}else this.image=e,1==i&&this.setSize(e.width,e.height)},this.removeHandler=function(t){var e=this;this.outLinks&&(this.outLinks.forEach(function(i){i.nodeA===e&&t.remove(i)}),this.outLinks=null),this.inLinks&&(this.inLinks.forEach(function(i){i.nodeZ===e&&t.remove(i)}),this.inLinks=null)}}function i(){i.prototype.initialize.apply(this,arguments)}function n(t){this.initialize(),this.text=t,this.elementType="TextNode",this.paint=function(t){t.beginPath(),t.font=this.font,this.width=t.measureText(this.text).width,this.height=t.measureText("�?").width,t.strokeStyle="rgba("+this.fontColor+", "+this.alpha+")",t.fillStyle="rgba("+this.fontColor+", "+this.alpha+")",t.fillText(this.text,-this.width/2,this.height/2),t.closePath(),this.paintBorder(t),this.paintCtrl(t),this.paintAlarmText(t)}}function r(t,e,i){this.initialize(),this.text=t,this.href=e,this.target=i,this.elementType="LinkNode",this.isVisited=!1,this.visitedColor=null,this.paint=function(t){t.beginPath(),t.font=this.font,this.width=t.measureText(this.text).width,this.height=t.measureText("�?").width,this.isVisited&&null!=this.visitedColor?(t.strokeStyle="rgba("+this.visitedColor+", "+this.alpha+")",t.fillStyle="rgba("+this.visitedColor+", "+this.alpha+")"):(t.strokeStyle="rgba("+this.fontColor+", "+this.alpha+")",t.fillStyle="rgba("+this.fontColor+", "+this.alpha+")"),t.fillText(this.text,-this.width/2,this.height/2),this.isMouseOver&&(t.moveTo(-this.width/2,this.height),t.lineTo(this.width/2,this.height),t.stroke()),t.closePath(),this.paintBorder(t),this.paintCtrl(t),this.paintAlarmText(t)},this.mousemove(function(){var t=document.getElementsByTagName("canvas");if(t&&t.length>0)for(var e=0;e<t.length;e++)t[e].style.cursor="pointer"}),this.mouseout(function(){var t=document.getElementsByTagName("canvas");if(t&&t.length>0)for(var e=0;e<t.length;e++)t[e].style.cursor="default"}),this.click(function(){"_blank"==this.target?window.open(this.href):location=this.href,this.isVisited=!0})}function o(t){this.initialize(arguments),this._radius=20,this.beginDegree=0,this.endDegree=2*Math.PI,this.text=t,this.paint=function(t){t.save(),t.beginPath(),t.fillStyle="rgba("+this.fillColor+","+this.alpha+")",t.arc(0,0,this.radius,this.beginDegree,this.endDegree,!0),t.fill(),t.closePath(),t.restore(),this.paintText(t),this.paintBorder(t),this.paintCtrl(t),this.paintAlarmText(t)},this.paintSelected=function(t){t.save(),t.beginPath(),t.strokeStyle="rgba(168,202,255, 0.9)",t.fillStyle="rgba(168,202,236,0.7)",t.arc(0,0,this.radius+3,this.beginDegree,this.endDegree,!0),t.fill(),t.stroke(),t.closePath(),t.restore()}}function l(t,e,i){this.initialize(),this.frameImages=t||[],this.frameIndex=0,this.isStop=!0;var n=e||1e3;this.repeatPlay=!1;var r=this;this.nextFrame=function(){if(!this.isStop&&null!=this.frameImages.length){if(++this.frameIndex>=this.frameImages.length){if(!this.repeatPlay)return;this.frameIndex=0}this.setImage(this.frameImages[this.frameIndex],i),setTimeout(function(){r.nextFrame()},n/t.length)}}}function a(t,e,i,n,r){this.initialize();var o=this;this.setImage(t),this.frameIndex=0,this.isPause=!0,this.repeatPlay=!1;var l=n||1e3;r=r||0,this.paint=function(t){if(this.image){var e=this.width,n=this.height;t.save(),t.beginPath(),t.fillStyle="rgba("+this.fillColor+","+this.alpha+")";var o=(Math.floor(this.frameIndex/i)+r)*n,l=Math.floor(this.frameIndex%i)*e;t.drawImage(this.image,l,o,e,n,-e/2,-n/2,e,n),t.fill(),t.closePath(),t.restore(),this.paintText(t),this.paintBorder(t),this.paintCtrl(t),this.paintAlarmText(t)}},this.nextFrame=function(){if(!this.isStop){if(++this.frameIndex>=e*i){if(!this.repeatPlay)return;this.frameIndex=0}setTimeout(function(){o.isStop||o.nextFrame()},l/(e*i))}}}function s(){var t=null;return t=arguments.length<=3?new l(arguments[0],arguments[1],arguments[2]):new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),t.stop=function(){t.isStop=!0},t.play=function(){t.isStop=!1,t.frameIndex=0,t.nextFrame()},t}var u={};e.prototype=new t.EditableElement,i.prototype=new e,n.prototype=new i,r.prototype=new n,o.prototype=new i,Object.defineProperties(o.prototype,{radius:{get:function(){return this._radius},set:function(t){this._radius=t;var e=2*this.radius,i=2*this.radius;this.width=e,this.height=i}},width:{get:function(){return this._width},set:function(t){this._radius=t/2,this._width=t}},height:{get:function(){return this._height},set:function(t){this._radius=t/2,this._height=t}}}),l.prototype=new i,a.prototype=new i,s.prototype=new i,t.Node=i,t.TextNode=n,t.LinkNode=r,t.CircleNode=o,t.AnimateNode=s}(JTopo),function(t){function e(t,e){var i=[];if(null==t||null==e)return i;if(t&&e&&t.outLinks&&e.inLinks)for(var n=0;n<t.outLinks.length;n++)for(var r=t.outLinks[n],o=0;o<e.inLinks.length;o++){var l=e.inLinks[o];r===l&&i.push(l)}return i}function i(t,i){var n=e(t,i),r=e(i,t);return n.concat(r)}function n(t){var e=i(t.nodeA,t.nodeZ);return e=e.filter(function(e){return t!==e})}function r(t,e){return i(t,e).length}function o(e,i,l){function a(e,i){var n=t.util.lineF(e.cx,e.cy,i.cx,i.cy),r=e.getBound();return t.util.intersectionLineBound(n,r)}this.initialize=function(e,i,n){if(o.prototype.initialize.apply(this,arguments),this.elementType="link",this.zIndex=t.zIndex_Link,0!=arguments.length){this.text=n,this.nodeA=e,this.nodeZ=i,this.nodeA&&null==this.nodeA.outLinks&&(this.nodeA.outLinks=[]),this.nodeA&&null==this.nodeA.inLinks&&(this.nodeA.inLinks=[]),this.nodeZ&&null==this.nodeZ.inLinks&&(this.nodeZ.inLinks=[]),this.nodeZ&&null==this.nodeZ.outLinks&&(this.nodeZ.outLinks=[]),null!=this.nodeA&&this.nodeA.outLinks.push(this),null!=this.nodeZ&&this.nodeZ.inLinks.push(this),this.caculateIndex(),this.font="12px Consolas",this.fontColor="255,255,255",this.lineWidth=2,this.lineJoin="miter",this.transformAble=!1,this.bundleOffset=20,this.bundleGap=12,this.textOffsetX=0,this.textOffsetY=0,this.arrowsRadius=null,this.arrowsOffset=0,this.dashedPattern=null,this.path=[];var r="text,font,fontColor,lineWidth,lineJoin".split(",");this.serializedProperties=this.serializedProperties.concat(r)}},this.caculateIndex=function(){var t=r(this.nodeA,this.nodeZ);t>0&&(this.nodeIndex=t-1)},this.initialize(e,i,l),this.removeHandler=function(){var t=this;this.nodeA&&this.nodeA.outLinks&&(this.nodeA.outLinks=this.nodeA.outLinks.filter(function(e){return e!==t})),this.nodeZ&&this.nodeZ.inLinks&&(this.nodeZ.inLinks=this.nodeZ.inLinks.filter(function(e){return e!==t})),n(this).forEach(function(t,e){t.nodeIndex=e})},this.getStartPosition=function(){return{x:this.nodeA.cx,y:this.nodeA.cy}},this.getEndPosition=function(){var t;return null!=this.arrowsRadius&&(t=a(this.nodeZ,this.nodeA)),null==t&&(t={x:this.nodeZ.cx,y:this.nodeZ.cy}),t},this.getPath=function(){var t=[],e=this.getStartPosition(),i=this.getEndPosition();if(this.nodeA===this.nodeZ)return[e,i];var n=r(this.nodeA,this.nodeZ);if(1==n)return[e,i];var o=Math.atan2(i.y-e.y,i.x-e.x),l={x:e.x+this.bundleOffset*Math.cos(o),y:e.y+this.bundleOffset*Math.sin(o)},a={x:i.x+this.bundleOffset*Math.cos(o-Math.PI),y:i.y+this.bundleOffset*Math.sin(o-Math.PI)},s=o-Math.PI/2,u=o-Math.PI/2,c=n*this.bundleGap/2-this.bundleGap/2,f=this.bundleGap*this.nodeIndex,d={x:l.x+f*Math.cos(s),y:l.y+f*Math.sin(s)},h={x:a.x+f*Math.cos(u),y:a.y+f*Math.sin(u)};return d={x:d.x+c*Math.cos(s-Math.PI),y:d.y+c*Math.sin(s-Math.PI)},h={x:h.x+c*Math.cos(u-Math.PI),y:h.y+c*Math.sin(u-Math.PI)},t.push({x:e.x,y:e.y}),t.push({x:d.x,y:d.y}),t.push({x:h.x,y:h.y}),t.push({x:i.x,y:i.y}),t},this.paintPath=function(t,e){if(this.nodeA===this.nodeZ)return void this.paintLoop(t);t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++)null==this.dashedPattern?t.lineTo(e[i].x,e[i].y):t.JTopoDashedLineTo(e[i-1].x,e[i-1].y,e[i].x,e[i].y,this.dashedPattern);if(t.stroke(),t.closePath(),null!=this.arrowsRadius){var n=e[e.length-2],r=e[e.length-1];this.paintArrow(t,n,r)}},this.paintLoop=function(t){t.beginPath();var e=this.bundleGap*(this.nodeIndex+1)/2;Math.PI,Math.PI,t.arc(this.nodeA.x,this.nodeA.y,e,Math.PI/2,2*Math.PI),t.stroke(),t.closePath()},this.paintArrow=function(e,i,n){var r=this.arrowsOffset,o=this.arrowsRadius/2,l=i,a=n,s=Math.atan2(a.y-l.y,a.x-l.x),u=t.util.getDistance(l,a)-this.arrowsRadius,c=l.x+(u+r)*Math.cos(s),f=l.y+(u+r)*Math.sin(s),d=a.x+r*Math.cos(s),h=a.y+r*Math.sin(s);s-=Math.PI/2;var p={x:c+o*Math.cos(s),y:f+o*Math.sin(s)},m={x:c+o*Math.cos(s-Math.PI),y:f+o*Math.sin(s-Math.PI)};e.beginPath(),e.fillStyle="rgba("+this.strokeColor+","+this.alpha+")",e.moveTo(p.x,p.y),e.lineTo(d,h),e.lineTo(m.x,m.y),e.stroke(),e.closePath()},this.paint=function(t){if(null!=this.nodeA&&null!=!this.nodeZ){var e=this.getPath(this.nodeIndex);this.path=e,t.strokeStyle="rgba("+this.strokeColor+","+this.alpha+")",t.lineWidth=this.lineWidth,this.paintPath(t,e),e&&e.length>0&&this.paintText(t,e)}};var s=-(Math.PI/2+Math.PI/4);this.paintText=function(t,e){var i=e[0],n=e[e.length-1];if(4==e.length&&(i=e[1],n=e[2]),this.text&&this.text.length>0){var r=(n.x+i.x)/2+this.textOffsetX,o=(n.y+i.y)/2+this.textOffsetY;t.save(),t.beginPath(),t.font=this.font;var l=t.measureText(this.text).width,a=t.measureText("�?").width;if(t.fillStyle="rgba("+this.fontColor+", "+this.alpha+")",this.nodeA===this.nodeZ){var u=this.bundleGap*(this.nodeIndex+1)/2,r=this.nodeA.x+u*Math.cos(s),o=this.nodeA.y+u*Math.sin(s);t.fillText(this.text,r,o)}else t.fillText(this.text,r-l/2,o-a/2);t.stroke(),t.closePath(),t.restore()}},this.paintSelected=function(t){t.shadowBlur=10,t.shadowColor="rgba(0,0,0,1)",t.shadowOffsetX=0,t.shadowOffsetY=0},this.isInBound=function(e,i){if(this.nodeA===this.nodeZ){var n=this.bundleGap*(this.nodeIndex+1)/2,r=t.util.getDistance(this.nodeA,{x:e,y:i})-n;return Math.abs(r)<=3}for(var o=!1,l=1;l<this.path.length;l++){var a=this.path[l-1],s=this.path[l];if(1==t.util.isPointInLine({x:e,y:i},a,s)){o=!0;break}}return o}}function l(t,e,i){this.initialize=function(){l.prototype.initialize.apply(this,arguments),this.direction="horizontal"},this.initialize(t,e,i),this.getStartPosition=function(){var t={x:this.nodeA.cx,y:this.nodeA.cy};return"horizontal"==this.direction?this.nodeZ.cx>t.x?t.x+=this.nodeA.width/2:t.x-=this.nodeA.width/2:this.nodeZ.cy>t.y?t.y+=this.nodeA.height/2:t.y-=this.nodeA.height/2,t},this.getEndPosition=function(){var t={x:this.nodeZ.cx,y:this.nodeZ.cy};return"horizontal"==this.direction?this.nodeA.cy<t.y?t.y-=this.nodeZ.height/2:t.y+=this.nodeZ.height/2:t.x=this.nodeA.cx<t.x?this.nodeZ.x:this.nodeZ.x+this.nodeZ.width,t},this.getPath=function(t){var e=[],i=this.getStartPosition(),n=this.getEndPosition();if(this.nodeA===this.nodeZ)return[i,n];var o,l,a=r(this.nodeA,this.nodeZ),s=(a-1)*this.bundleGap,u=this.bundleGap*t-s/2;return"horizontal"==this.direction?(o=n.x+u,l=i.y-u,e.push({x:i.x,y:l}),e.push({x:o,y:l}),e.push({x:o,y:n.y})):(o=i.x+u,l=n.y-u,e.push({x:o,y:i.y}),e.push({x:o,y:l}),e.push({x:n.x,y:l})),e},this.paintText=function(t,e){if(this.text&&this.text.length>0){var i=e[1],n=i.x+this.textOffsetX,r=i.y+this.textOffsetY;t.save(),t.beginPath(),t.font=this.font;var o=t.measureText(this.text).width,l=t.measureText("�?").width;t.fillStyle="rgba("+this.fontColor+", "+this.alpha+")",t.fillText(this.text,n-o/2,r-l/2),t.stroke(),t.closePath(),t.restore()}}}function a(t,e,i){this.initialize=function(){a.prototype.initialize.apply(this,arguments),this.direction="vertical",this.offsetGap=44},this.initialize(t,e,i),this.getStartPosition=function(){var t={x:this.nodeA.cx,y:this.nodeA.cy};return"horizontal"==this.direction?t.x=this.nodeZ.cx<t.x?this.nodeA.x:this.nodeA.x+this.nodeA.width:t.y=this.nodeZ.cy<t.y?this.nodeA.y:this.nodeA.y+this.nodeA.height,t},this.getEndPosition=function(){var t={x:this.nodeZ.cx,y:this.nodeZ.cy};return"horizontal"==this.direction?t.x=this.nodeA.cx<t.x?this.nodeZ.x:this.nodeZ.x+this.nodeZ.width:t.y=this.nodeA.cy<t.y?this.nodeZ.y:this.nodeZ.y+this.nodeZ.height,t},this.getPath=function(t){var e=this.getStartPosition(),i=this.getEndPosition();if(this.nodeA===this.nodeZ)return[e,i];var n=[],o=r(this.nodeA,this.nodeZ),l=(o-1)*this.bundleGap,a=this.bundleGap*t-l/2,s=this.offsetGap;return"horizontal"==this.direction?(this.nodeA.cx>this.nodeZ.cx&&(s=-s),n.push({x:e.x,y:e.y+a}),n.push({x:e.x+s,y:e.y+a}),n.push({x:i.x-s,y:i.y+a}),n.push({x:i.x,y:i.y+a})):(this.nodeA.cy>this.nodeZ.cy&&(s=-s),n.push({x:e.x+a,y:e.y}),n.push({x:e.x+a,y:e.y+s}),n.push({x:i.x+a,y:i.y-s}),n.push({x:i.x+a,y:i.y})),n}}function s(t,e,i){this.initialize=function(){s.prototype.initialize.apply(this,arguments)},this.initialize(t,e,i),this.paintPath=function(t,e){if(this.nodeA===this.nodeZ)return void this.paintLoop(t);t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++){var n=e[i-1],r=e[i],o=(n.x+r.x)/2,l=(n.y+r.y)/2;l+=(r.y-n.y)/2,t.strokeStyle="rgba("+this.strokeColor+","+this.alpha+")",t.lineWidth=this.lineWidth,t.moveTo(n.x,n.cy),t.quadraticCurveTo(o,l,r.x,r.y),t.stroke()}if(t.stroke(),t.closePath(),null!=this.arrowsRadius){var a=e[e.length-2],s=e[e.length-1];this.paintArrow(t,a,s)}}}o.prototype=new t.InteractiveElement,l.prototype=new o,a.prototype=new o,s.prototype=new o,t.Link=o,t.FoldLink=l,t.FlexionalLink=a,t.CurveLink=s}(JTopo),function(t){function e(i){this.initialize=function(i){e.prototype.initialize.apply(this,null),this.elementType="container",this.zIndex=t.zIndex_Container,this.width=100,this.height=100,this.childs=[],this.alpha=.5,this.dragable=!0,this.childDragble=!0,this.visible=!0,this.fillColor="10,100,80",this.borderWidth=0,this.borderColor="255,255,255",this.borderRadius=null,this.font="12px Consolas",this.fontColor="255,255,255",this.text=i,this.textPosition="Bottom_Center",this.textOffsetX=0,this.textOffsetY=0,this.layout=new t.layout.AutoBoundLayout},this.initialize(i),this.add=function(t){this.childs.push(t),t.dragable=this.childDragble},this.remove=function(t){for(var e=0;e<this.childs.length;e++)if(this.childs[e]===t){t.parentContainer=null,this.childs=this.childs.del(e),t.lastParentContainer=this;break}},this.removeAll=function(){this.childs=[]},this.setLocation=function(t,e){var i=t-this.x,n=e-this.y;this.x=t,this.y=e;for(var r=0;r<this.childs.length;r++){var o=this.childs[r];o.setLocation(o.x+i,o.y+n)}},this.doLayout=function(t){t&&t(this,this.childs)},this.paint=function(t){this.visible&&(this.layout&&this.layout(this,this.childs),t.beginPath(),t.fillStyle="rgba("+this.fillColor+","+this.alpha+")",null==this.borderRadius||0==this.borderRadius?t.rect(this.x,this.y,this.width,this.height):t.JTopoRoundRect(this.x,this.y,this.width,this.height,this.borderRadius),t.fill(),t.closePath(),this.paintText(t),this.paintBorder(t))},this.paintBorder=function(t){if(0!=this.borderWidth){t.beginPath(),t.lineWidth=this.borderWidth,t.strokeStyle="rgba("+this.borderColor+","+this.alpha+")";var e=this.borderWidth/2;null==this.borderRadius||0==this.borderRadius?t.rect(this.x-e,this.y-e,this.width+this.borderWidth,this.height+this.borderWidth):t.JTopoRoundRect(this.x-e,this.y-e,this.width+this.borderWidth,this.height+this.borderWidth,this.borderRadius),t.stroke(),t.closePath()}},this.paintText=function(t){var e=this.text;if(null!=e&&""!=e){t.beginPath(),t.font=this.font;var i=t.measureText(e).width,n=t.measureText("�?").width;t.fillStyle="rgba("+this.fontColor+", "+this.alpha+")";var r=this.getTextPostion(this.textPosition,i,n);t.fillText(e,r.x,r.y),t.closePath()}},this.getTextPostion=function(t,e,i){var n=null;return null==t||"Bottom_Center"==t?n={x:this.x+this.width/2-e/2,y:this.y+this.height+i}:"Top_Center"==t?n={x:this.x+this.width/2-e/2,y:this.y-i/2}:"Top_Right"==t?n={x:this.x+this.width-e,y:this.y-i/2}:"Top_Left"==t?n={x:this.x,y:this.y-i/2}:"Bottom_Right"==t?n={x:this.x+this.width-e,y:this.y+this.height+i}:"Bottom_Left"==t?n={x:this.x,y:this.y+this.height+i}:"Middle_Center"==t?n={x:this.x+this.width/2-e/2,y:this.y+this.height/2+i/2}:"Middle_Right"==t?n={x:this.x+this.width-e,y:this.y+this.height/2+i/2}:"Middle_Left"==t&&(n={x:this.x,y:this.y+this.height/2+i/2}),null!=this.textOffsetX&&(n.x+=this.textOffsetX),null!=this.textOffsetY&&(n.y+=this.textOffsetY),n},this.paintMouseover=function(){},this.paintSelected=function(t){t.shadowBlur=10,t.shadowColor="rgba(0,0,0,1)",t.shadowOffsetX=0,t.shadowOffsetY=0}}e.prototype=new t.InteractiveElement,t.Container=e}(JTopo),function(t){function e(t){var e=0,i=0;return t.forEach(function(t){e+=t.cx,i+=t.cy}),{x:e/t.length,y:i/t.length}}function i(i,n){null==n&&(n={});var r=n.cx,o=n.cy,l=n.minRadius,a=n.nodeDiameter,s=n.hScale||1,u=n.vScale||1;if(n.beginAngle,n.endAngle||Math.PI,null==r||null==o){var c=e(i);r=c.x,o=c.y}var f=0,d=[],h=[];i.forEach(function(t){null==n.nodeDiameter?(t.diameter&&(a=t.diameter),a=t.radius?2*t.radius:Math.sqrt(2*t.width*t.height),h.push(a)):h.push(a),f+=a}),i.forEach(function(t,e){var i=h[e]/f;d.push(Math.PI*i)});var p=(i.length,d[0]+d[1]),m=h[0]/2+h[1]/2,g=m/2/Math.sin(p/2);null!=l&&l>g&&(g=l);var v=g*s,b=g*u,y=n.animate;if(y){var x=y.time||1e3,w=0;i.forEach(function(e,i){w+=0==i?d[i]:d[i-1]+d[i];var n=r+Math.cos(w)*v,l=o+Math.sin(w)*b;t.Animate.stepByStep(e,{x:n-e.width/2,y:l-e.height/2},x).start()})}else{var w=0;i.forEach(function(t,e){w+=0==e?d[e]:d[e-1]+d[e];var i=r+Math.cos(w)*v,n=o+Math.sin(w)*b;t.cx=i,t.cy=n})}return{cx:r,cy:o,radius:v,radiusA:v,radiusB:b}}function n(t,e){return function(i){var n=i.childs;if(!(n.length<=0))for(var r=i.getBound(),o=n[0],l=(r.width-o.width)/e,a=(r.height-o.height)/t,s=(n.length,0),u=0;t>u;u++)for(var c=0;e>c;c++){var f=n[s++],d=r.left+l/2+c*l,h=r.top+a/2+u*a;if(f.setLocation(d,h),s>=n.length)return}}}function r(t,e){return null==t&&(t=0),null==e&&(e=0),function(i){var n=i.childs;if(!(n.length<=0))for(var r=i.getBound(),o=r.left,l=r.top,a=0;a<n.length;a++){var s=n[a];o+s.width>=r.right&&(o=r.left,l+=e+s.height),s.setLocation(o,l),o+=t+s.width}}}function o(){return function(t,e){if(e.length>0){for(var i=1e7,n=-1e7,r=1e7,o=-1e7,l=n-i,a=o-r,s=0;s<e.length;s++){var u=e[s];u.x<=i&&(i=u.x),u.x>=n&&(n=u.x),u.y<=r&&(r=u.y),u.y>=o&&(o=u.y),l=n-i+u.width,a=o-r+u.height}t.x=i,t.y=r,t.width=l,t.height=a}}}function l(e){var i=[],n=e.filter(function(e){return e instanceof t.Link||(i.push(e),!1)});return e=i.filter(function(t){for(var e=0;e<n.length;e++)if(n[e].nodeZ===t)return!1;return!0}),e=e.filter(function(t){for(var e=0;e<n.length;e++)if(n[e].nodeA===t)return!0;return!1})}function a(t){var e=0,i=0;return t.forEach(function(t){e+=t.width,i+=t.height}),{width:e/t.length,height:i/t.length}}function s(t,e,i,n){e.x+=i,e.y+=n;for(var r=g(t,e),o=0;o<r.length;o++)s(t,r[o],i,n)}function u(t,e){function i(e,r){var o=g(t,e);null==n[r]&&(n[r]={},n[r].nodes=[],n[r].childs=[]),n[r].nodes.push(e),n[r].childs.push(o);for(var l=0;l<o.length;l++)i(o[l],r+1),o[l].parent=e}var n=[];return i(e,0),n}function c(e,i,n){return function(r){var o=null;null==i&&(o=a(r.childs),i=o.width,("left"==e||"right"==e)&&(i=o.width+10)),null==n&&(null==o&&(o=a(r.childs)),n=2*o.height),null==e&&(e="down");var l=t.layout.getRootNodes(r.childs);if(l.length>0){!function(o,l){for(var a=t.layout.getTreeDeep(o,l),c=u(o,l),f=c[""+a].nodes,d=0;d<f.length;d++){var h=f[d],p=(d+1)*(i+10),m=a*n;"down"==e||("up"==e?m=-m:"left"==e?(p=-a*n,m=(d+1)*(i+10)):"right"==e&&(p=a*n,m=(d+1)*(i+10))),h.setLocation(p,m)}for(var g=a-1;g>=0;g--)for(var v=c[""+g].nodes,b=c[""+g].childs,d=0;d<v.length;d++){var y=v[d],x=b[d];if("down"==e?y.y=g*n:"up"==e?y.y=-g*n:"left"==e?y.x=-g*n:"right"==e&&(y.x=g*n),x.length>0?"down"==e||"up"==e?y.x=(x[0].x+x[x.length-1].x)/2:("left"==e||"right"==e)&&(y.y=(x[0].y+x[x.length-1].y)/2):d>0&&("down"==e||"up"==e?y.x=v[d-1].x+v[d-1].width+i:("left"==e||"right"==e)&&(y.y=v[d-1].y+v[d-1].height+i)),d>0)if("down"==e||"up"==e){if(y.x<v[d-1].x+v[d-1].width)for(var w=v[d-1].x+v[d-1].width+i,k=Math.abs(w-y.x),_=d;_<v.length;_++)s(r.childs,v[_],k,0)}else if(("left"==e||"right"==e)&&y.y<v[d-1].y+v[d-1].height)for(var q=v[d-1].y+v[d-1].height+i,C=Math.abs(q-y.y),_=d;_<v.length;_++)s(r.childs,v[_],0,C)}}(r.childs,l[0]);var c=t.util.getElementsBound(r.childs),f=r.getCenterLocation(),d=f.x-(c.left+c.right)/2,h=f.y-(c.top+c.bottom)/2;r.childs.forEach(function(e){e instanceof t.Node&&(e.x+=d,e.y+=h)})}}}function f(e){return function(i){function n(t,i,r){var o=g(t,i);if(0!=o.length){null==r&&(r=e);var l=2*Math.PI/o.length;o.forEach(function(e,o){var a=i.x+r*Math.cos(l*o),s=i.y+r*Math.sin(l*o);e.setLocation(a,s),n(t,e,r/2)})}}var r=t.layout.getRootNodes(i.childs);if(r.length>0){n(i.childs,r[0]);var o=t.util.getElementsBound(i.childs),l=i.getCenterLocation(),a=l.x-(o.left+o.right)/2,s=l.y-(o.top+o.bottom)/2;i.childs.forEach(function(e){e instanceof t.Node&&(e.x+=a,e.y+=s)})}}}function d(t,e,i,n,r,o){for(var l=[],a=0;i>a;a++)for(var s=0;n>s;s++)l.push({x:t+s*r,y:e+a*o});return l}function h(t,e,i,n,r,o){var l=r||0,a=o||2*Math.PI,s=a-l,u=s/i,c=[];l+=u/2;for(var f=l;a>=f;f+=u){var d=t+Math.cos(f)*n,h=e+Math.sin(f)*n;c.push({x:d,y:h})}return c}function p(t,e,i,n,r,o){var l=o||"bottom",a=[];if("bottom"==l)for(var s=t-i/2*n+n/2,u=0;i>=u;u++)a.push({x:s+u*n,y:e+r});else if("top"==l)for(var s=t-i/2*n+n/2,u=0;i>=u;u++)a.push({x:s+u*n,y:e-r});else if("right"==l)for(var s=e-i/2*n+n/2,u=0;i>=u;u++)a.push({x:t+r,y:s+u*n});else if("left"==l)for(var s=e-i/2*n+n/2,u=0;i>=u;u++)a.push({x:t-r,y:s+u*n});return a}function d(t,e,i,n,r,o){for(var l=[],a=0;i>a;a++)for(var s=0;n>s;s++)l.push({x:t+s*r,y:e+a*o});return l}function m(t,e){if(t.layout){var i=t.layout,n=i.type,r=null;if("circle"==n){var o=i.radius||Math.max(t.width,t.height);r=h(t.cx,t.cy,e.length,o,t.layout.beginAngle,t.layout.endAngle)}else if("tree"==n){var l=i.width||50,a=i.height||50,s=i.direction;r=p(t.cx,t.cy,e.length,l,a,s)}else{if("grid"!=n)return;r=d(t.x,t.y,i.rows,i.cols,i.horizontal||0,i.vertical||0)}for(var u=0;u<e.length;u++)e[u].setCenterLocation(r[u].x,r[u].y)}}function g(e,i){for(var n=[],r=0;r<e.length;r++)e[r]instanceof t.Link&&e[r].nodeA===i&&n.push(e[r].nodeZ);return n}function v(t,e,i){var n=g(t.childs,e);if(0==n.length)return null;if(m(e,n),1==i)for(var r=0;r<n.length;r++)v(t,n[r],i);return null}function b(e,i){function n(t,e){var i=t.x-e.x,n=t.y-e.y;s+=i*o,u+=n*o,s*=l,u*=l,u+=a,e.x+=s,e.y+=u}function r(){if(!(++c>150)){for(var t=0;t<f.length;t++)f[t]!=e&&n(e,f[t],f);setTimeout(r,1e3/24)}}var o=.01,l=.95,a=-5,s=0,u=0,c=0,f=i.getElementsByClass(t.Node);r()}function y(t,e){function i(t,e,r){var o=g(t,e);r>n&&(n=r);for(var l=0;l<o.length;l++)i(t,o[l],r+1)}var n=0;return i(t,e,0),n}t.layout=t.Layout={layoutNode:v,getNodeChilds:g,adjustPosition:m,springLayout:b,getTreeDeep:y,getRootNodes:l,GridLayout:n,FlowLayout:r,AutoBoundLayout:o,CircleLayout:f,TreeLayout:c,getNodesCenter:e,circleLayoutNodes:i}}(JTopo),function(t){function e(){var e=new t.CircleNode;return e.radius=150,e.colors=["#3666B0","#2CA8E0","#77D1F6"],e.datas=[.3,.3,.4],e.titles=["A","B","C"],e.paint=function(t){var i=2*e.radius,n=2*e.radius;e.width=i,e.height=n;for(var r=0,o=0;o<this.datas.length;o++){var l=this.datas[o]*Math.PI*2;t.save(),t.beginPath(),t.fillStyle=e.colors[o],t.moveTo(0,0),t.arc(0,0,this.radius,r,r+l,!1),t.fill(),t.closePath(),t.restore(),t.beginPath(),t.font=this.font;var a=this.titles[o]+": "+(100*this.datas[o]).toFixed(2)+"%",s=t.measureText(a).width,u=(t.measureText("�?").width,(r+r+l)/2),c=this.radius*Math.cos(u),f=this.radius*Math.sin(u);u>Math.PI/2&&u<=Math.PI?c-=s:u>Math.PI&&u<2*Math.PI*3/4?c-=s:Math.PI,t.fillStyle="#FFFFFF",t.fillText(a,c,f),t.moveTo(this.radius*Math.cos(u),this.radius*Math.sin(u)),u>Math.PI/2&&u<2*Math.PI*3/4&&(c-=s),Math.PI,t.fill(),t.stroke(),t.closePath(),r+=l}},e}function i(){var e=new t.Node;return e.showSelected=!1,e.width=250,e.height=180,e.colors=["#3666B0","#2CA8E0","#77D1F6"],e.datas=[.3,.3,.4],e.titles=["A","B","C"],e.paint=function(t){var i=(this.width-3)/this.datas.length;t.save(),t.beginPath(),t.fillStyle="#FFFFFF",t.strokeStyle="#FFFFFF",t.moveTo(-this.width/2-1,-this.height/2),t.lineTo(-this.width/2-1,this.height/2+3),t.lineTo(this.width/2+3+1,this.height/2+3),t.stroke(),t.closePath(),t.restore();for(var n=0;n<this.datas.length;n++){t.save(),t.beginPath(),t.fillStyle=e.colors[n];var r=this.datas[n],o=n*(i+3)-this.width/2,l=this.height-r-this.height/2;t.fillRect(o,l,i,r);var a=""+parseInt(this.datas[n]),s=t.measureText(a).width,u=t.measureText("�?").width;t.fillStyle="#FFFFFF",t.fillText(a,o+(i-s)/2,l-u),t.fillText(this.titles[n],o+(i-s)/2,this.height/2+u),t.fill(),t.closePath(),t.restore()}},e}t.BarChartNode=i,t.PieChartNode=e}(JTopo),function(t){function e(e,i){var n,r=null;return{stop:function(){return n?(window.clearInterval(n),r&&r.publish("stop"),this):this},start:function(){var t=this;return n=setInterval(function(){e.call(t)},i),this},onStop:function(e){return null==r&&(r=new t.util.MessageBus),r.subscribe("stop",e),this}}}function i(t,i){i=i||{};var n=i.gravity||.1,r=i.dx||0,o=i.dy||5,l=i.stop,a=i.interval||30;return new e(function(){l&&l()?(o=.5,this.stop()):(o+=n,t.setLocation(t.x+r,t.y+o))},a)}function n(t,i,n,r,o){var l=1e3/24,a={};for(var s in i){var u=i[s],c=u-t[s];a[s]={oldValue:t[s],targetValue:u,step:c/n*l,isDone:function(e){return this.step>0&&t[e]>=this.targetValue||this.step<0&&t[e]<=this.targetValue}}}return new e(function(){var e=!0;for(var n in i)a[n].isDone(n)||(t[n]+=a[n].step,e=!1);if(e){if(!r)return this.stop();for(var n in i)if(o){var l=a[n].targetValue;a[n].targetValue=a[n].oldValue,a[n].oldValue=l,a[n].step=-a[n].step}else t[n]=a[n].oldValue}return this},l)}function r(t){null==t&&(t={});var e=t.spring||.1,i=t.friction||.8,n=t.grivity||0,r=(t.wind,t.minLength||0);return{items:[],timer:null,isPause:!1,addNode:function(t,e){var i={node:t,target:e,vx:0,vy:0};return this.items.push(i),this},play:function(t){this.stop(),t=null==t?1e3/24:t;var e=this;this.timer=setInterval(function(){e.nextFrame()},t)},stop:function(){null!=this.timer&&window.clearInterval(this.timer)},nextFrame:function(){for(var t=0;t<this.items.length;t++){var o=this.items[t],l=o.node,a=o.target,s=o.vx,u=o.vy,c=a.x-l.x,f=a.y-l.y,d=Math.atan2(f,c);if(0!=r){var h=a.x-Math.cos(d)*r,p=a.y-Math.sin(d)*r;s+=(h-l.x)*e,u+=(p-l.y)*e}else s+=c*e,u+=f*e;s*=i,u*=i,u+=n,l.x+=s,l.y+=u,o.vx=s,o.vy=u}}}}function o(t,e){function i(){return r=setInterval(function(){return p?void o.stop():(t.rotate+=l||.2,void(t.rotate>2*Math.PI&&(t.rotate=0)))},100),o}function n(){return window.clearInterval(r),o.onStop&&o.onStop(t),o}var r=(e.context,null),o={},l=e.v;return o.run=i,o.stop=n,o.onStop=function(t){return o.onStop=t,o},o}function l(t,e){function i(){return window.clearInterval(l),a.onStop&&a.onStop(t),a}function n(){var n=e.dx||0,s=e.dy||2;return l=setInterval(function(){return p?void a.stop():(s+=o,void(t.y+t.height<r.stage.canvas.height?t.setLocation(t.x+n,t.y+s):(s=0,i())))},20),a}var r=e.context,o=e.gravity||.1,l=null,a={};return a.run=n,a.stop=i,a.onStop=function(t){return a.onStop=t,a},a}function a(e,i){function n(i,n,r,o,l){var a=new t.Node;return a.setImage(e.image),a.setSize(e.width,e.height),a.setLocation(i,n),a.showSelected=!1,a.dragable=!1,a.paint=function(t){t.save(),t.arc(0,0,r,o,l),t.clip(),t.beginPath(),null!=this.image?t.drawImage(this.image,-this.width/2,-this.height/2):(t.fillStyle="rgba("+this.style.fillStyle+","+this.alpha+")",t.rect(-this.width/2,-this.height/2,this.width/2,this.height/2),t.fill()),t.closePath(),t.restore()},a}function r(i,r){var o=i,l=i+Math.PI,a=n(e.x,e.y,e.width,o,l),u=n(e.x-2+4*Math.random(),e.y,e.width,o+Math.PI,o);e.visible=!1,r.add(a),r.add(u),t.Animate.gravity(a,{context:r,dx:.3}).run().onStop(function(){r.remove(a),r.remove(u),s.stop()}),t.Animate.gravity(u,{context:r,dx:-.2}).run()}function o(){return r(i.angle,a),s}function l(){return s.onStop&&s.onStop(e),s}var a=i.context,s=(e.style,{});return s.onStop=function(t){return s.onStop=t,s},s.run=o,s.stop=l,s}function s(t,e){function i(t){t.visible=!0,t.rotate=Math.random();var e=l.stage.canvas.width/2;t.x=e+Math.random()*(e-100)-Math.random()*(e-100),t.y=l.stage.canvas.height,t.vx=5*Math.random()-5*Math.random(),t.vy=-25}function n(){return i(t),a=setInterval(function(){return p?void s.stop():(t.vy+=o,t.x+=t.vx,t.y+=t.vy,void((t.x<0||t.x>l.stage.canvas.width||t.y>l.stage.canvas.height)&&(s.onStop&&s.onStop(t),i(t))))},50),s}function r(){window.clearInterval(a)}var o=.8,l=e.context,a=null,s={};return s.onStop=function(t){return s.onStop=t,s},s.run=n,s.stop=r,s}function u(){p=!0}function c(){p=!1}function f(e,i){function n(){return h=setInterval(function(){if(p)return void d.stop();var t=o.y+a+Math.sin(c)*u;e.setLocation(e.x,t),c+=f},100),d}function r(){window.clearInterval(h)}var o=i.p1,l=i.p2,a=(i.context,o.x+(l.x-o.x)/2),s=o.y+(l.y-o.y)/2,u=t.util.getDistance(o,l)/2,c=Math.atan2(s,a),f=i.speed||.2,d={},h=null;return d.run=n,d.stop=r,d}function d(t,e){function i(){return a=setInterval(function(){if(p)return void l.stop();var e=r.x-t.x,i=r.y-t.y,a=e*o,s=i*o;t.x+=a,t.y+=s,.01>a&&.1>s&&n()},100),l}function n(){window.clearInterval(a)}var r=e.position,o=(e.context,e.easing||.2),l={},a=null;return l.onStop=function(t){return l.onStop=t,l},l.run=i,l.stop=n,l}function h(t,e){function i(){return u=setInterval(function(){t.scaleX+=o,t.scaleY+=o,t.scaleX>=r&&n()},100),s}function n(){s.onStop&&s.onStop(t),t.scaleX=l,t.scaleY=a,window.clearInterval(u)}var r=(e.position,e.context,e.scale||1),o=.06,l=t.scaleX,a=t.scaleY,s={},u=null;return s.onStop=function(t){return s.onStop=t,s},s.run=i,s.stop=n,s}t.Animate={},t.Effect={};var p=!1;t.Effect.spring=r,t.Effect.gravity=i,t.Animate.stepByStep=n,t.Animate.rotate=o,t.Animate.scale=h,t.Animate.move=d,t.Animate.cycle=f,t.Animate.repeatThrow=s,t.Animate.dividedTwoPiece=a,t.Animate.gravity=l,t.Animate.startAll=c,t.Animate.stopAll=u}(JTopo),function(t){function e(t,e){var i=[];if(0==t.length)return i;var n=e.match(/^\s*(\w+)\s*$/);if(null!=n){var r=t.filter(function(t){return t.elementType==n[1]});null!=r&&r.length>0&&(i=i.concat(r))}else{var o=!1;if(n=e.match(/\s*(\w+)\s*\[\s*(\w+)\s*([>=<])\s*['"](\S+)['"]\s*\]\s*/),(null==n||n.length<5)&&(n=e.match(/\s*(\w+)\s*\[\s*(\w+)\s*([>=<])\s*(\d+(\.\d+)?)\s*\]\s*/),o=!0),null!=n&&n.length>=5){var l=n[1],a=n[2],s=n[3],u=n[4];null!=(r=t.filter(function(t){if(t.elementType!=l)return!1;var e=t[a];return 1==o&&(e=parseInt(e)),"="==s?e==u:">"==s?e>u:"<"==s?u>e:"<="==s?u>=e:">="==s?e>=u:"!="==s&&e!=u}))&&r.length>0&&(i=i.concat(r))}}return i}function i(t){if(t.find=function(t){return n.call(this,t)},r.forEach(function(e){t[e]=function(t){for(var i=0;i<this.length;i++)this[i][e](t);return this}}),t.length>0){var e=t[0];for(var i in e){var o=e[i];"function"==typeof o&&function(e){t[i]=function(){for(var i=[],n=0;n<t.length;n++)i.push(e.apply(t[n],arguments));return i}}(o)}}return t.attr=function(t,e){if(null!=t&&null!=e)for(var i=0;i<this.length;i++)this[i][t]=e;else{if(null!=t&&"string"==typeof t){for(var n=[],i=0;i<this.length;i++)n.push(this[i][t]);return n}if(null!=t)for(var i=0;i<this.length;i++)for(var r in t)this[i][r]=t[r]}return this},t}function n(n){var r=[],o=[];this instanceof t.Stage?(r=this.childs,o=o.concat(r)):this instanceof t.Scene?r=[this]:o=this,r.forEach(function(t){o=o.concat(t.childs)});var l=null;return l="function"==typeof n?o.filter(n):e(o,n),l=i(l)}var r="click,mousedown,mouseup,mouseover,mouseout,mousedrag,keydown,keyup".split(",");t.Stage.prototype.find=n,t.Scene.prototype.find=n}(JTopo),function(t){function e(t,e){this.x=t,this.y=e}function i(t){this.p=new e(0,0),this.w=new e(1,0),this.paint=t}function n(t,e,i){return function(n){for(var r=0;e>r;r++)t(),i&&n.turn(i),n.move(3)}}function r(t,e){var i=2*Math.PI;return function(n){for(var r=0;e>r;r++)t(),n.turn(i/e)}}function o(t,e,i){return function(n){for(var r=0;e>r;r++)t(),n.resize(i)}}function l(t){var e=2*Math.PI;return function(i){for(var n=0;t>n;n++)i.forward(1),i.turn(e/t)}}function a(t){var e=4*Math.PI;return function(i){for(var n=0;t>n;n++)i.forward(1),i.turn(e/t)}}function s(t,e,i,n){return function(r){for(var o=0;e>o;o++)t(),r.forward(1),r.turn(i),r.resize(n)}}var u={};i.prototype.forward=function(t){var e=this.p,i=this.w;return e.x=e.x+t*i.x,e.y=e.y+t*i.y,this.paint&&this.paint(e.x,e.y),this},i.prototype.move=function(t){var e=this.p,i=this.w;return e.x=e.x+t*i.x,e.y=e.y+t*i.y,this},i.prototype.moveTo=function(t,e){return this.p.x=t,this.p.y=e,this},i.prototype.turn=function(t){var e=(this.p,this.w),i=Math.cos(t)*e.x-Math.sin(t)*e.y,n=Math.sin(t)*e.x+Math.cos(t)*e.y;return e.x=i,e.y=n,this},i.prototype.resize=function(t){var e=this.w;return e.x=e.x*t,e.y=e.y*t,this},i.prototype.save=function(){return null==this._stack&&(this._stack=[]),this._stack.push([this.p,this.w]),this},i.prototype.restore=function(){if(null!=this._stack&&this._stack.length>0){var t=this._stack.pop();this.p=t[0],this.w=t[1]}return this},u.Tortoise=i,u.shift=n,u.spin=r,u.polygon=l,u.spiral=s,u.star=a,u.scale=o,t.Logo=u}(window)},function(t,e,i){t.exports={default:i(134),__esModule:!0}},function(t,e,i){t.exports={default:i(135),__esModule:!0}},function(t,e,i){var n=i(100),r=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,i){i(159),i(157),i(160),i(161),t.exports=i(100).Symbol},function(t,e,i){i(158),i(162),t.exports=i(118).f("iterator")},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(){}},function(t,e,i){var n=i(94),r=i(154),o=i(153);t.exports=function(t){return function(e,i,l){var a,s=n(e),u=r(s.length),c=o(l,u);if(t&&i!=i){for(;u>c;)if((a=s[c++])!=a)return!0}else for(;u>c;c++)if((t||c in s)&&s[c]===i)return t||c||0;return!t&&-1}}},function(t,e,i){var n=i(136);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){var n=i(104),r=i(126),o=i(111);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var l,a=i(t),s=o.f,u=0;a.length>u;)s.call(t,l=a[u++])&&e.push(l);return e}},function(t,e,i){t.exports=i(91).document&&document.documentElement},function(t,e,i){var n=i(120);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(120);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){"use strict";var n=i(124),r=i(105),o=i(112),l={};i(97)(l,i(98)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(l,{next:r(1,i)}),o(t,e+" Iterator")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){var n=i(104),r=i(94);t.exports=function(t,e){for(var i,o=r(t),l=n(o),a=l.length,s=0;a>s;)if(o[i=l[s++]]===e)return i}},function(t,e,i){var n=i(106)("meta"),r=i(103),o=i(93),l=i(96).f,a=0,s=Object.isExtensible||function(){return!0},u=!i(102)(function(){return s(Object.preventExtensions({}))}),c=function(t){l(t,n,{value:{i:"O"+ ++a,w:{}}})},f=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!s(t))return"F";if(!e)return"E";c(t)}return t[n].i},d=function(t,e){if(!o(t,n)){if(!s(t))return!0;if(!e)return!1;c(t)}return t[n].w},h=function(t){return u&&p.NEED&&s(t)&&!o(t,n)&&c(t),t},p=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:d,onFreeze:h}},function(t,e,i){var n=i(96),r=i(101),o=i(104);t.exports=i(95)?Object.defineProperties:function(t,e){r(t);for(var i,l=o(e),a=l.length,s=0;a>s;)n.f(t,i=l[s++],e[i]);return t}},function(t,e,i){var n=i(111),r=i(105),o=i(94),l=i(116),a=i(93),s=i(122),u=Object.getOwnPropertyDescriptor;e.f=i(95)?u:function(t,e){if(t=o(t),e=l(e,!0),s)try{return u(t,e)}catch(t){}if(a(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){var n=i(94),r=i(125).f,o={}.toString,l="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(t){return l.slice()}};t.exports.f=function(t){return l&&"[object Window]"==o.call(t)?a(t):r(n(t))}},function(t,e,i){var n=i(93),r=i(155),o=i(113)("IE_PROTO"),l=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},function(t,e,i){var n=i(115),r=i(107);t.exports=function(t){return function(e,i){var o,l,a=String(r(e)),s=n(i),u=a.length;return s<0||s>=u?t?"":void 0:(o=a.charCodeAt(s),o<55296||o>56319||s+1===u||(l=a.charCodeAt(s+1))<56320||l>57343?t?a.charAt(s):o:t?a.slice(s,s+2):l-56320+(o-55296<<10)+65536)}}},function(t,e,i){var n=i(115),r=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):o(t,e)}},function(t,e,i){var n=i(115),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(107);t.exports=function(t){return Object(n(t))}},function(t,e,i){"use strict";var n=i(137),r=i(145),o=i(109),l=i(94);t.exports=i(123)(Array,"Array",function(t,e){this._t=l(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,i):"values"==e?r(0,t[i]):r(0,[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){},function(t,e,i){"use strict";var n=i(152)(!0);i(123)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";var n=i(91),r=i(93),o=i(95),l=i(119),a=i(128),s=i(147).KEY,u=i(102),c=i(114),f=i(112),d=i(106),h=i(98),p=i(118),m=i(117),g=i(146),v=i(140),b=i(143),y=i(101),x=i(94),w=i(116),k=i(105),_=i(124),q=i(150),C=i(149),A=i(96),S=i(104),O=C.f,T=A.f,E=q.f,M=n.Symbol,L=n.JSON,D=L&&L.stringify,P=h("_hidden"),N=h("toPrimitive"),I={}.propertyIsEnumerable,j=c("symbol-registry"),F=c("symbols"),R=c("op-symbols"),z=Object.prototype,B="function"==typeof M,H=n.QObject,W=!H||!H.prototype||!H.prototype.findChild,U=o&&u(function(){return 7!=_(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=O(z,e);n&&delete z[e],T(t,e,i),n&&t!==z&&T(z,e,n)}:T,$=function(t){var e=F[t]=_(M.prototype);return e._k=t,e},V=B&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},Y=function(t,e,i){return t===z&&Y(R,e,i),y(t),e=w(e,!0),y(i),r(F,e)?(i.enumerable?(r(t,P)&&t[P][e]&&(t[P][e]=!1),i=_(i,{enumerable:k(0,!1)})):(r(t,P)||T(t,P,k(1,{})),t[P][e]=!0),U(t,e,i)):T(t,e,i)},K=function(t,e){y(t);for(var i,n=v(e=x(e)),r=0,o=n.length;o>r;)Y(t,i=n[r++],e[i]);return t},Z=function(t,e){return void 0===e?_(t):K(_(t),e)},X=function(t){var e=I.call(this,t=w(t,!0));return!(this===z&&r(F,t)&&!r(R,t))&&(!(e||!r(this,t)||!r(F,t)||r(this,P)&&this[P][t])||e)},J=function(t,e){if(t=x(t),e=w(e,!0),t!==z||!r(F,e)||r(R,e)){var i=O(t,e);return!i||!r(F,e)||r(t,P)&&t[P][e]||(i.enumerable=!0),i}},G=function(t){for(var e,i=E(x(t)),n=[],o=0;i.length>o;)r(F,e=i[o++])||e==P||e==s||n.push(e);return n},Q=function(t){for(var e,i=t===z,n=E(i?R:x(t)),o=[],l=0;n.length>l;)!r(F,e=n[l++])||i&&!r(z,e)||o.push(F[e]);return o};B||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(i){this===z&&e.call(R,i),r(this,P)&&r(this[P],t)&&(this[P][t]=!1),U(this,t,k(1,i))};return o&&W&&U(z,t,{configurable:!0,set:e}),$(t)},a(M.prototype,"toString",function(){return this._k}),C.f=J,A.f=Y,i(125).f=q.f=G,i(111).f=X,i(126).f=Q,o&&!i(110)&&a(z,"propertyIsEnumerable",X,!0),p.f=function(t){return $(h(t))}),l(l.G+l.W+l.F*!B,{Symbol:M});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)h(tt[et++]);for(var tt=S(h.store),et=0;tt.length>et;)m(tt[et++]);l(l.S+l.F*!B,"Symbol",{for:function(t){return r(j,t+="")?j[t]:j[t]=M(t)},keyFor:function(t){if(V(t))return g(j,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),l(l.S+l.F*!B,"Object",{create:Z,defineProperty:Y,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:G,getOwnPropertySymbols:Q}),L&&l(l.S+l.F*(!B||u(function(){var t=M();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!V(t)){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);return e=n[1],"function"==typeof e&&(i=e),!i&&b(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!V(e))return e}),n[1]=e,D.apply(L,n)}}}),M.prototype[N]||i(97)(M.prototype,N,M.prototype.valueOf),f(M,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},function(t,e,i){i(117)("asyncIterator")},function(t,e,i){i(117)("observable")},function(t,e,i){i(156);for(var n=i(91),r=i(97),o=i(109),l=i(98)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],s=0;s<5;s++){var u=a[s],c=n[u],f=c&&c.prototype;f&&!f[l]&&r(f,l,u),o[u]=o.Array}},,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,i){e.default={props:["InsourceModuleId","IntargetModuleId"],data:function(){var e=this;return{paginationData:{currentPage:1,total:0,pageSize:12,selectPageSizes:[9,12,15,18],sort:"",order:""},ruleForm:{dec:"",restriction:"OneToOne",relationType:"",relationTypeList:[],checkedIds:[],moduleList:[],checkboxModules:[]},isShowAdd:!1,isShowDel:!1,rules:{checkboxModules:[{type:"array",required:!0,message:"请至少选择一个模型",trigger:"change"}],restriction:[{required:!0,message:"请选择限制条件",trigger:"blur"}],relationType:[{required:!0,message:"请选择关系类型",trigger:"change"}]},addForm:{newType:""},addRules:{newType:[{validator:function(i,n,r){if(""===n)r(new Error("请输入名称"));else{t.ajax({url:"/cmdb/relatiomap/checkRelationName",type:"POST",data:{name:n},dataType:"json",async:!1,success:function(t,e){1==t.success||r(new Error("名称已存在"))}.bind(e),error:function(t,e,i){r(new Error("请求失败"))}.bind(e)}),r()}},trigger:"blur"},{min:1,max:4,message:"长度不超过4个字符",trigger:"blur"}]},delForm:{delType:""},delRules:{delType:[{validator:function(i,n,r){""===n?r(new Error("请输入非内置关系名称")):(t.ajax({url:"/cmdb/relatiomap/checkRelationName",type:"POST",data:{name:n,builtin:"false"},dataType:"json",async:!1,success:function(t,e){1==t.success&&r(new Error("名称不存在或者为内置关系"))}.bind(e),error:function(t,e,i){r(new Error("请求失败"))}.bind(e)}),r())},trigger:"blur"}]}}},watch:{ruleForm:{handler:function(t,e){"OneToOne"==t.restriction&&(this.ruleForm.dec="该模型下的1个配置可与其他模型关系下的1个配置建立关系"),"OneToMany"==t.restriction&&(this.ruleForm.dec="该模型下的1个配置可与其他模型关系下的多个配置建立关系"),"ManyToOne"==t.restriction&&(this.ruleForm.dec="该模型下的多个配置可与其他模型关系下的1个配置建立关系"),"ManyToMany"==t.restriction&&(this.ruleForm.dec="该模型下的多个配置可与其他模型关系下的多个配置建立关系");for(var i=0;i<this.ruleForm.relationTypeList.length;i++)this.ruleForm.relationTypeList[i].id==this.ruleForm.relationType&&(this.delForm.delType=this.ruleForm.relationTypeList[i].name)},deep:!0}},mounted:function(){this.initData()},methods:{onSubmit:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;var n={restriction:t.ruleForm.restriction,relationId:t.ruleForm.relationType,moduleIds:t.ruleForm.checkboxModules,targetModuleId:t.IntargetModuleId,sourceModuleId:t.InsourceModuleId};i.ajax({url:"/cmdb/relatiomap/addModuleRelation",type:"POST",cache:!1,async:!1,traditional:!0,data:n,success:function(t,e){1==t.success?(this.$notify({title:"提示",message:"添加成功",type:"success",duration:3e3}),this.closeWin(t.dataList)):this.$notify({title:"提示",message:t.msg,type:"error",duration:3e3})}.bind(t),error:function(t,e,i){this.$notify({title:"提示",message:"添加失败",type:"error",duration:3e3})}.bind(t)})})},initData:function(){this.searchType(),this.modulePage()},closeWin:function(t){this.resetForm("ruleForm"),this.$emit("childBindAdd",t)},closeDialog:function(){this.closeWin()},resetForm:function(t){this.$refs[t].resetFields(),this.ruleForm.name="",this.ruleForm.code="",this.ruleForm.dec=""},addType:function(){var t=this;this.$refs.addForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;var n={name:t.addForm.newType,builtin:"false"};i.ajax({url:"/cmdb/relatiomap/addRelatioType",type:"POST",cache:!1,async:!1,traditional:!0,data:n,success:function(t,e){1==t.success?(this.searchType(),this.isShowAdd=!1):this.$notify({title:"提示",message:t.msg,type:"error",duration:3e3})}.bind(t),error:function(t,e,i){this.$notify({title:"提示",message:"添加失败",type:"error",duration:3e3})}.bind(t)})})},delType:function(t){var e={name:t,builtin:"false"};i.ajax({url:"/cmdb/relatiomap/delRelatioType",type:"POST",cache:!1,async:!1,traditional:!0,data:e,success:function(t,e){1==t.success?(this.searchType(),this.isShowDel=!1):this.$notify({title:"提示",message:t.msg,type:"error",duration:3e3})}.bind(this),error:function(t,e,i){this.$notify({title:"提示",message:"删除失败",type:"error",duration:3e3})}.bind(this)})},searchType:function(){t.ajax({url:"/cmdb/relatiomap/getAllRelatioType",type:"POST",cache:!1,async:!1,dataType:"json",data:""}).done(function(t){this.ruleForm.relationTypeList=t.dataList}.bind(this))},handleSizeChange:function(t){this.paginationData.pageSize=t;var e=Math.ceil(this.paginationData.total/t);this.paginationData.currentPage>e?this.paginationData.currentPage=e:this.modulePage()},handleCurrentChange:function(t){this.paginationData.currentPage=t,this.modulePage()},modulePage:function(){var e={pageNumber:this.paginationData.currentPage,pageSize:this.paginationData.pageSize,sort:this.paginationData.sort,orderBy:this.paginationData.order,sourceModuleId:this.InsourceModuleId,targetModuleId:this.IntargetModuleId};t.ajax({url:"/cmdb/relatiomap/getModuleByCondition",type:"POST",cache:!1,async:!0,dataType:"json",data:e}).done(function(t){this.paginationData.total=t.total,this.ruleForm.moduleList=t.dataList}.bind(this))}}}}.call(e,i(30),i(30))},,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,n){var r=i(130),o=(i.n(r),i(188)),l=i.n(o);e.default={props:["pid"],components:{addView:l.a},data:function(){return{msg:"",layouttype:"circle",sourceModuleId:"",sourceModule:{},dataList:[],addUpViewDialog:!1,addDownViewDialog:!1,isRoot:!1,scene:{},currentNode:{},IntargetModuleId:"",InsourceModuleId:"",linkTip:"",stage:{},cloudNode:{},builtin:"false"}},mounted:function(){this.initData(this.pid,this.builtin),this.initScene(),null!==this.pid&&void 0!==this.pid&&""!==this.pid&&this.draw()},watch:{builtin:function(){this.scene.clear(),null!==this.pid&&void 0!==this.pid&&""!==this.pid&&(this.initData(this.pid,this.builtin),this.draw())},pid:function(t,e){this.scene.clear(),null!==this.pid&&void 0!==this.pid&&""!==this.pid&&(this.initData(this.pid,this.builtin),this.draw())}},methods:{initScene:function(t){var e=document.getElementById("canvas"),i=new JTopo.Stage(e);i.wheelZoom=1.2,i.mode="select";var n=new JTopo.Scene;i.add(n),this.scene=n,this.stage=i},initData:function(e,i){this.sourceModuleId=e;var n={sourceModuleId:e,builtin:i};t.ajax({url:"/cmdb/relatiomap/getRelationByCondition",type:"POST",cache:!1,async:!1,dataType:"json",data:n}).done(function(t){this.sourceModule=t.sourceModule,this.dataList=t.dataList}.bind(this))},forDataList:function(e,i){for(var n=this,r=0;r<e.length;r++)if(e[r].targetModuleId==this.sourceModuleId){var o=this.newNode(e[r].sourceModuleName,e[r].sourceModuleId,e[r].id,e[r].sourceIconUrl,e[r].insRelationCount,e[r].sourceBuiltin);this.scene.add(o);var l=this.newLink(this.cloudNode,o,e[r].relationName,this.dataList[r].restrictionDec,"up",e[r].builtin);this.scene.add(l),l.addEventListener("mouseover",function(e){n.linkTip=this.lintType,t("#tips").css({top:e.clientY+"px",left:e.clientX+"px"}).show()}),l.addEventListener("mouseout",function(e){t("#tips").hide()}),o.addEventListener("mouseup",function(t){n.currentNode=this,n.isRoot=!1})}else if(e[r].sourceModuleId==this.sourceModuleId){var o=this.newNode(e[r].targetModuleName,e[r].targetModuleId,e[r].id,e[r].targetIconUrl,e[r].insRelationCount,e[r].targetBuiltin);this.scene.add(o);var l=this.newLink(this.cloudNode,o,e[r].relationName,e[r].restrictionDec,"down",e[r].builtin);this.scene.add(l),l.addEventListener("mouseover",function(e){n.linkTip=this.lintType,t("#tips").css({top:e.clientY+"px",left:e.clientX+"px"}).show()}),l.addEventListener("mouseout",function(e){t("#tips").hide()}),o.addEventListener("mouseup",function(t){n.currentNode=this,n.isRoot=!1})}},draw:function(){var e=this,i=new JTopo.Node(this.sourceModule.sourceModuleName);i.id=this.sourceModule.sourceModuleId,i.fontColor="30,144,255",i.font=" 12px 宋体  italic Arial",i.setSize(36,36),i.textPosition="Bottom_Center",i.textOffsetY=0,i.showSelected=!1,i.layout={type:"circle",radius:220},i.setLocation(460,230);var n=new Image(16,16);n.src="../.."+this.sourceModule.sourceIconUrl,i.percent=.8,i.beginDegree=0,i.width=i.height=50,i.paint=function(t){t.save(),t.beginPath(),t.fillStyle="rgba(30,144,255,"+this.alpha+")",t.moveTo(0,0),t.arc(0,0,this.width/2-1,this.beginDegree,this.beginDegree+2*Math.PI),t.fill(),t.closePath(),t.beginPath(),t.drawImage(n,-15,-15,30,30),t.closePath(),t.restore(),this.paintText(t)},i.addEventListener("mouseup",function(t){e.currentNode=this,e.isRoot=!0}),this.cloudNode=i,e.scene.add(i),this.forDataList(this.dataList,!1),JTopo.layout.layoutNode(e.scene,i,!0),e.scene.addEventListener("mouseup",function(i){i.target&&i.target.layout&&JTopo.layout.layoutNode(e.scene,i.target,!0),i.target instanceof JTopo.Node||(e.currentNode=null),2==i.button&&null!=e.currentNode&&(0==e.isRoot&&0==e.currentNode.insRelationCount||1==e.isRoot)?t("#contextmenu").css({top:event.clientY+"px",left:event.clientX+"px"}).show():t("#contextmenu").hide()})},setV:function(t){this.layouttype=t},deleteOne:function(){if(null!=this.currentNode&&this.currentNode instanceof JTopo.Node){var e={id:this.currentNode.relationId};n.ajax({url:"/cmdb/relatiomap/deleteModuleRelation",type:"POST",cache:!1,async:!1,traditional:!0,data:e,success:function(t,e){1==t.success?(this.scene.clear(),this.initData(this.pid,this.builtin),this.draw(),this.currentNode=null):this.$notify({title:"提示",message:t.msg,type:"error",duration:3e3})}.bind(this),error:function(t,e,i){this.$notify({title:"提示",message:"删除失败",type:"error",duration:3e3})}.bind(this)})}JTopo.layout.layoutNode(this.scene,this.cloudNode,!0),t("#contextmenu").hide()},upTo:function(){null!=this.currentNode&&this.currentNode instanceof JTopo.Node&&(this.IntargetModuleId=this.currentNode.id,this.addUpViewDialog=!0),t("#contextmenu").hide()},downTo:function(){null!=this.currentNode&&this.currentNode instanceof JTopo.Node&&(this.InsourceModuleId=this.currentNode.id,this.addDownViewDialog=!0),t("#contextmenu").hide()},closeDialog:function(t){this.addUpViewDialog=!1,this.addDownViewDialog=!1,this.scene.clear(),this.initData(this.pid,this.builtin),this.draw();for(var e=this.scene.getDisplayedNodes(),i=0;i<t.length;i++)for(var n=0;n<e.length;n++)if(e[n].id==t[i]){var r=new Image(16,16);r.src="../.."+e[n].path,e[n].percent=.8,e[n].beginDegree=0,e[n].width=e[n].height=50,e[n].paint=function(t){t.save(),t.beginPath(),t.fillStyle="rgba(0,255,0,"+this.alpha+")",t.moveTo(0,0),t.arc(0,0,this.width/2-1,this.beginDegree,this.beginDegree+2*Math.PI),t.fill(),t.closePath(),t.beginPath(),t.drawImage(r,-15,-15,30,30),t.closePath(),t.restore(),this.paintText(t)}}},addClose:function(){this.$refs.addView.child()},newNode:function(t,e,i,n,r,o){var l=new JTopo.Node(t);l.id=e,l.path=n,l.insRelationCount=r,l.fontColor="30,144,255",l.font=" 12px 宋体  italic Arial",l.relationId=i,l.setSize(36,36),l.textPosition="Bottom_Center",l.textOffsetY=0,l.showSelected=!1;var a=new Image(16,16);return a.src="../.."+n,l.percent=.8,l.beginDegree=0,l.width=l.height=50,l.paint=function(t){t.save(),t.beginPath(),t.fillStyle="rgba(30,144,255,"+this.alpha+")",t.moveTo(0,0),t.arc(0,0,this.width/2-1,this.beginDegree,this.beginDegree+2*Math.PI),t.fill(),t.closePath(),t.beginPath(),t.drawImage(a,-15,-15,30,30),t.closePath(),t.restore(),this.paintText(t)},l.layout={type:this.layouttype,radius:220},l},newLink:function(t,e,i,n,r,o){var l=new JTopo.Link(t,e,i);l.arrowsRadius=10,l.lineWidth=1,l.lintType=n,l.font=" 12px 宋体  italic Arial",l.bundleOffset=60,l.bundleGap=20,l.textOffsetY=12;var a="30,144,255";return"true"==o&&(a="0,255,255"),l.showSelected=!1,"up"==r?(l.strokeColor=a,l.getStartPosition=function(){var t;return null!=this.arrowsRadius&&(t=function(t){var e=t.nodeA,i=t.nodeZ,n=JTopo.util.lineF(e.cx,e.cy,i.cx,i.cy),r=e.getBound();return JTopo.util.intersectionLineBound(n,r)}(this)),null==t&&(t={x:this.nodeA.cx,y:this.nodeA.cy}),t},l.paintPath=function(t,e){if(this.nodeA===this.nodeZ)return void this.paintLoop(t);t.beginPath(),t.fillStyle="rgb("+a+")",t.fillRect(e[0].x+(e[1].x-e[0].x)/2-20,e[0].y+(e[1].y-e[0].y)/2-10,40,20),t.font="12px 宋体  italic Arial",t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++)null==this.dashedPattern?null==this.PointPathColor?t.lineTo(e[i].x,e[i].y):t.JtopoDrawPointPath(e[i-1].x,e[i-1].y,e[i].x,e[i].y,t.strokeStyle,this.PointPathColor):t.JTopoDashedLineTo(e[i-1].x,e[i-1].y,e[i].x,e[i].y,this.dashedPattern);if(t.stroke(),t.closePath(),null!=this.arrowsRadius){var n=e[e.length-2],r=e[e.length-1];this.paintArrow(t,r,n)}}):(l.strokeColor=a,l.paintPath=function(t,e){if(this.nodeA===this.nodeZ)return void this.paintLoop(t);t.beginPath(),t.fillStyle="rgb("+a+")",t.fillRect(e[0].x+(e[1].x-e[0].x)/2-20,e[0].y+(e[1].y-e[0].y)/2-10,40,20),t.font="12px 宋体  italic Arial",t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++)null==this.dashedPattern?null==this.PointPathColor?t.lineTo(e[i].x,e[i].y):t.JtopoDrawPointPath(e[i-1].x,e[i-1].y,e[i].x,e[i].y,t.strokeStyle,this.PointPathColor):t.JTopoDashedLineTo(e[i-1].x,e[i-1].y,e[i].x,e[i].y,this.dashedPattern);if(t.stroke(),t.closePath(),null!=this.arrowsRadius){var n=e[e.length-2],r=e[e.length-1];this.paintArrow(t,n,r)}}),l}}}}.call(e,i(30),i(30))},,,function(t,e,i){!function(t){t(i(99))}(function(t){"use strict";function e(t){var e=t.flags;return null!=e?e:(t.ignoreCase?"i":"")+(t.global?"g":"")+(t.multiline?"m":"")}function i(t){return t.global?t:new RegExp(t.source,e(t)+"g")}function n(t){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(t.source)}function r(t,e,n){e=i(e);for(var r=n.line,o=n.ch,l=t.lastLine();r<=l;r++,o=0){e.lastIndex=o;var a=t.getLine(r),s=e.exec(a);if(s)return{from:m(r,s.index),to:m(r,s.index+s[0].length),match:s}}}function o(t,e,o){if(!n(e))return r(t,e,o);e=i(e);for(var l,a=1,s=o.line,u=t.lastLine();s<=u;){for(var c=0;c<a;c++){var f=t.getLine(s++);l=null==l?f:l+"\n"+f}a*=2,e.lastIndex=o.ch;var d=e.exec(l);if(d){var h=l.slice(0,d.index).split("\n"),p=d[0].split("\n"),g=o.line+h.length-1,v=h[h.length-1].length;return{from:m(g,v),to:m(g+p.length-1,1==p.length?v+p[0].length:p[p.length-1].length),match:d}}}}function l(t,e){for(var i,n=0;;){e.lastIndex=n;var r=e.exec(t);if(!r)return i;if(i=r,(n=i.index+(i[0].length||1))==t.length)return i}}function a(t,e,n){e=i(e);for(var r=n.line,o=n.ch,a=t.firstLine();r>=a;r--,o=-1){var s=t.getLine(r);o>-1&&(s=s.slice(0,o));var u=l(s,e);if(u)return{from:m(r,u.index),to:m(r,u.index+u[0].length),match:u}}}function s(t,e,n){e=i(e);for(var r,o=1,a=n.line,s=t.firstLine();a>=s;){for(var u=0;u<o;u++){var c=t.getLine(a--);r=null==r?c.slice(0,n.ch):c+"\n"+r}o*=2;var f=l(r,e);if(f){var d=r.slice(0,f.index).split("\n"),h=f[0].split("\n"),p=a+d.length,g=d[d.length-1].length;return{from:m(p,g),to:m(p+h.length-1,1==h.length?g+h[0].length:h[h.length-1].length),match:f}}}}function u(t,e,i,n){if(t.length==e.length)return i;for(var r=0,o=i+Math.max(0,t.length-e.length);;){if(r==o)return r;var l=r+o>>1,a=n(t.slice(0,l)).length;if(a==i)return l;a>i?o=l:r=l+1}}function c(t,e,i,n){if(!e.length)return null;var r=n?h:p,o=r(e).split(/\r|\n\r?/);t:for(var l=i.line,a=i.ch,s=t.lastLine()+1-o.length;l<=s;l++,a=0){var c=t.getLine(l).slice(a),f=r(c);if(1==o.length){var d=f.indexOf(o[0]);if(-1==d)continue t;var i=u(c,f,d,r)+a;return{from:m(l,u(c,f,d,r)+a),to:m(l,u(c,f,d+o[0].length,r)+a)}}var g=f.length-o[0].length;if(f.slice(g)==o[0]){for(var v=1;v<o.length-1;v++)if(r(t.getLine(l+v))!=o[v])continue t;var b=t.getLine(l+o.length-1),y=r(b),x=o[o.length-1];if(b.slice(0,x.length)==x)return{from:m(l,u(c,f,g,r)+a),to:m(l+o.length-1,u(b,y,x.length,r))}}}}function f(t,e,i,n){if(!e.length)return null;var r=n?h:p,o=r(e).split(/\r|\n\r?/);t:for(var l=i.line,a=i.ch,s=t.firstLine()-1+o.length;l>=s;l--,a=-1){var c=t.getLine(l);a>-1&&(c=c.slice(0,a));var f=r(c);if(1==o.length){var d=f.lastIndexOf(o[0]);if(-1==d)continue t;return{from:m(l,u(c,f,d,r)),to:m(l,u(c,f,d+o[0].length,r))}}var g=o[o.length-1];if(f.slice(0,g.length)==g){for(var v=1,i=l-o.length+1;v<o.length-1;v++)if(r(t.getLine(i+v))!=o[v])continue t;var b=t.getLine(l+1-o.length),y=r(b);if(y.slice(y.length-o[0].length)==o[0])return{from:m(l+1-o.length,u(b,y,b.length-o[0].length,r)),to:m(l,u(c,f,g.length,r))}}}}function d(t,e,n,l){this.atOccurrence=!1,this.doc=t,n=n?t.clipPos(n):m(0,0),this.pos={from:n,to:n};var u;"object"==typeof l?u=l.caseFold:(u=l,l=null),"string"==typeof e?(null==u&&(u=!1),this.matches=function(i,n){return(i?f:c)(t,e,n,u)}):(e=i(e),l&&!1===l.multiline?this.matches=function(i,n){return(i?a:r)(t,e,n)}:this.matches=function(i,n){return(i?s:o)(t,e,n)})}var h,p,m=t.Pos;String.prototype.normalize?(h=function(t){return t.normalize("NFD").toLowerCase()},p=function(t){return t.normalize("NFD")}):(h=function(t){return t.toLowerCase()},p=function(t){return t}),d.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){for(var i=this.matches(e,this.doc.clipPos(e?this.pos.from:this.pos.to));i&&0==t.cmpPos(i.from,i.to);)e?i.from.ch?i.from=m(i.from.line,i.from.ch-1):i=i.from.line==this.doc.firstLine()?null:this.matches(e,this.doc.clipPos(m(i.from.line-1))):i.to.ch<this.doc.getLine(i.to.line).length?i.to=m(i.to.line,i.to.ch+1):i=i.to.line==this.doc.lastLine()?null:this.matches(e,m(i.to.line+1,0));if(i)return this.pos=i,this.atOccurrence=!0,this.pos.match||!0;var n=m(e?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:n,to:n},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(e,i){if(this.atOccurrence){var n=t.splitLines(e);this.doc.replaceRange(n,this.pos.from,this.pos.to,i),this.pos.to=m(this.pos.from.line+n.length-1,n[n.length-1].length+(1==n.length?this.pos.from.ch:0))}}},t.defineExtension("getSearchCursor",function(t,e,i){return new d(this.doc,t,e,i)}),t.defineDocExtension("getSearchCursor",function(t,e,i){return new d(this,t,e,i)}),t.defineExtension("selectMatches",function(e,i){for(var n=[],r=this.getSearchCursor(e,this.getCursor("from"),i);r.findNext()&&!(t.cmpPos(r.to(),this.getCursor("to"))>0);)n.push({anchor:r.from(),head:r.to()});n.length&&this.setSelections(n,0)})})},function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,'.text{font-size:14px}.item{padding:18px 0}.clearfix:after,.clearfix:before{display:table;content:""}.clearfix:after{clear:both}.box-card{width:150px}.el-row{margin-bottom:1px;&:last-child{margin-bottom:0}}.el-col{border-radius:1px}.bg-purple-dark{background:#99a9bf}.bg-purple{background:#d3dce6}.bg-purple-light{background:#e5e9f2}.grid-content{border-radius:4px;min-height:36px}.row-bg{padding:5px 0;background-color:#f9fafc}.el-checkbox-button__inner{width:100px;text-overflow:ellipsis;overflow:hidden;float:left;display:inline}.el-radio-button__inner{width:130px;text-align:center}.abt{width:130px}.el-radio-button:first-child .el-radio-button__inner,.el-radio-button__inner{border-left:0 solid #bfcbd9}.el-radio-button__inner{border-right:0;border-top:0;border-bottom:0;border-radius:0 0 0 0}.classbtn{border:1px solid #bfcbd9}',""])},,,,,,function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,"#contextmenu{background:#1e90ff;position:fixed;list-style:none;margin:0;padding:0;border-radius:3px}#contextmenu li a{display:block;padding:1px;color:#fff;#contextmenu li a:hover{background:#1e90ff;color:#fff}cursor:pointer}#tips{background:#1e90ff;position:fixed;list-style:none;margin:0;padding:0;border-radius:3px}#tips li a{display:block;padding:1px;color:#fff;#tips li a:hover{background:#1e90ff;color:#fff}cursor:pointer}#syscircle{background:#0ff}#norcircle,#syscircle{width:20px;height:20px;border-radius:50px}#norcircle{background:#1e90ff}",""])},,,function(t,e,i){function n(t){i(203)}var r=i(31)(i(169),i(194),n,null,null);t.exports=r.exports},,,,function(t,e,i){function n(t){i(209)}var r=i(31)(i(175),i(201),n,null,null);t.exports=r.exports},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{"white-space":"nowrap"},attrs:{model:t.ruleForm,rules:t.rules,"label-position":"top","label-width":"80px"}},[i("el-form-item",{attrs:{label:"请定义限制条件",prop:"restriction",align:"center",required:""}},[i("el-radio-group",{model:{value:t.ruleForm.restriction,callback:function(e){t.ruleForm.restriction=e},expression:"ruleForm.restriction"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-radio-button",{staticClass:"classbtn",attrs:{label:"OneToOne"}},[t._v("一对一")])],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-radio-button",{staticClass:"classbtn",attrs:{label:"OneToMany"}},[t._v("一对多")])],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-radio-button",{staticClass:"classbtn",attrs:{label:"ManyToOne"}},[t._v("多对一")])],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-radio-button",{staticClass:"classbtn",attrs:{label:"ManyToMany"}},[t._v("多对多")])],1)],1)],1)],1),t._v(" "),i("el-form-item",{attrs:{align:"center"}},[i("el-alert",{staticStyle:{padding:"0px 0px 0px 0px",width:"100px"},attrs:{align:"center",title:t.ruleForm.dec,type:"info",closable:!1}})],1),t._v(" "),i("el-row",[i("el-col",{staticStyle:{"border-right":"1px solid #d1dbe5",height:"100%",padding:"10px 10px 0px 10px","text-align":"center",overflow:"auto"},attrs:{span:6}},[i("el-form-item",{attrs:{label:"请选择关系类型",prop:"relationType",align:"left",required:""}},[i("div",{staticStyle:{height:"220px",overflow:"auto"},attrs:{id:"d1"}},[i("el-radio-group",{model:{value:t.ruleForm.relationType,callback:function(e){t.ruleForm.relationType=e},expression:"ruleForm.relationType"}},[t._l(t.ruleForm.relationTypeList,function(e,n){return i("div",[i("el-row",[i("el-radio-button",{staticClass:"radiobtn",staticStyle:{width:"80px"},attrs:{type:"text",label:e.id}},[t._v(t._s(e.name))]),t._v(" "),"false"==e.builtin&&t.ruleForm.relationType==e.id?i("el-tag",{key:e.id,attrs:{closable:!0,"close-transition":!1},on:{close:function(i){t.delType(e.name)}}}):t._e()],1)],1)}),t._v(" "),i("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.addRules}},[i("el-popover",{ref:"popover5",attrs:{placement:"top",width:"80"},model:{value:t.isShowAdd,callback:function(e){t.isShowAdd=e},expression:"isShowAdd"}},[i("el-form-item",{attrs:{prop:"newType",label:"添加关系"}},[i("el-input",{attrs:{size:"small",placeholder:"请输入关系名称"},model:{value:t.addForm.newType,callback:function(e){t.addForm.newType=e},expression:"addForm.newType"}})],1),t._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.addType()}}},[t._v("确定")]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.isShowAdd=!1}}},[t._v("取消")])],1)],1),t._v(" "),i("el-row",[i("el-button",{directives:[{name:"popover",rawName:"v-popover:popover5",arg:"popover5"}],staticClass:"abt",attrs:{type:"text",icon:"plus",size:"small"}},[t._v("添加关系")])],1)],1)],2)],1)])],1),t._v(" "),i("el-col",{staticStyle:{height:"100%",padding:"10px 20px 0px 20px"},attrs:{span:16}},[i("div",{staticStyle:{position:"relative",height:"230px"}},[i("el-form-item",{attrs:{label:"可添加多个模型",align:"left",prop:"checkboxModules",required:""}},[i("div",{staticClass:"block"},[i("el-checkbox-group",{model:{value:t.ruleForm.checkboxModules,callback:function(e){t.ruleForm.checkboxModules=e},expression:"ruleForm.checkboxModules"}},t._l(t.ruleForm.moduleList,function(e){return i("div",[i("el-row",{attrs:{gutter:1}},t._l(e.cols,function(e){return i("div",{staticStyle:{"text-overflow":"ellipsis",overflow:"hidden",display:"inline"},attrs:{title:e.name}},[i("el-col",{attrs:{span:7}},[i("el-checkbox-button",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])],1)],1)}))],1)}))],1)]),t._v(" "),i("div",{staticStyle:{left:"20%",height:"10px",position:"absolute",bottom:"0px"}},[t.ruleForm.moduleList.length>0?i("el-pagination",{attrs:{small:"",align:"center","current-page":t.paginationData.currentPage,"page-size":t.paginationData.pageSize,layout:"prev, pager, next",total:t.paginationData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.paginationData.currentPage=e}}}):t._e()],1)],1)])],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-top":"15px"},attrs:{align:"center"}},[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确定")]),t._v(" "),i("el-button",{on:{click:t.closeDialog}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]}},,,,,,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"Jtopo_content_all"}},[i("div",{staticClass:"container",staticStyle:{padding:"0px 30px"}},[i("div",[i("div",{staticStyle:{"text-align":"right","padding-top":"5px"}},[t._m(0),t._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.stage.zoomOut()}}},[i("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})])],1),t._v(" "),i("div",{staticStyle:{clear:"both"},attrs:{id:"id4"}})]),t._v(" "),i("div",{staticStyle:{"text-align":"right","padding-top":"5px"}},[t._m(1),t._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.stage.zoomIn()}}},[i("i",{staticClass:"fa fa-minus",attrs:{"aria-hidden":"true"}})])],1)])])]),t._v(" "),i("div",{attrs:{id:"Jtopo_content"}},[i("canvas",{staticClass:"center-block",staticStyle:{},attrs:{width:"1300",height:"1050",id:"canvas",fit:"true"}}),t._v(" "),i("textarea",{staticStyle:{display:"none",width:"60px",position:"absolute"},attrs:{id:"jtopo_textfield",onkeydown:"if(event.keyCode==13)this.blur();"}}),t._v(" "),i("ul",{staticStyle:{display:"none",border:"1px solid #1E90FF","font-size":"12px","font-weight":"normal","white-space":"nowrap"},attrs:{id:"contextmenu"}},[t.isRoot?i("li",[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.upTo}},[i("i",{staticClass:"el-icon-caret-top"}),t._v("上层关系")])],1):t._e(),t._v(" "),t.isRoot?i("li",[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.downTo}},[i("i",{staticClass:"el-icon-caret-bottom"}),t._v("下层关系")])],1):t._e(),t._v(" "),t.isRoot||null==t.currentNode?t._e():i("li",[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.deleteOne}},[i("i",{staticClass:"el-icon-delete"}),t._v("删除节点")])],1)]),t._v(" "),i("ul",{staticStyle:{display:"none",border:"1px solid #1E90FF","font-size":"12px","font-weight":"normal"},attrs:{id:"tips"}},[i("li",[i("a",[t._v(t._s(t.linkTip))])])]),t._v(" "),t.addUpViewDialog?i("el-dialog",{attrs:{title:"添加上级模型",size:"small"},on:{close:t.addClose},model:{value:t.addUpViewDialog,callback:function(e){t.addUpViewDialog=e},expression:"addUpViewDialog"}},[i("addView",{ref:"addView",attrs:{IntargetModuleId:t.IntargetModuleId},on:{childBindAdd:t.closeDialog}})],1):t._e(),t._v(" "),t.addDownViewDialog?i("el-dialog",{attrs:{title:"添加下级模型",size:"small"},on:{close:t.addClose},model:{value:t.addDownViewDialog,callback:function(e){t.addDownViewDialog=e},expression:"addDownViewDialog"}},[i("addView",{ref:"addView",attrs:{InsourceModuleId:t.InsourceModuleId},on:{childBindAdd:t.closeDialog}})],1):t._e()],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{display:"inline"}},[i("div",{staticStyle:{float:"left"},attrs:{id:"syscircle"}}),i("span",{staticStyle:{float:"left","font-size":"12px"}},[t._v("系统内置关系")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{display:"inline"}},[i("div",{staticStyle:{float:"left"},attrs:{id:"norcircle"}}),i("span",{staticStyle:{float:"left","font-size":"12px"}},[t._v("非系统内置关系")])])}]}},,function(t,e,i){var n=i(179);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("bfcac83a",n,!0)},,,,,,function(t,e,i){var n=i(185);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("3dcb4d0e",n,!0)},,function(t,e,i){"use strict";e.__esModule=!0;var n=i(253),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t,e,i){return e in t?(0,r.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e,i){!function(t){t(i(99))}(function(t){function e(t,e,i){var n,r=t.getWrapperElement();return n=r.appendChild(document.createElement("div")),n.className=i?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof e?n.innerHTML=e:n.appendChild(e),n}function i(t,e){t.state.currentNotificationClose&&t.state.currentNotificationClose(),t.state.currentNotificationClose=e}t.defineExtension("openDialog",function(n,r,o){function l(t){if("string"==typeof t)f.value=t;else{if(u)return;u=!0,s.parentNode.removeChild(s),c.focus(),o.onClose&&o.onClose(s)}}o||(o={}),i(this,null);var a,s=e(this,n,o.bottom),u=!1,c=this,f=s.getElementsByTagName("input")[0];return f?(f.focus(),o.value&&(f.value=o.value,!1!==o.selectValueOnOpen&&f.select()),o.onInput&&t.on(f,"input",function(t){o.onInput(t,f.value,l)}),o.onKeyUp&&t.on(f,"keyup",function(t){o.onKeyUp(t,f.value,l)}),t.on(f,"keydown",function(e){o&&o.onKeyDown&&o.onKeyDown(e,f.value,l)||((27==e.keyCode||!1!==o.closeOnEnter&&13==e.keyCode)&&(f.blur(),t.e_stop(e),l()),13==e.keyCode&&r(f.value,e))}),!1!==o.closeOnBlur&&t.on(f,"blur",l)):(a=s.getElementsByTagName("button")[0])&&(t.on(a,"click",function(){l(),c.focus()}),!1!==o.closeOnBlur&&t.on(a,"blur",l),a.focus()),l}),t.defineExtension("openConfirm",function(n,r,o){function l(){u||(u=!0,a.parentNode.removeChild(a),c.focus())}i(this,null);var a=e(this,n,o&&o.bottom),s=a.getElementsByTagName("button"),u=!1,c=this,f=1;s[0].focus();for(var d=0;d<s.length;++d){var h=s[d];!function(e){t.on(h,"click",function(i){t.e_preventDefault(i),l(),e&&e(c)})}(r[d]),t.on(h,"blur",function(){--f,setTimeout(function(){f<=0&&l()},200)}),t.on(h,"focus",function(){++f})}}),t.defineExtension("openNotification",function(n,r){function o(){s||(s=!0,clearTimeout(l),a.parentNode.removeChild(a))}i(this,o);var l,a=e(this,n,r&&r.bottom),s=!1,u=r&&void 0!==r.duration?r.duration:5e3;return t.on(a,"click",function(e){t.e_preventDefault(e),o()}),u&&(l=setTimeout(o,u)),o})})},function(t,e,i){!function(t){t(i(99))}(function(t){function e(t,e,n){var r=t.getLineHandle(e.line),o=e.ch-1,s=n&&n.afterCursor;null==s&&(s=/(^| )cm-fat-cursor($| )/.test(t.getWrapperElement().className));var u=!s&&o>=0&&a[r.text.charAt(o)]||a[r.text.charAt(++o)];if(!u)return null;var c=">"==u.charAt(1)?1:-1;if(n&&n.strict&&c>0!=(o==e.ch))return null;var f=t.getTokenTypeAt(l(e.line,o+1)),d=i(t,l(e.line,o+(c>0?1:0)),c,f||null,n);return null==d?null:{from:l(e.line,o),to:d&&d.pos,match:d&&d.ch==u.charAt(0),forward:c>0}}function i(t,e,i,n,r){for(var o=r&&r.maxScanLineLength||1e4,s=r&&r.maxScanLines||1e3,u=[],c=r&&r.bracketRegex?r.bracketRegex:/[(){}[\]]/,f=i>0?Math.min(e.line+s,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-s),d=e.line;d!=f;d+=i){var h=t.getLine(d);if(h){var p=i>0?0:h.length-1,m=i>0?h.length:-1;if(!(h.length>o))for(d==e.line&&(p=e.ch-(i<0?1:0));p!=m;p+=i){var g=h.charAt(p);if(c.test(g)&&(void 0===n||t.getTokenTypeAt(l(d,p+1))==n)){var v=a[g];if(">"==v.charAt(1)==i>0)u.push(g);else{if(!u.length)return{pos:l(d,p),ch:g};u.pop()}}}}}return d-i!=(i>0?t.lastLine():t.firstLine())&&null}function n(t,i,n){for(var r=t.state.matchBrackets.maxHighlightLineLength||1e3,a=[],s=t.listSelections(),u=0;u<s.length;u++){var c=s[u].empty()&&e(t,s[u].head,n);if(c&&t.getLine(c.from.line).length<=r){var f=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(t.markText(c.from,l(c.from.line,c.from.ch+1),{className:f})),c.to&&t.getLine(c.to.line).length<=r&&a.push(t.markText(c.to,l(c.to.line,c.to.ch+1),{className:f}))}}if(a.length){o&&t.state.focused&&t.focus();var d=function(){t.operation(function(){for(var t=0;t<a.length;t++)a[t].clear()})};if(!i)return d;setTimeout(d,800)}}function r(t){t.operation(function(){s&&(s(),s=null),s=n(t,!1,t.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),l=t.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},s=null;t.defineOption("matchBrackets",!1,function(e,i,n){n&&n!=t.Init&&(e.off("cursorActivity",r),s&&(s(),s=null)),i&&(e.state.matchBrackets="object"==typeof i?i:{},e.on("cursorActivity",r))}),t.defineExtension("matchBrackets",function(){n(this,!0)}),t.defineExtension("findMatchingBracket",function(t,i,n){return(n||"boolean"==typeof i)&&(n?(n.strict=i,i=n):i=i?{strict:!0}:null),e(this,t,i)}),t.defineExtension("scanForBracket",function(t,e,n,r){return i(this,t,e,n,r)})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(92),r=i.n(n),o=i(99);i(301),e.default={props:{value:String,options:{type:Object,default:function(){return{mode:"text/javascript",lineNumbers:!0,lineWrapping:!0}}}},data:function(){return{skipNextChangeEvent:!1}},ready:function(){var t=this;this.editor=o.fromTextArea(this.$el,this.options),this.editor.setValue(this.value),this.editor.on("change",function(e){if(t.skipNextChangeEvent)return void(t.skipNextChangeEvent=!1);t.value=e.getValue(),t.$emit&&t.$emit("change",e.getValue())})},mounted:function(){var t=this;this.editor=o.fromTextArea(this.$el,this.options),this.editor.setValue(this.value),this.editor.on("change",function(e){if(t.skipNextChangeEvent)return void(t.skipNextChangeEvent=!1);t.$emit&&(t.$emit("change",e.getValue()),t.$emit("input",e.getValue()))})},watch:{value:function(t,e){if(t!==this.editor.getValue()){this.skipNextChangeEvent=!0;var i=this.editor.getScrollInfo();this.editor.setValue(t),this.editor.scrollTo(i.left,i.top)}},options:function(t,e){if("object"===(void 0===t?"undefined":r()(t)))for(var i in t)t.hasOwnProperty(i)&&this.editor.setOption(i,t[i])}},beforeDestroy:function(){this.editor&&this.editor.toTextArea()}}},,,,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,n){var r,o=i(211),l=i.n(o),a=i(90),s=i.n(a);e.default={data:function(){var e=this;return{formmodule:{parentId:"",name:"",code:"",iconurl:"",tag:""},defaultformmodule:{parentId:"",name:"",code:"",iconurl:""},moduleoptions:[],activeName:"sysicon",iconDialog:!1,syspage:{currPage:1,pageSize:27,total:0},cuspage:{currPage:1,pageSize:27,total:0},moduletags:[],inputVisible:!1,inputValue:"",beforeValue:"",sysicons:[],customicons:[],currSelectIcon:"",icondisplay:!1,formRules:{parentId:[{required:!0,message:"请选择模型所属分组",trigger:"change"}],name:[{required:!0,message:"请输入类型名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:function(e,i,n){t.ajax({url:"/cmdb/module/getModuleSelective",type:"POST",dataType:"json",data:{name:t.trim(i)}}).done(function(t){if(t.length>0)return n(new Error("抱歉，该类型名称已被占用!"));n()})},trigger:"blur"}],code:[{required:!0,message:"请输入类型编号",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:function(e,i,n){if(!/^[a-zA-Z]+.*$/.test(t.trim(i)))return n(new Error("编号首字符必须为字母"));t.ajax({url:"/cmdb/module/getModuleSelective",type:"POST",dataType:"json",data:{code:t.trim(i)}}).done(function(t){if(t.length>0)return n(new Error("抱歉，该类型编号已被占用!"));n()})},trigger:"blur"}],iconurl:[{validator:function(t,i,n){if(""==e.formmodule.iconurl)return n(new Error("请选择图标！"));n()},trigger:"change"}]},activeIcon:"",btn_active:!1}},mounted:function(){this.getParentModule()},methods:(r={onSubmit:function(){console.log("submit!")},getParentModule:function(){t.ajax({url:"/cmdb/module/getModule/",type:"POST",dataType:"json"}).done(function(t){this.moduleoptions=t}.bind(this))},selectIcon:function(){this.iconDialog=!0,this.getSysIcons(),this.getCustomIcons()},getSysIcons:function(){t.ajax({url:"/cmdb/icon/getIcons",type:"POST",data:{pageNumber:this.syspage.currPage,pageSize:this.syspage.pageSize,iconcategory:0},dataType:"json"}).done(function(t){this.sysicons=t.dataList,this.syspage.currPage=t.pageNo,this.syspage.total=t.total}.bind(this))},sysCurrentChange:function(t){this.syspage.currPage=t,this.getSysIcons()},cusCurrentChange:function(t){this.cuspage.currPage=t,this.getCustomIcons()},getCustomIcons:function(){t.ajax({url:"/cmdb/icon/getIcons",type:"POST",data:{pageNumber:this.cuspage.currPage,pageSize:this.cuspage.pageSize,iconcategory:1},dataType:"json"}).done(function(t){this.customicons=t.dataList,this.cuspage.currPage=t.pageNo,this.cuspage.total=t.total}.bind(this))},handleCloseTag:function(t){this.moduletags.splice(this.moduletags.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var e=this.inputValue;return this.moduletags.length>0&&-1!=this.moduletags.indexOf(e)?void this.$notify({title:"提示",message:"标签名称已经存在",type:"warning",duration:3e3}):t.trim(e).length>20?void this.$notify({title:"提示",message:"标签名称必须小于20个字符",type:"warning",duration:3e3}):(e&&this.moduletags.push(e),this.inputVisible=!1,void(this.inputValue=""))},uploadError:function(t,e,i){this.$notify({title:"提示",message:"图标上传失败",type:"error",duration:3e3})},uploadSuccess:function(t,e,i){t.success?(this.getCustomIcons(),this.$notify({title:"提示",message:"图标上传成功",type:"success",duration:3e3})):this.$notify({title:"提示",message:"图标上传失败",type:"error",duration:3e3})},handleClick:function(){},iconClick:function(t){this.activeIcon=t.id,this.currSelectIcon=t.iconUrl,this.btn_active=!0},iconcommit:function(){this.formmodule.iconurl=this.currSelectIcon,this.iconDialog=!1,this.icondisplay=!0},iconCancel:function(){this.iconDialog=!1},iconDialogClose:function(){this.currSelectIcon="",this.syspage.currPage=1,this.cuspage.currPage=1,this.activeIcon=null,this.btn_active=!1}},l()(r,"onSubmit",function(t){var e=this,i={name:this.formmodule.name,code:this.formmodule.code,parentId:this.formmodule.parentId,iconurl:this.formmodule.iconurl,tags:this.moduletags};this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;n.ajax({url:"/cmdb/module/addModule",type:"POST",cache:!1,async:!0,traditional:!0,data:s()(i),contentType:"application/json; charset=utf-8",success:function(t,e){1==t.success?(this.$notify({title:"提示",message:"创建成功",type:"success",duration:3e3}),this.resetForm("formmodule"),this.$emit("addModuleData",[t.module])):this.$notify({title:"提示",message:t.message,type:"error",duration:3e3})}.bind(e),error:function(t,e,i){this.$notify({title:"提示",message:"添加失败",type:"error",duration:3e3})}.bind(e)})})}),l()(r,"resetForm",function(t){this.$refs[t].resetFields(),this.icondisplay=!1,this.currSelectIcon="",this.moduletags=[]}),r)}}.call(e,i(30),i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(92),r=i.n(n),o=i(90),l=i.n(o),a=i(307),s=(i.n(a),i(407)),u=i.n(s),c=i(319),f=i.n(c),d=i(334),h=i.n(d),p=i(335),m=i.n(p),g=i(331),v=i.n(g),b=i(330),y=i.n(b),x=i(332),w=i.n(x),k=i(328),_=i.n(k),q=i(327),C=i.n(q),A=i(323),S=i.n(A),O=i(324),T=i.n(O),E=i(326),M=i.n(E),L=i(322),D=i.n(L),P=i(321),N=i.n(P),I=i(336),j=i.n(I),F=i(329),R=i.n(F),z=i(333),B=i.n(z),H=i(320),W=i.n(H),U=i(325),$=i.n(U),V=i(192),Y=i.n(V),K=[{name:"属性分组",type:"groupLine",icon:"fa fa-clone"},{name:"单行文本",type:"singleRowText",icon:"fa fa-text-height"},{name:"多行文本",type:"multiRowText",icon:"fa fa-list"},{name:"富文本",type:"richText",icon:"fa fa-pencil-square-o"},{name:"下拉菜单",type:"listSel",icon:"fa fa-chevron-circle-down"},{name:"单选",type:"singleSel",icon:"fa fa-dot-circle-o"},{name:"多选",type:"multiSel",icon:"fa fa-check-square-o"},{name:"整数",type:"int",icon:"fa fa-align-justify"},{name:"小数",type:"double",icon:"fa fa-align-center"},{name:"附件",type:"file",icon:"fa fa-paperclip"},{name:"日期时间",type:"dateTime",icon:"fa fa-clock-o"},{name:"图片",type:"image",icon:"fa fa-picture-o"},{name:"表格",type:"table",icon:"fa fa-table"},{name:"级联选择",type:"cascader",icon:"fa fa-caret-square-o-down"}];i(262),i(265),i(264),i(263),i(259),i(257),i(300),i(256),i(255),i(302),i(261),i(213),i(254),i(212),i(299),i(178),i(258),i(260),e.default={name:"content",components:{draggable:u.a,codemirror:a.codemirror,FormWid:f.a,textField:h.a,textAreaField:m.a,selectField:v.a,richTextField:y.a,singleField:w.a,multiField:_.a,intField:C.a,doubleField:S.a,fileField:T.a,imageField:M.a,dateTimeField:D.a,dateField:N.a,userField:j.a,referField:R.a,tableField:B.a,cascaderField:W.a,groupField:$.a,ModuleRelation:Y.a},props:["emid","amid","mdouleisbuiltin"],data:function(){return{activeName:"modelattr",form:{data:[],value:""},isDisnone:!1,list:K.map(function(t,e){return{name:K[e].name,type:K[e].type,icon:K[e].icon,fixed:!1,order:e+1}}),list2:[],editable:!0,isDragging:!1,delayedDragging:!1,scriptDialog:!1,btn_submit_loading:!1,currentIndex:"",editIndex:"",editFlg:"",currentDialog:"",ChildForm:"",list2Data:{},list2Script:{},listTemp:[],c_mid:"",p_mid:"",isbuiltin:"",form_flag:!1,textDialog:!1,textAreaDialog:!1,selectDialog:!1,richTextDialog:!1,singleDialog:!1,multiDialog:!1,intDialog:!1,doubleDialog:!1,fileDialog:!1,imageDialog:!1,dateTimeDialog:!1,dateDialog:!1,userDialog:!1,referDialog:!1,tableDialog:!1,cascaderDialog:!1,groupDialog:!1,textChildForm:null,textAreaChildForm:null,richTextChildForm:null,selectChildForm:null,singleChildForm:null,multiChildForm:null,intChildForm:null,doubleChildForm:null,fileChildForm:null,imageChildForm:null,dateTimeChildForm:null,dateChildForm:null,userChildForm:null,referChildForm:null,tableChildForm:null,cascaderChildForm:null,groupChildForm:null,scriptType:[{name:"Python",value:"python"},{name:"Shell",value:"shell"}],tags:[],formScript:{tag:"",language:"",script:""},defaultFormScript:{tag:"",language:"",script:""},formScriptRule:{tag:[{required:!0,message:"请选择标签",trigger:"change"}],language:[{required:!0,message:"请选择脚本类型",trigger:"change"}],script:[{required:!0,message:"请输入脚本内容",trigger:"blur"}]},code:"#/usr/bin/python",editorOption:{tabSize:4,lineNumbers:!0,mode:"text/x-python",theme:"base16-dark",styleActiveLine:!0,autoCloseBrackets:!0,extraKeys:{"Ctrl-Space":"autocomplete"}}}},mounted:function(){this.$watch("emid",function(t,e){this.c_mid=this.emid,this.p_mid=this.emid,this.isDisnone=!1,this.activeName="modelattr",this.getModuleTags(this.emid)}),this.$watch("amid",function(t,e){this.c_mid=this.amid,this.p_mid=this.amid,this.btn_edit(),this.isDisnone=!0,this.getModuleTags(this.amid)}),this.$watch("mdouleisbuiltin",function(t,e){this.isbuiltin=this.mdouleisbuiltin}),this.$watch("activeName",function(e,i){"modelattr"==this.activeName?t("#eidt").css("display","block"):t("#eidt").css("display","none")},{deep:!0}),this.$watch("isDisnone",function(t,e){0==t&&this.getFormWidget(this.c_mid)})},created:function(){var t=this;this.$root.Bus.$on("flushForm",function(e){t.getModuleTags(e)})},methods:{handleClick:function(t){"modelattr"==t.$props.name?this.isDisnone=!1:this.isDisnone=!0},orderList:function(){this.list=this.list.sort(function(t,e){return t.order-e.order})},onAdd:function(t){"singleRowText"==this.list[t.oldIndex].type?this.textDialog=!0:"multiRowText"==this.list[t.oldIndex].type?this.textAreaDialog=!0:"listSel"==this.list[t.oldIndex].type?this.selectDialog=!0:"richText"==this.list[t.oldIndex].type?this.richTextDialog=!0:"singleSel"==this.list[t.oldIndex].type?this.singleDialog=!0:"multiSel"==this.list[t.oldIndex].type?this.multiDialog=!0:"int"==this.list[t.oldIndex].type?this.intDialog=!0:"double"==this.list[t.oldIndex].type?this.doubleDialog=!0:"file"==this.list[t.oldIndex].type?this.fileDialog=!0:"image"==this.list[t.oldIndex].type?this.imageDialog=!0:"dateTime"==this.list[t.oldIndex].type?this.dateTimeDialog=!0:"date"==this.list[t.oldIndex].type?this.dateDialog=!0:"user"==this.list[t.oldIndex].type?this.userDialog=!0:"reference"==this.list[t.oldIndex].type?this.referDialog=!0:"table"==this.list[t.oldIndex].type?this.tableDialog=!0:"cascader"==this.list[t.oldIndex].type?this.cascaderDialog=!0:"groupLine"==this.list[t.oldIndex].type&&(this.groupDialog=!0),this.currentIndex=this.guid(),this.list2=this.objDeepCopy(this.list2),this.list2[t.newIndex].k_id=this.currentIndex,this.list2[t.newIndex].require=!1,this.list2[t.newIndex].defaultvalue="",this.list2[t.newIndex].keyattr=!1,this.list2[t.newIndex].builtin=!1,this.list2[t.newIndex].codeflag="",this.editIndex=""},onEnd:function(t){},deleteAttr:function(t){event.stopPropagation();for(var e=0;e<this.list2.length;e++)if(this.list2[e].k_id==t){this.list2.splice(e,1);break}delete this.list2Data[t],delete this.list2Script[t]},edit:function(t,e){var i=this.list2Data[t];this.editIndex=t,this.currentIndex=t,"singleRowText"==e?(this.textDialog=!0,this.textChildForm=JSON.parse(l()(i))):"multiRowText"==e?(this.textAreaDialog=!0,this.textAreaChildForm=JSON.parse(l()(i))):"listSel"==e?(this.selectDialog=!0,this.selectChildForm=JSON.parse(l()(i))):"richText"==e?(this.richTextDialog=!0,this.richTextChildForm=JSON.parse(l()(i))):"singleSel"==e?(this.singleDialog=!0,this.singleChildForm=JSON.parse(l()(i))):"multiSel"==e?(this.multiDialog=!0,this.multiChildForm=JSON.parse(l()(i))):"int"==e?(this.intDialog=!0,this.intChildForm=JSON.parse(l()(i))):"double"==e?(this.doubleDialog=!0,this.doubleChildForm=JSON.parse(l()(i))):"file"==e?(this.fileDialog=!0,this.fileChildForm=JSON.parse(l()(i))):"image"==e?(this.imageDialog=!0,this.imageChildForm=JSON.parse(l()(i))):"dateTime"==e?(this.dateTimeDialog=!0,this.dateTimeChildForm=JSON.parse(l()(i))):"date"==e?(this.dateDialog=!0,this.dateChildForm=JSON.parse(l()(i))):"user"==e?(this.userDialog=!0,this.userChildForm=JSON.parse(l()(i))):"reference"==e?(this.referDialog=!0,this.referChildForm=JSON.parse(l()(i))):"table"==e?(this.tableDialog=!0,this.tableChildForm=JSON.parse(l()(i))):"cascader"==e?(this.cascaderDialog=!0,this.cascaderChildForm=JSON.parse(l()(i))):"groupLine"==e&&(this.groupDialog=!0,this.groupChildForm=JSON.parse(l()(i)))},onMove:function(t){var e=t.relatedContext,i=t.draggedContext,n=e.element,r=i.element;return!(n&&n.fixed||r.fixed)},beforeClose:function(e){for(var i=null,n=null,r=0;r<this.list2.length;r++)if(this.list2[r].k_id==this.currentIndex){n=r,i=this.list2[r].type;break}var o="",l="";switch(i){case"singleRowText":o=this.$refs.textForm.formAttribute;break;case"multiRowText":o=this.$refs.textAreaForm.formAttribute;break;case"listSel":o=this.$refs.selectForm.formAttribute,o.defaultvalue="",l=o.params.options;for(var a=0;a<l.length;a++)if(1==l[a].isdefault){o.defaultvalue=l[a].name;break}break;case"richText":o=this.$refs.richTextForm.formAttribute;break;case"singleSel":o=this.$refs.singleForm.formAttribute,o.defaultvalue="",l=o.params.options;for(var s=0;s<l.length;s++)if(1==l[s].isdefault){o.defaultvalue=l[s].name;break}break;case"multiSel":o=this.$refs.multiForm.formAttribute,o.defaultvalue="",l=o.params.options;for(var u=0;u<l.length;u++)1==l[u].isdefault&&(""==o.defaultvalue?o.defaultvalue=o.defaultvalue+l[u].name:o.defaultvalue=o.defaultvalue+","+l[u].name);break;case"int":o=this.$refs.intForm.formAttribute;break;case"double":o=this.$refs.doubleForm.formAttribute;break;case"file":o=this.$refs.fileForm.formAttribute;break;case"image":o=this.$refs.imageForm.formAttribute;break;case"dateTime":o=this.$refs.dateTimeForm.formAttribute;break;case"date":o=this.$refs.dateForm.formAttribute;break;case"user":o=this.$refs.userForm.formAttribute;break;case"reference":o=this.$refs.referForm.formAttribute;break;case"table":o=this.$refs.tableForm.formAttribute;break;case"cascader":o=this.$refs.cascaderForm.formAttribute;break;case"groupLine":o=this.$refs.groupForm.formAttribute}this.list2[n].name=t.trim(o.name),1==o.required?this.list2[n].require=!0:this.list2[n].require=!1,1==o.keyattr?this.list2[n].keyattr=!0:this.list2[n].keyattr=!1,this.list2[n].defaultvalue=o.defaultvalue,this.list2[n].codeflag=o.code;var c=this.currentIndex;this.list2Data[c]=this.objDeepCopy(o),e(),this.resetDialog(i)},resetDialog:function(t){switch(t){case"singleRowText":this.$refs.textForm.setDefault();break;case"multiRowText":this.$refs.textAreaForm.setDefault();break;case"listSel":this.$refs.selectForm.setDefault();break;case"richText":this.$refs.richTextForm.setDefault();break;case"singleSel":this.$refs.singleForm.setDefault();break;case"multiSel":this.$refs.multiForm.setDefault();break;case"int":this.$refs.intForm.setDefault();break;case"double":this.$refs.doubleForm.setDefault();break;case"file":this.$refs.fileForm.setDefault();break;case"image":this.$refs.imageForm.setDefault();break;case"dateTime":this.$refs.dateTimeForm.setDefault();break;case"date":this.$refs.dateForm.setDefault();break;case"user":this.$refs.userForm.setDefault();break;case"reference":this.$refs.referForm.setDefault();break;case"table":this.$refs.tableForm.setDefault();break;case"cascader":this.$refs.cascaderForm.setDefault();break;case"groupLine":this.$refs.groupForm.setDefault()}},deepCopy:function(t){var e={};for(var i in t)e[i]="object"===r()(t[i])?this.deepCoyp(t[i]):t[i];return e},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===r()(t[i])?this.objDeepCopy(t[i]):t[i];return e},guid:function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},getFormWidget:function(e){t.ajax({url:"/cmdb/form/getForms",type:"POST",data:{id:e},dataType:"json"}).done(function(t){this.list2Data={},this.list2=[],this.list2Script={},this.editFormWidget(t)}.bind(this))},editFormWidget:function(t){if(void 0!=t.formData)for(var e=t.formData,i=0;i<e.length;i++){var n={name:e[i].name,type:e[i].type,order:i+1,k_id:e[i].id,require:"true"==e[i].required,defaultvalue:null==e[i].defaultvalue?"":e[i].defaultvalue,keyattr:"true"==e[i].keyattr,builtin:"true"==e[i].builtin,codeflag:e[i].code};this.list2.push(n);var r={id:e[i].id,name:e[i].name,type:e[i].type,code:e[i].code,defaultvalue:e[i].defaultvalue,keyattr:"true"==e[i].keyattr,required:"true"==e[i].required,hidden:"true"==e[i].hidden,builtin:"true"==e[i].builtin,rate:e[i].rate};if("multiRowText"==e[i].type||"dateTime"==e[i].type||"singleRowText"==e[i].type||"double"==e[i].type||"int"==e[i].type){for(var o=e[i].formParams,l={},a=0;a<o.length;a++){var s=o[a].key;l[s]="formatDate"==s?"true"==o[a].value:o[a].value}r.params=l}else if("singleSel"==e[i].type||"multiSel"==e[i].type||"listSel"==e[i].type||"listSel"==e[i].type){var u=e[i].formOptions,c={};c.options=u,r.params=c}else if("table"==e[i].type){var f=e[i].formFields,d={};d.fields=f,r.params=d}else if("cascader"==e[i].type){var h={};h.options=t.cssops[e[i].id],r.params=h}this.list2Data[e[i].id]=r,this.list2Script[e[i].id]=e[i].formScript}},btn_edit:function(){this.isDisnone=!0,this.getFormWidget(this.c_mid)},btn_cancel:function(){var t=this;this.$confirm("是否确认取消？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.isDisnone=!t.isDisnone}).catch(function(){t.$notify({title:"提示",message:"已取消退出",type:"info",duration:3e3})})},btn_submit:function(){this.form_flag=!1;var e=[];if(1==this.valid()){this.btn_submit_loading=!0;for(var i=0;i<this.list2.length;i++){var n=this.list2[i].k_id;this.list2Data[n].sortindex=e.length+1,this.list2Data[n].script=this.list2Script[n],e.push(this.list2Data[n])}var r={mid:this.p_mid,forms:e};t.ajax({url:"/cmdb/form/updateForm",type:"POST",cache:!1,async:!0,dataType:"json",contentType:"application/json; charset=utf-8",data:l()(r),success:function(t){this.btn_submit_loading=!1,1==t.success?(this.$notify({title:"提示",message:"保存成功!",type:"success",duration:3e3}),this.isDisnone=!1,this.c_mid=this.p_mid,this.form_flag=!0):this.$notify({title:"提示",message:t.message,type:"error",duration:3e3})}.bind(this),error:function(t,e,i){this.btn_submit_loading=!1,this.$notify({title:"提示",message:"保存失败",type:"error",duration:3e3})}.bind(this)})}},valid:function(){var t="";for(var e in this.list2Data){var i=this.list2Data[e],n=i.type,r=this.get_allCode(e);switch(n){case"singleRowText":t=this.textValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"multiRowText":t=this.textAreaValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"listSel":t=this.listValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"richText":t=this.richValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"singleSel":t=this.singleValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"multiSel":t=this.multiValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"int":t=this.intValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"double":t=this.doubleValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"file":t=this.fileValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"image":t=this.imageValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"dateTime":case"date":t=this.dateValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"user":t=this.userValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"table":t=this.tableValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"cascader":t=this.cascaderValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}));break;case"groupLine":t=this.groupValid(i,r),1!=t&&(this.edit(e,n),this.$notify({title:"提示",message:t,type:"warning",duration:3e3}))}if(1!=t)break}return t},get_allCode:function(t){var e=this.list2Data,i=[];for(var n in e)n!=t&&i.push(e[n].code);return i},handleOrder:function(){return tmpArray},addScript:function(t){event.stopPropagation(),this.editIndex=t,void 0!=this.list2Script[t]?this.formScript=this.list2Script[t]:this.formScript=JSON.parse(l()(this.defaultFormScript)),this.scriptDialog=!0},getModuleTags:function(e){t.ajax({url:"/cmdb/module/getModuleTags",type:"POST",dataType:"json",data:{moduleId:e}}).done(function(t){this.tags=t}.bind(this))},btn_script_submit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var i=e.editIndex;e.list2Script[i]=JSON.parse(l()(e.formScript)),e.scriptDialog=!1})},script_close:function(t){this.scriptDialog=!1},scriptTypeChange:function(t){"python"==t?this.editorOption.mode="text/x-python":"shell"==t&&(this.editorOption.mode="text/x-sh")},scriptDialogOpen:function(){this.getModuleTags(this.p_mid)},yourCodeChangeMethod:function(t){this.formScript.script=t},flush_form:function(){this.isDisnone=!1,this.activeName="modelattr"},textValid:function(e,i){return t.trim(e.name).length<1||t.trim(e.name).length>16?"名称必须大于1个字符，小于16个字符":t.trim(e.code).length<1||t.trim(e.code).length>16?"编码必须大于1个字符，小于16个字符":/^[a-zA-Z_0-9]+$/.test(e.code)?-1!=i.indexOf(e.code)?"该编码已被占用!":e.params.minLength>e.params.maxLength?"最小长度必须小与最大长度!":!(t.trim(e.defaultvalue).length>e.params.maxLength)||"默认值必须小于最大长度":"编码只可输入字母、数字、下划线"},textAreaValid:function(e,i){return t.trim(e.name).length<1||t.trim(e.name).length>16?"名称必须大于1个字符，小于16个字符":t.trim(e.code).length<1||t.trim(e.code).length>16?"编码必须大于1个字符，小于16个字符":/^[a-zA-Z_0-9]+$/.test(e.code)?-1!=i.indexOf(e.code)?"该编码已被占用!":e.params.minLength>e.params.maxLength?"最小长度必须小与最大长度!":!(t.trim(e.defaultvalue).length>e.params.maxLength)||"默认值必须小于最大长度":"编码只可输入字母、数字、下划线"},userValid:function(e,i){return t.trim(e.name).length<1||t.trim(e.name).length>16?"名称必须大于1个字符，小于16个字符":t.trim(e.code).length<1||t.trim(e.code).length>16?"编码必须大于1个字符，小于16个字符":/^[a-zA-Z_0-9]+$/.test(e.code)?-1==i.indexOf(e.code)||"该编码已被占用!":"编码只可输入字母、数字、下划线"},tableValid:function(e,i){if(t.trim(e.name).length<1||t.trim(e.name).length>16)return"名称必须大于1个字符，小于16个字符";if(t.trim(e.code).length<1||t.trim(e.code).length>16)return"编码必须大于1个字符，小于16个字符";if(!/^[a-zA-Z_0-9]+$/.test(e.code))return"编码只可输入字母、数字、下划线";if(-1!=i.indexOf(e.code))return"该编码已被占用!";for(var n=e.params.fields,r=0;r<n.length;r++){if(""==t.trim(n[r].name))return"请填写列名信息";if(t.trim(n[r].name).length<1||t.trim(n[r].name).length>16)return"列名长度必须大于1小于16"}return!0},singleValid:function(e,i){if(t.trim(e.name).length<1||t.trim(e.name).length>16)return"名称必须大于1个字符，小于16个字符";if(t.trim(e.code).length<1||t.trim(e.code).length>16)return"编码必须大于1个字符，小于16个字符";if(!/^[a-zA-Z_0-9]+$/.test(e.code))return"编码只可输入字母、数字、下划线";if(-1!=i.indexOf(e.code))return"该编码已被占用!";for(var n=e.params.options,r=0;r<n.length;r++){if(""==t.trim(n[r].name))return"请填写选项名称";if(""==t.trim(n[r].value))return"请填写选项值";if(t.trim(n[r].name).length<1||t.trim(n[r].name).length>16)return"选项名称长度必须大于1小于16";if(t.trim(n[r].value).length<1||t.trim(n[r].value).length>16)return"选项值长度必须大于1小于16"}return!0},listValid:function(e,i){if(t.trim(e.name).length<1||t.trim(e.name).length>16)return"名称必须大于1个字符，小于16个字符";if(t.trim(e.code).length<1||t.trim(e.code).length>16)return"编码必须大于1个字符，小于16个字符";if(!/^[a-zA-Z_0-9]+$/.test(e.code))return"编码只可输入字母、数字、下划线";if(-1!=i.indexOf(e.code))return"该编码已被占用!";for(var n=e.params.options,r=0;r<n.length;r++){if(""==t.trim(n[r].name))return"请填写选项名称";if(""==t.trim(n[r].value))return"请填写选项值";if(t.trim(n[r].name).length<1||t.trim(n[r].name).length>16)return"选项名称长度必须大于1小于16";if(t.trim(n[r].value).length<1||t.trim(n[r].value).length>16)return"选项值长度必须大于1小于16"}return!0},richValid:function(e,i){return t.trim(e.name).length<1||t.trim(e.name).length>16?"名称必须大于1个字符，小于16个字符":t.trim(e.code).length<1||t.trim(e.code).length>16?"编码必须大于1个字符，小于16个字符":/^[a-zA-Z_0-9]+$/.test(e.code)?-1==i.indexOf(e.code)||"该编码已被占用!":"编码只可输入字母、数字、下划线"},multiValid:function(e,i){if(t.trim(e.name).length<1||t.trim(e.name).length>16)return"名称必须大于1个字符，小于16个字符";if(t.trim(e.code).length<1||t.trim(e.code).length>16)return"编码必须大于1个字符，小于16个字符";if(!/^[a-zA-Z_0-9]+$/.test(e.code))return"编码只可输入字母、数字、下划线";if(-1!=i.indexOf(e.code))return"该编码已被占用!";for(var n=e.params.options,r=0;r<n.length;r++){if(""==t.trim(n[r].name))return"请填写选项名称";if(""==t.trim(n[r].value))return"请填写选项值";if(t.trim(n[r].name).length<1||t.trim(n[r].name).length>16)return"选项名称长度必须大于1小于16";if(t.trim(n[r].value).length<1||t.trim(n[r].value).length>16)return"选项值长度必须大于1小于16"}return!0},intValid:function(e,i){if(t.trim(e.name).length<1||t.trim(e.name).length>16)return"名称必须大于1个字符，小于16个字符";if(t.trim(e.code).length<1||t.trim(e.code).length>16)return"编码必须大于1个字符，小于16个字符";if(!/^[a-zA-Z_0-9]+$/.test(e.code))return"编码只可输入字母、数字、下划线";if(-1!=i.indexOf(e.code))return"该编码已被占用!";var n=/^-?\d+$/;return""==t.trim(e.defaultvalue)||n.test(e.defaultvalue)?e.params.min>e.params.max?"最小值必须小与最大值!":!(parseInt(t.trim(e.defaultvalue))>e.params.max)||"默认值必须小于最大值":"整数的默认值必须为整数!"},groupValid:function(e,i){return""==t.trim(e.name)?"名称必须填写":!(t.trim(e.name).length<1||t.trim(e.name).length>16)||"分组名称必须大于1个字符，小于16个字符"},fileValid:function(e,i){return t.trim(e.name).length<1||t.trim(e.name).length>16?"名称必须大于1个字符，小于16个字符":t.trim(e.code).length<1||t.trim(e.code).length>16?"编码必须大于1个字符，小于16个字符":/^[a-zA-Z_0-9]+$/.test(e.code)?-1==i.indexOf(e.code)||"该编码已被占用!":"编码只可输入字母、数字、下划线"},imageValid:function(e,i){return t.trim(e.name).length<1||t.trim(e.name).length>16?"名称必须大于1个字符，小于16个字符":t.trim(e.code).length<1||t.trim(e.code).length>16?"编码必须大于1个字符，小于16个字符":/^[a-zA-Z_0-9]+$/.test(e.code)?-1==i.indexOf(e.code)||"该编码已被占用!":"编码只可输入字母、数字、下划线"},doubleValid:function(e,i){if(t.trim(e.name).length<1||t.trim(e.name).length>16)return"名称必须大于1个字符，小于16个字符";if(t.trim(e.code).length<1||t.trim(e.code).length>16)return"编码必须大于1个字符，小于16个字符";var n=/^[a-zA-Z_0-9]+$/;if(!n.test(e.code))return"编码只可输入字母、数字、下划线";if(-1!=i.indexOf(e.code))return"该编码已被占用!";if(e.params.min>e.params.max)return"最小值必须小与最大值!";var n=new RegExp("^-?\\d+\\.?\\d{0,"+parseInt(e.params.precision)+"}$");return""==t.trim(e.defaultvalue)||n.test(t.trim(e.defaultvalue))?!(parseInt(t.trim(e.defaultvalue))>e.params.max)||"默认值必须小于最大值":"默认值必须是有效的数,且至少保留"+e.params.precision+"位小数!"},dateValid:function(e,i){return t.trim(e.name).length<1||t.trim(e.name).length>16?"名称必须大于1个字符，小于16个字符":t.trim(e.code).length<1||t.trim(e.code).length>16?"编码必须大于1个字符，小于16个字符":/^[a-zA-Z_0-9]+$/.test(e.code)?-1==i.indexOf(e.code)||"该编码已被占用!":"编码只可输入字母、数字、下划线"},cascaderValid:function(e,i){if(t.trim(e.name).length<1||t.trim(e.name).length>16)return"名称必须大于1个字符，小于16个字符";if(t.trim(e.code).length<1||t.trim(e.code).length>16)return"编码必须大于1个字符，小于16个字符";if(!/^[a-zA-Z_0-9]+$/.test(e.code))return"编码只可输入字母、数字、下划线";if(-1!=i.indexOf(e.code))return"该编码已被占用!";for(var n=e.params.options,r=0;r<n.length;r++){if(""==t.trim(n[r].name))return"请填写选项名称";if(""==t.trim(n[r].value))return"请填写选项值";if(t.trim(n[r].name).length<1||t.trim(n[r].name).length>16)return"选项名称长度必须大于1小于16";if(t.trim(n[r].value).length<1||t.trim(n[r].value).length>16)return"选项值长度必须大于1小于16";if(void 0!=n[r].children)for(var o=n[r].children,l=0;l<o.length;l++){if(""==t.trim(o[l].name))return"请填写选项名称";if(""==t.trim(o[l].value))return"请填写选项值";if(t.trim(o[l].name).length<1||t.trim(o[l].name).length>16)return"选项名称长度必须大于1小于16";if(t.trim(o[l].value).length<1||t.trim(o[l].value).length>16)return"选项值长度必须大于1小于16";if(void 0!=o[l].children)for(var a=o[l].children,s=0;s<a.length;s++){if(""==t.trim(a[s].name))return"请填写选项名称";if(""==t.trim(a[s].value))return"请填写选项值";if(t.trim(a[s].name).length<1||t.trim(a[s].name).length>16)return"选项名称长度必须大于1小于16";if(t.trim(a[s].value).length<1||t.trim(a[s].value).length>16)return"选项值长度必须大于1小于16"}}}return!0}},computed:{dragOptions3:function(){return{animation:0,group:{name:"mjy",pull:"true"},disabled:!this.editable,ghostClass:"ghost"}},dragOptions4:function(){return{animation:0,group:{name:"mjy",pull:"clone",put:"false"},disabled:!this.editable,ghostClass:"ghost",sort:!1}}},watch:{isDragging:function(t){var e=this;if(t)return void(this.delayedDragging=!0);this.$nextTick(function(){e.delayedDragging=!1})}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(92),r=i.n(n),o=i(90),l=i.n(o),a=i(129);i.n(a);e.default={components:{VueEditor:a.VueEditor},props:["mid","flag"],data:function(){return{formData:[],rediovlaue:"",tableData3:[{id:1,col1:"",col2:"",col3:""},{id:2,col1:"",col2:"",col3:""}],input:"",tableCol:[],currentRow:null,userOptions:[],cascaderOptions:null,prop:{value:"name",label:"name",children:"children"}}},mounted:function(){},watch:{mid:function(t,e){this.formData=[],this.getFormWidget(this.mid)},flag:function(t,e){this.formData=[],this.getFormWidget(this.mid)}},methods:{onSubmit:function(){console.log("submit!")},getFormWidget:function(e){t.ajax({url:"/cmdb/form/getForms",type:"POST",data:{id:e},dataType:"json"}).done(function(t){void 0!=t.formData&&(this.cascaderOptions=t.cssops,this.parseData(t.formData))}.bind(this))},handleTableData:function(t){for(var e=0;e<t.length;e++)if("table"==t[e].type)for(var i=t[e].formFields,n=0;n<i.length;n++)this.tableCol.push(i.key)},handleCommand:function(t){if("add_row"==t){var e={id:this.uuid(),col1:"",col2:"",col3:""};this.tableData3.push(e)}else{console.log("当前删除行:"+this.currentRow.id);for(var i=0;i<this.tableData3.length;i++)if(this.tableData3[i].id==this.currentRow.id){this.tableData3.splice(i,1);break}}},uuid:function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},handleCurrentChange:function(t){console.log("当前行："+l()(t)),this.currentRow=t},getUserOptions:function(){},parseData:function(t){for(var e=0;e<t.length;e++)if("multiSel"==t[e].type){for(var i={moduleid:t[e].moduleid,name:t[e].name,code:t[e].code,type:t[e].type,defaultvalue:t[e].value,required:"true"==t[e].required,hidden:"true"==t[e].hidden,keyattr:"true"==t[e].keyattr,rate:t[e].rate,unit:t[e].unit,sortindex:t[e].sortindex},n=t[e].formOptions,r=[],o=[],a=0;a<n.length;a++)r.push(n[a].name),"true"==n[a].isdefault&&o.push(n[a].name);i.options=r,i.selectoptions=o,this.formData.push(i)}else if("singleSel"==t[e].type){for(var i={moduleid:t[e].moduleid,name:t[e].name,code:t[e].code,type:t[e].type,defaultvalue:t[e].value,required:"true"==t[e].required,hidden:"true"==t[e].hidden,keyattr:"true"==t[e].keyattr,rate:t[e].rate,unit:t[e].unit,sortindex:t[e].sortindex,formOptions:t[e].formOptions},s=t[e].formOptions,a=0;a<s.length;a++)if("true"==s[a].isdefault){i.defaultvalue=s[a].name;break}this.formData.push(i)}else{t[e].required="true"==t[e].required,t[e].hidden="true"==t[e].hidden,t[e].keyattr="true"==t[e].keyattr,t[e].builtin="true"==t[e].builtin;var u=JSON.parse(l()(t[e]));this.formData.push(u)}this.deleteEmptyProperty(this.cascaderOptions)},isEmpty:function(t){for(var e in t)return!1;return!0},deleteEmptyProperty:function(t){for(var e in t){var i=t[e];if("object"===(void 0===i?"undefined":r()(i))){if(Array.isArray(i)&&0==i.length){delete t[e];continue}this.deleteEmptyProperty(i),this.isEmpty(i)&&delete t[e]}else""!==i&&null!==i&&void 0!==i||delete t[e]}}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(92),r=i.n(n),o=i(90),l=i.n(o);e.default={name:"cascader",props:["cascaderChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"级联选择",code:"",defaultvalue:"",required:!1,params:{options:[{name:"",value:""},{name:"",value:""}]},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"cascader"},default:{name:"级联选择",code:"",defaultvalue:"",required:!1,params:{options:[{name:"",value:""}]},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"cascader"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}]}}},mounted:function(){null!=this.cascaderChildForm&&(this.formAttribute=this.parse(this.cascaderChildForm))},watch:{cascaderChildForm:{handler:function(t,e){console.log("cascader  change"),this.formAttribute=this.parse(this.cascaderChildForm)},deep:!0}},methods:{parse:function(t){return 1==t.keyattr?t.requiredDisable=!0:t.requiredDisable=!1,t},addOption:function(){this.formAttribute.params.options.push({default:!1,name:""})},deleteOption:function(t){if(1==this.formAttribute.params.options.length)return this.$notify({title:"提示",message:"下拉列表至少包含一个选项",type:"error",duration:3e3}),!1;this.formAttribute.params.options.splice(t,1)},deleteOption2:function(t,e){this.formAttribute.params.options[t].children.splice(e,1)},deleteOption3:function(t,e,i){this.formAttribute.params.options[t].children[e].children.splice(i,1)},addChildOption:function(t){void 0==this.formAttribute.params.options[t].children?this.$set(this.formAttribute.params.options[t],"children",[{name:""}]):this.formAttribute.params.options[t].children.push({name:""}),console.log(l()(this.formAttribute.params.options))},addChild2Option:function(t,e){void 0==this.formAttribute.params.options[t].children[e].children?this.$set(this.formAttribute.params.options[t].children[e],"children",[{name:""}]):this.formAttribute.params.options[t].children[e].children.push({name:""}),console.log(l()(this.formAttribute.params.options))},check:function(t){for(var e=0;e<this.formAttribute.params.options.length;e++)e!=t&&(this.formAttribute.params.options[e].default=!1)},keyattrClick:function(){1==this.formAttribute.keyattr?(this.formAttribute.required=!0,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!0):(this.formAttribute.required=!1,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!1)},requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},checkOptionName:function(t,e,i){var n=t.field.replace(/[^0-9]/gi,""),r=(this.formAttribute.params.options,this.formAttribute.params.options[n]);if(""==r.value)return i(new Error("请填写选项值!"));if(void 0!=r.children)for(var o=r.children,l=0;l<o.length;l++){if(""==o[l].name||""==o[l].value)return i(new Error("请填写选项信息!"));if(void 0!=o[l].children)for(var a=o[l].children,s=0;s<a.length;s++)if(""==a[s].name||""==a.value)return i(new Error("请填写选项信息!"))}i()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===r()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(l()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(90),r=i.n(n),o=i(92),l=i.n(o);e.default={name:"datetime",props:["dateTimeChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"日期",code:"",defaultvalue:"",required:!1,hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"date"},default:{name:"",code:"",defaultvalue:"",required:!1,hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"date"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}]}}},mounted:function(){null!=this.dateTimeChildForm&&(this.formAttribute=this.parse(this.dateTimeChildForm)),this.$watch("dateTimeChildForm",function(t,e){console.log("---dateTimeChildForm"),this.formAttribute=this.parse(this.dateTimeChildForm)},{deep:!0})},methods:{parse:function(t){return 1==t.keyattr?t.requiredDisable=!0:t.requiredDisable=!1,t},dateChange:function(t){this.formAttribute.defaultvalue=t},keyattrClick:function(){1==this.formAttribute.keyattr?(this.formAttribute.required=!0,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!0):(this.formAttribute.required=!1,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!1)},requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===l()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(r()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(92),r=i.n(n),o=i(90),l=i.n(o);e.default={name:"datetime",props:["dateTimeChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"时间",code:"",defaultvalue:"",required:!1,hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",params:{formatDate:!1},builtin:!1,type:"dateTime"},default:{name:"时间",code:"",defaultvalue:"",required:!1,hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",params:{formatDate:!1},builtin:!1,type:"dateTime"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}]}}},mounted:function(){null!=this.dateTimeChildForm&&(this.formAttribute=this.parse(this.dateTimeChildForm)),this.$watch("dateTimeChildForm",function(t,e){console.log("---dateTimeChildForm"),this.formAttribute=this.parse(this.dateTimeChildForm)},{deep:!0})},methods:{parse:function(t){return 1==t.keyattr?t.requiredDisable=!0:t.requiredDisable=!1,t},dateChange:function(t){this.formAttribute.defaultvalue=t},keyattrClick:function(){1==this.formAttribute.keyattr?(this.formAttribute.required=!0,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!0):(this.formAttribute.required=!1,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!1)},requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},onlyDateClick:function(){console.log(l()(this.formAttribute))},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===r()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(l()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(90),r=i.n(n),o=i(92),l=i.n(o);e.default={name:"double",props:["doubleChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"小数",code:"",defaultvalue:"",required:!1,unit:"",params:{precision:2,min:1,max:200},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"double"},default:{name:"小数",code:"",defaultvalue:"",required:!1,unit:"",params:{precision:2,min:1,max:200},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"double"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}],"params.max":[{validator:this.checkMax,trigger:"blur"}],defaultvalue:[{validator:this.checkDouble,trigger:"blur"}]}}},mounted:function(){null!=this.doubleChildForm&&(this.formAttribute=this.parse(this.doubleChildForm)),this.$watch("doubleChildForm",function(t,e){console.log("---double"),this.formAttribute=this.parse(this.doubleChildForm)},{deep:!0})},methods:{parse:function(t){return 1==t.keyattr?t.requiredDisable=!0:t.requiredDisable=!1,t},keyattrClick:function(){1==this.formAttribute.keyattr?(this.formAttribute.required=!0,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!0):(this.formAttribute.required=!1,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!1)},requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},checkMax:function(t,e,i){if(e<=this.formAttribute.params.min)return i(new Error("抱歉，最大值必须大于最小值!"));i()},checkDouble:function(e,i,n){var r=/^-?\d+\.\d+$/;if(""!=t.trim(i)&&!r.test(i))return n(new Error("抱歉，小数的默认值必须是数值!"));n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===l()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(r()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(90),r=i.n(n),o=i(92),l=i.n(o);e.default={name:"file",props:["fileChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"附件",code:"",defaultvalue:"",required:!1,hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"file"},default:{name:"附件",code:"",defaultvalue:"",required:!1,hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"file"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}]}}},mounted:function(){null!=this.fileChildForm&&(this.formAttribute=this.fileChildForm),this.$watch("fileChildForm",function(t,e){this.formAttribute=this.fileChildForm},{deep:!0})},methods:{requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===l()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(r()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(90),r=i.n(n);e.default={name:"group",props:["groupChildForm","Data","edit"],data:function(){return{formAttribute:{keyattr:!1,name:"属性分组",code:"group",defaultvalue:"",required:!1,hidden:!1,requiredDisable:!1,rate:"",builtin:!1,type:"groupLine"},default:{keyattr:!1,name:"属性分组",code:"group",defaultvalue:"",required:!1,hidden:!1,requiredDisable:!1,rate:"",builtin:!1,type:"groupLine"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}]}}},mounted:function(){null!=this.groupChildForm&&(this.formAttribute=this.groupChildForm),this.$watch("groupChildForm",function(t,e){this.formAttribute=this.groupChildForm},{deep:!0})},methods:{validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(r()(this.default))}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(90),r=i.n(n),o=i(92),l=i.n(o);e.default={name:"image",props:["imageChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"图片",code:"",defaultvalue:"",required:!1,hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"image"},default:{name:"图片",code:"",defaultvalue:"",required:!1,hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"image"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}]}}},mounted:function(){null!=this.imageChildForm&&(this.formAttribute=this.imageChildForm),this.$watch("imageChildForm",function(t,e){this.formAttribute=this.imageChildForm},{deep:!0})},methods:{requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===l()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(r()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(90),r=i.n(n),o=i(92),l=i.n(o);e.default={name:"int",props:["intChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"整数",code:"",defaultvalue:"",required:!1,unit:"",params:{min:1,max:200},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"int"},default:{name:"整数",code:"",defaultvalue:"",required:!1,unit:"",params:{min:1,max:200},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"int"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}],"params.max":[{validator:this.checkMax,trigger:"blur"}],defaultvalue:[{validator:this.checkInt,trigger:"blur"}]}}},mounted:function(){null!=this.intChildForm&&(this.formAttribute=this.parse(this.intChildForm)),this.$watch("intChildForm",function(t,e){console.log("---int"),this.formAttribute=this.parse(this.intChildForm)},{deep:!0})},methods:{parse:function(t){return 1==t.keyattr?t.requiredDisable=!0:t.requiredDisable=!1,t},keyattrClick:function(){1==this.formAttribute.keyattr?(this.formAttribute.required=!0,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!0):(this.formAttribute.required=!1,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!1)},requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},checkMax:function(t,e,i){if(e<=this.formAttribute.params.min)return i(new Error("抱歉，最大值必须大于最小值!"));i()},checkInt:function(e,i,n){var r=/^-?\d+$/;if(""!=t.trim(i)&&!r.test(i))return n(new Error("抱歉，整数的默认值必须为整数!"));n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===l()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(r()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(90),r=i.n(n),o=i(92),l=i.n(o);e.default={name:"multi",props:["multiChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"多选",code:"",defaultvalue:"",required:!1,params:{options:[{isdefault:!1,name:"多选1",value:""},{isdefault:!1,name:"多选2",value:""},{isdefault:!1,name:"多选3",value:""}]},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"multiSel"},default:{name:"多选",code:"",defaultvalue:"",required:!1,params:{options:[{isdefault:!1,name:"多选1",value:""},{isdefault:!1,name:"多选2",value:""},{isdefault:!1,name:"多选3",value:""}]},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"multiSel"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}]}}},mounted:function(){null!=this.multiChildForm&&(this.formAttribute=this.multiChildForm),this.$watch("multiChildForm",function(t,e){this.formAttribute=this.multiChildForm},{deep:!0})},methods:{addOptsion:function(){this.formAttribute.params.options.push({isdefault:!1,name:""})},deleteOption:function(t){if(1==this.formAttribute.params.options.length)return this.$notify({title:"提示",message:"多选至少包含一个选项",type:"error",duration:3e3}),!1;this.formAttribute.params.options.splice(t,1)},check:function(t){1==this.formAttribute.params.options[t].isdefault?this.formAttribute.params.options[t].isdefault=!1:this.formAttribute.params.options[t].isdefault=!0},requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},checkOptionName:function(e,i,n){var r=this.formAttribute.params.options,o=e.field.replace(/[^0-9]/gi,""),l=this.formAttribute.params.options[o].value;if(""==t.trim(l))return n(new Error("请填写选项值！"));for(var a=0;a<r.length;a++)if(a!=o){if(r[a].name==t.trim(i))return n(new Error("选项名称已存在"));if(l==r[a].value)return n(new Error("选项值已经存在！"))}n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===l()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(r()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(90),r=i.n(n),o=i(92),l=i.n(o);e.default={name:"refer",props:["referChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"",code:"",defaultvalue:"",required:!1,params:{refClassCode:""},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"reference"},default:{name:"",code:"",defaultvalue:"",required:!1,params:{refClassCode:""},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"reference"},options:[],top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}],"params.refClassCode":[{required:!0,message:"请选择关联模块",trigger:"change"}]}}},mounted:function(){null!=this.referChildForm&&(this.formAttribute=this.referChildForm),this.$watch("referChildForm",function(t,e){this.formAttribute=this.referChildForm},{deep:!0}),this.getModule()},methods:{getModule:function(){t.ajax({url:"/cmdb/module/getModule",type:"POST",dataType:"json"}).done(function(t){this.options=t}.bind(this))},requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===l()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(r()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(90),r=i.n(n),o=i(92),l=i.n(o);e.default={name:"richtext",props:["richTextChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"富文本",code:"",defaultvalue:"",required:!1,hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"richText"},default:{name:"富文本",code:"",defaultvalue:"",required:!1,hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"richText"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}]}}},mounted:function(){null!=this.richTextChildForm&&(this.formAttribute=this.richTextChildForm),this.$watch("richTextChildForm",function(t,e){this.formAttribute=this.richTextChildForm},{deep:!0})},methods:{requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===l()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(r()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(92),r=i.n(n),o=i(90),l=i.n(o);e.default={name:"select",props:["selectChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"下拉菜单",code:"",defaultvalue:"",required:!1,params:{options:[{isdefault:!1,name:"选项1",value:""},{isdefault:!1,name:"选项2",value:""},{isdefault:!1,name:"选项3",value:""}]},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"listSel"},default:{name:"下拉菜单",code:"",defaultvalue:"",required:!1,params:{options:[{isdefault:!1,name:"选项1",value:""},{isdefault:!1,name:"选项2",value:""},{isdefault:!1,name:"选项3",value:""},{isdefault:!1,name:"选项4",value:""},{isdefault:!1,name:"选项5",value:""},{isdefault:!1,name:"选项6",value:""}]},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"listSel"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}]}}},mounted:function(){null!=this.selectChildForm&&(this.formAttribute=this.parse(this.selectChildForm)),console.log(l()(this.formAttribute))},watch:{selectChildForm:{handler:function(t,e){this.formAttribute=this.parse(this.selectChildForm)},deep:!0}},methods:{parse:function(t){return 1==t.keyattr?t.requiredDisable=!0:t.requiredDisable=!1,t},addOption:function(){this.formAttribute.params.options.push({isdefault:!1,name:""})},deleteOption:function(t){if(1==this.formAttribute.params.options.length)return this.$notify({title:"提示",message:"下拉列表至少包含一个选项",type:"error",duration:3e3}),!1;this.formAttribute.params.options.splice(t,1)},check:function(t){console.log(t);for(var e=0;e<this.formAttribute.params.options.length;e++)e!=t&&(this.formAttribute.params.options[e].isdefault=!1)},keyattrClick:function(){1==this.formAttribute.keyattr?(this.formAttribute.required=!0,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!0):(this.formAttribute.required=!1,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!1)},requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},checkOptionName:function(e,i,n){var r=this.formAttribute.params.options,o=e.field.replace(/[^0-9]/gi,""),l=this.formAttribute.params.options[o].value;if(""==t.trim(l))return n(new Error("请填写选项值！"));for(var a=0;a<r.length;a++)if(a!=o){if(l==r[a].value)return n(new Error("选项值已经存在！"));if(r[a].name==t.trim(i))return n(new Error("选项名称已存在！"))}n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===r()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(l()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(90),r=i.n(n),o=i(92),l=i.n(o);e.default={name:"single",props:["singleChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"单选",code:"",defaultvalue:"",required:!1,params:{options:[{isdefault:!1,name:"单选1",value:""},{isdefault:!1,name:"单选2",value:""},{isdefault:!1,name:"单选3",value:""}]},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"singleSel"},default:{name:"单选",code:"",defaultvalue:"",required:!1,params:{options:[{isdefault:!1,name:"单选1",value:""},{isdefault:!1,name:"单选2",value:""},{isdefault:!1,name:"单选3",value:""}]},hidden:!1,keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"singleSel"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}]}}},mounted:function(){null!=this.singleChildForm&&(this.formAttribute=this.parse(this.singleChildForm)),this.$watch("singleChildForm",function(t,e){this.formAttribute=this.parse(this.singleChildForm)},{deep:!0})},methods:{parse:function(t){return 1==t.keyattr?t.requiredDisable=!0:t.requiredDisable=!1,t},addOption:function(){this.formAttribute.params.options.push({isdefault:!1,name:""})},deleteOption:function(t){if(1==this.formAttribute.params.options.length)return this.$notify({title:"提示",message:"单选至少包含一个选项",type:"error",duration:3e3}),!1;this.formAttribute.params.options.splice(t,1)},check:function(t){for(var e=0;e<this.formAttribute.params.options.length;e++)e!=t&&(this.formAttribute.params.options[e].isdefault=!1)},keyattrClick:function(){1==this.formAttribute.keyattr?(this.formAttribute.required=!0,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!0):(this.formAttribute.required=!1,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!1)},requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},checkOptionName:function(e,i,n){var r=this.formAttribute.params.options,o=e.field.replace(/[^0-9]/gi,""),l=this.formAttribute.params.options[o].value;if(""==t.trim(l))return n(new Error("请填写选项值！"));for(var a=0;a<r.length;a++)if(a!=o){if(r[a].name==t.trim(i))return n(new Error("选项名称已经存在！"));if(l==r[a].value)return n(new Error("选项值已经存在！"))}n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===l()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(r()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(92),r=i.n(n),o=i(90),l=i.n(o);e.default={name:"table",props:["tableChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"表格",code:"",defaultvalue:"",required:!1,hidden:!1,params:{fields:[{key:"col1",name:"列1"},{key:"col2",name:"列2"},{key:"col3",name:"列3"}]},keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"table"},default:{name:"表格",code:"",defaultvalue:"",required:!1,hidden:!1,params:{fields:[{key:"col1",name:"列1"},{key:"col2",name:"列2"}]},keyattr:!1,requiredDisable:!1,rate:"",builtin:!1,type:"table"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}]}}},mounted:function(){null!=this.tableChildForm&&(this.formAttribute=this.tableChildForm),this.$watch("tableChildForm",function(t,e){console.log(l()(this.tableChildForm)),this.formAttribute=this.tableChildForm},{deep:!0})},methods:{addOption:function(){var t=this.formAttribute.params.fields.length+1;this.formAttribute.params.fields.push({key:"col"+t,name:"列"+t})},deleteOption:function(t){if(1==this.formAttribute.params.fields.length)return this.$notify({title:"提示",message:"表格至少包含一列",type:"error",duration:3e3}),!1;this.formAttribute.params.fields.splice(t,1)},requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},checkName:function(e,i,n){for(var r=this.formAttribute.params.fields,o=e.field.replace(/[^0-9]/gi,""),l=0;l<r.length;l++)if(l!=o&&r[l].name==t.trim(i))return n(new Error("列名已存在"));n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===r()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(l()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(211),r=i.n(n),o=i(90),l=i.n(o),a=i(92),s=i.n(a);e.default={name:"text",props:["textChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{name:"单行文本",code:"",defaultvalue:"",required:!1,hidden:!1,params:{validation:"",minLength:1,maxLength:100},requiredDisable:!1,keyattr:!1,rate:"",builtin:!1,type:"singleRowText"},default:{name:"单行文本",code:"",defaultvalue:"",required:!1,hidden:!1,params:{validation:"",minLength:1,maxLength:100},requiredDisable:!1,keyattr:!1,rate:"",builtin:!1,type:"singleRowText"},top:"top",validationOptions:[],editIndex:"",list2Data:{},isbuiltin:null,fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}],"params.maxLength":[{validator:this.checkMax,trigger:"blur"}]}}},mounted:function(){this.getRule(),console.log(this.builtin),null!=this.textChildForm&&(this.formAttribute=this.parse(this.textChildForm)),this.$watch("textChildForm",function(t,e){console.log("--text"),this.formAttribute=this.parse(this.textChildForm)},{deep:!0})},methods:r()({parse:function(t){return 1==t.keyattr?t.requiredDisable=!0:t.requiredDisable=!1,t},keyAttrClick:function(){1==this.formAttribute.keyattr?(this.formAttribute.required=!0,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!0):(this.formAttribute.required=!1,this.formAttribute.hidden=!1,this.formAttribute.requiredDisable=!1)},requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},checkMax:function(t,e,i){if(e<=this.formAttribute.params.minLength)return i(new Error("抱歉，最大长度必须大于最小长度!"));i()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===s()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},getRule:function(){t.ajax({url:"/cmdb/form/getFormRule",type:"get",dataType:"json"}).done(function(t){this.validationOptions=t}.bind(this))},setDefault:function(){this.formAttribute=JSON.parse(l()(this.default))}},"validation",function(){var e=this.formAttribute;return t.trim(e.name).length<1||t.trim(e.name).length>16?"名称必须大于1个字符，小于16个字符":t.trim(e.code).length<1||t.trim(e.code).length>16?"编码必须大于1个字符，小于16个字符":void 0})}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(90),r=i.n(n),o=i(92),l=i.n(o);e.default={name:"textarea",props:["textAreaChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{keyattr:!1,name:"多行文本",code:"",defaultvalue:"",required:!1,hidden:!1,params:{minLength:1,maxLength:200},requiredDisable:!1,rate:"",builtin:!1,type:"multiRowText"},default:{keyattr:!1,name:"多行文本",code:"",defaultvalue:"",required:!1,hidden:!1,params:{minLength:1,maxLength:200},requiredDisable:!1,rate:"",builtin:!1,type:"multiRowText"},top:"top",editIndex:"",list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}],"params.maxLength":[{validator:this.checkMax,trigger:"blur"}]}}},mounted:function(){null!=this.textAreaChildForm&&(this.formAttribute=this.textAreaChildForm),this.$watch("textAreaChildForm",function(t,e){this.formAttribute=this.textAreaChildForm},{deep:!0})},methods:{requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},checkMax:function(t,e,i){if(e<=this.formAttribute.params.minLength)return i(new Error("抱歉，最大长度必须大于最小长度!"));i()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===l()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(r()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(90),r=i.n(n),o=i(92),l=i.n(o);e.default={name:"user",props:["userChildForm","Data","edit","builtin"],data:function(){return{formAttribute:{keyattr:!1,name:"人员",code:"",defaultvalue:"",required:!1,hidden:!1,requiredDisable:!1,rate:"",builtin:!1,type:"user"},default:{keyattr:!1,name:"人员",code:"",defaultvalue:"",required:!1,hidden:!1,requiredDisable:!1,rate:"",builtin:!1,type:"user"},top:"top",editIndex:"",requiredDisable:!1,list2Data:{},fromrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{validator:this.checkCode,trigger:"blur"}]}}},mounted:function(){null!=this.userChildForm&&(this.formAttribute=this.userChildForm),this.$watch("userChildForm",function(t,e){console.log("---user"),this.formAttribute=this.userChildForm},{deep:!0})},methods:{requiredClick:function(){1==this.formAttribute.required?this.formAttribute.required=!1:(this.formAttribute.required=!0,this.formAttribute.hidden=!1)},hiddenClick:function(){1==this.formAttribute.hidden?this.formAttribute.hidden=!1:(this.formAttribute.hidden=!0,this.formAttribute.required=!1)},checkCode:function(e,i,n){for(var r in this.Data)if(this.edit!=r&&t.trim(i)==this.Data[r].code)return n(new Error("抱歉，该编码已被占用!"));if(!/^[a-zA-Z_0-9]+$/.test(i))return n(new Error("编码只可输入字母、数字、下划线"));n()},objDeepCopy:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]="object"===l()(t[i])?this.objDeepCopy(t[i]):t[i];return e},validation:function(){var t=!1;return this.$refs.formAttribute.validate(function(e){e&&(t=!0)}),t},setDefault:function(){this.formAttribute=JSON.parse(r()(this.default))}}}}.call(e,i(30))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i(90),r=i.n(n),o=i(318),l=i.n(o),a=i(317),s=i.n(a);e.default={components:{DataCom:l.a,addModule:s.a},data:function(){var e=this;return{parentNav:[],emid:"",amid:"",builtinFlag:!1,display:!1,defaultOpenNav:[],defaultActive:null,activeIndex:null,eidtModuleDialog:!1,btn_active:!1,iconDialog:!1,formmodule:{id:"",name:"",checked:!1,iconurl:""},activeName:"sysicon",syspage:{currPage:1,pageSize:27,total:0},cuspage:{currPage:1,pageSize:27,total:0},moduletags:[],inputVisible:!1,inputValue:"",editValue:"fuck",icondisplay:!1,sysicons:[],customicons:[],currSelectIcon:"",editModule:{},addflag:null,formRules:{name:[{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"},{required:!0,message:"请输入类型名称",trigger:"blur"},{validator:function(i,n,r){t.trim(n)==e.editModule.name&&r(),t.ajax({url:"/cmdb/module/getModuleSelective",type:"POST",dataType:"json",data:{name:t.trim(n)}}).done(function(t){if(t.length>0)return r(new Error("抱歉，该类型名称已被占用!"));r()})},trigger:"blur"}]},activeIcon:""}},watch:{defaultActive:function(t,e){var i=this.defaultActive;this.$refs.moduleMenu.activedIndex=i}},mounted:function(){this.getModule()},methods:{getModule:function(e){t.ajax({url:"/cmdb/module/getModule",type:"POST",dataType:"json"}).done(function(t){if(this.parentNav=t,null!=this.parentNav&&this.parentNav.length>0)for(var i=0;i<this.parentNav.length;i++)if(!(this.parentNav[i].childModules.length<=0)){void 0==e?(this.emid=this.parentNav[i].childModules[0].id,this.builtinFlag=this.parentNav[i].childModules[0].builtin,this.defaultActive=this.emid):(this.builtinFlag=!1,this.defaultActive=e),this.defaultOpenNav.push(this.parentNav[0].id);break}}.bind(this))},btn_addmodule:function(){this.display=!0},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)},changeRouter:function(t,e){this.display=!1,this.emid==t&&this.$refs.content.flush_form(),this.emid=t,this.builtinFlag=e},addModule:function(t,e){},getAddModuleData:function(t){this.getModule(t[0].id),this.amid=t[0].id,this.defaultOpenNav=[],this.defaultOpenNav.push(t[0].parentId),this.defaultActive=t[0].id,this.display=!1},handleCommand:function(e){var i=this,n=e.split("=");if("1"==n[0]){if(this.eidtModuleDialog=!0,""!=n[1]&&null!=n[1]&&""!=n[2]&&null!=n[2]){var r=n[1],o=n[2],l=this.parentNav[o].childModules;this.getModuleTags(l[r].id),this.editModule=l[r],this.formmodule.id=l[r].id,this.formmodule.name=l[r].name,this.formmodule.iconurl=l[r].iconurl,this.formmodule.checked="true"==l[r].disabled,this.icondisplay=!0}}else""!=n[1]&&null!=n[1]&&this.$confirm("确认删除该模型?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.ajax({url:"/cmdb/module/deleteModule",type:"POST",cache:!1,async:!0,traditional:!0,dataType:"json",data:{id:n[1]},success:function(t){1==t.success&&(this.$notify({title:"提示",message:"删除成功!",type:"success",duration:3e3}),this.getModule())}.bind(i),error:function(t,e,i){this.$notify({title:"提示",message:"删除失败",type:"error",duration:3e3})}.bind(i)})}).catch(function(){console.log("已取消删除")})},getModuleTags:function(e){t.ajax({url:"/cmdb/module/getModuleTags",type:"POST",data:{moduleId:e},dataType:"json"}).done(function(t){this.moduletags=[],this.moduletags=t;for(var e=t.length,i=0;i<e;i++)this.moduletags[i].edit=!1}.bind(this))},handleClick:function(){},selectIcon:function(){this.iconDialog=!0,this.getSysIcons(),this.getCustomIcons()},getSysIcons:function(){t.ajax({url:"/cmdb/icon/getIcons",type:"POST",data:{pageNumber:this.syspage.currPage,pageSize:this.syspage.pageSize,iconcategory:0},dataType:"json"}).done(function(t){this.sysicons=t.dataList,this.syspage.currPage=t.pageNo,this.syspage.total=t.total}.bind(this))},getCustomIcons:function(){t.ajax({url:"/cmdb/icon/getIcons",type:"POST",data:{pageNumber:this.cuspage.currPage,pageSize:this.cuspage.pageSize,iconcategory:1},dataType:"json"}).done(function(t){this.customicons=t.dataList,this.cuspage.currPage=t.pageNo,this.cuspage.total=t.total}.bind(this))},uploadError:function(t,e,i){this.$notify({title:"提示",message:"图标上传失败",type:"error",duration:3e3})},uploadSuccess:function(t,e,i){t.success?(this.getCustomIcons(),this.$notify({title:"提示",message:"图标上传成功",type:"success",duration:3e3})):this.$notify({title:"提示",message:"response.message",type:"error",duration:3e3})},iconClick:function(t){this.activeIcon=t.id,this.currSelectIcon=t.iconUrl,this.btn_active=!0},iconcommit:function(){this.formmodule.iconurl=this.currSelectIcon,this.iconDialog=!1,this.icondisplay=!0},iconCancel:function(){this.iconDialog=!1},iconDialogClose:function(){this.currSelectIcon="",this.syspage.currPage=1,this.cuspage.currPage=1,this.activeIcon=null,this.btn_active=!1},sysCurrentChange:function(t){this.syspage.currPage=t,this.getSysIcons()},cusCurrentChange:function(t){this.cuspage.currPage=t,this.getCustomIcons()},resetForm:function(t){this.$refs[t].resetFields(),this.icondisplay=!1,this.currSelectIcon=""},editCancel:function(t){this.resetForm(t),this.eidtModuleDialog=!1},eidtSubmit:function(e){var i=this;this.$refs[e].validate(function(e){if(e){var n={id:i.formmodule.id,name:i.formmodule.name,iconurl:i.formmodule.iconurl,disabled:1==i.formmodule.checked?"true":"false",tags:i.moduletags};t.ajax({url:"/cmdb/module/updateModule/",type:"POST",cache:!1,async:!0,traditional:!0,data:r()(n),contentType:"application/json; charset=utf-8",success:function(t,e){1==t.success?(this.$notify({title:"提示",message:"修改成功!",type:"success",duration:3e3}),this.getModule(this.formmodule.id),this.emid=this.formmodule.id,this.eidtModuleDialog=!1,this.$root.Bus.$emit("flushForm",this.formmodule.id)):this.$notify({title:"提示",message:"修改失败!",type:"error",duration:3e3})}.bind(i),error:function(t,e,i){this.$notify({title:"提示",message:"修改失败",type:"error",duration:3e3})}.bind(i)})}})},handleCloseTag:function(e){void 0!=this.moduletags[e].id?t.ajax({url:"/cmdb/module/getScriptByTagId/",type:"POST",cache:!1,async:!0,traditional:!0,data:{tagId:this.moduletags[e].id},success:function(t,i){var n=this;null!=t&&t.length>0?this.$confirm("该标签已设置脚本，确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.moduletags.splice(e,1)}).catch(function(){console.log("已取消删除")}):this.moduletags.splice(e,1)}.bind(this),error:function(t,e,i){this.$notify({title:"提示",message:"修改失败",type:"error",duration:3e3})}.bind(this)}):this.moduletags.splice(e,1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},tagClick:function(t){var e=this;this.editValue=this.moduletags[t].tag;var i=JSON.parse(r()(this.moduletags[t]));i.edit=!0,this.$set(this.moduletags,t,i),this.$nextTick(function(t){e.$refs.editTagInput[0].$refs.input.focus()})},editInputConfirm:function(e){var i=t.trim(this.editValue),n=!1;if(""==i){var o=JSON.parse(r()(this.moduletags[e]));return o.edit=!1,void this.$set(this.moduletags,e,o)}if(i.length>20)return void this.$notify({title:"提示",message:"标签名称必须小于20个字符",type:"warning",duration:3e3});for(var l=0;l<this.moduletags.length;l++){if(l!=e&&i==this.moduletags[l].tag)return void this.$notify({title:"提示",message:"标签名称已经存在",type:"warning",duration:3e3});n=!0}if(n){var a=JSON.parse(r()(this.moduletags[e]));a.tag=i,a.edit=!1,this.$set(this.moduletags,e,a)}else{var s=JSON.parse(r()(this.moduletags[e]));s.edit=!1,this.$set(this.moduletags,e,s)}},handleInputConfirm:function(){var e=t.trim(this.inputValue),i=!1;if(t.trim(e).length>20)return void this.$notify({title:"提示",message:"标签名称必须小于20个字符",type:"warning",duration:3e3});if(e){for(var n=0;n<this.moduletags.length;n++){if(e==this.moduletags[n].tag)return void this.$notify({title:"提示",message:"标签名称已经存在",type:"warning",duration:3e3});i=!0}if(1==i||0==this.moduletags.length){var r={};r.tag=t.trim(e),r.edit=!1,this.moduletags.push(r)}}this.inputVisible=!1,this.inputValue=""}}}}.call(e,i(30))},,,,,,function(t,e,i){t.exports={default:i(266),__esModule:!0}},function(t,e,i){!function(t){t(i(99))}(function(t){"use strict";function e(t){var e=t.search(o);return-1==e?0:e}function i(t,e,i){return/\bstring\b/.test(t.getTokenTypeAt(l(e.line,0)))&&!/^[\'\"\`]/.test(i)}function n(t,e){var i=t.getMode();return!1!==i.useInnerComments&&i.innerMode?t.getModeAt(e):i}var r={},o=/[^\s\u00a0]/,l=t.Pos;t.commands.toggleComment=function(t){t.toggleComment()},t.defineExtension("toggleComment",function(t){t||(t=r);for(var e=this,i=1/0,n=this.listSelections(),o=null,a=n.length-1;a>=0;a--){var s=n[a].from(),u=n[a].to();s.line>=i||(u.line>=i&&(u=l(i,0)),i=s.line,null==o?e.uncomment(s,u,t)?o="un":(e.lineComment(s,u,t),o="line"):"un"==o?e.uncomment(s,u,t):e.lineComment(s,u,t))}}),t.defineExtension("lineComment",function(t,a,s){s||(s=r);var u=this,c=n(u,t),f=u.getLine(t.line);if(null!=f&&!i(u,t,f)){var d=s.lineComment||c.lineComment;if(!d)return void((s.blockCommentStart||c.blockCommentStart)&&(s.fullLines=!0,u.blockComment(t,a,s)));var h=Math.min(0!=a.ch||a.line==t.line?a.line+1:a.line,u.lastLine()+1),p=null==s.padding?" ":s.padding,m=s.commentBlankLines||t.line==a.line;u.operation(function(){if(s.indent){for(var i=null,n=t.line;n<h;++n){var r=u.getLine(n),a=r.slice(0,e(r));(null==i||i.length>a.length)&&(i=a)}for(var n=t.line;n<h;++n){var r=u.getLine(n),c=i.length;(m||o.test(r))&&(r.slice(0,c)!=i&&(c=e(r)),u.replaceRange(i+d+p,l(n,0),l(n,c)))}}else for(var n=t.line;n<h;++n)(m||o.test(u.getLine(n)))&&u.replaceRange(d+p,l(n,0))})}}),t.defineExtension("blockComment",function(t,e,i){i||(i=r);var a=this,s=n(a,t),u=i.blockCommentStart||s.blockCommentStart,c=i.blockCommentEnd||s.blockCommentEnd;if(!u||!c)return void((i.lineComment||s.lineComment)&&0!=i.fullLines&&a.lineComment(t,e,i));if(!/\bcomment\b/.test(a.getTokenTypeAt(l(t.line,0)))){var f=Math.min(e.line,a.lastLine());f!=t.line&&0==e.ch&&o.test(a.getLine(f))&&--f;var d=null==i.padding?" ":i.padding;t.line>f||a.operation(function(){if(0!=i.fullLines){var n=o.test(a.getLine(f));a.replaceRange(d+c,l(f)),a.replaceRange(u+d,l(t.line,0));var r=i.blockCommentLead||s.blockCommentLead;if(null!=r)for(var h=t.line+1;h<=f;++h)(h!=f||n)&&a.replaceRange(r+d,l(h,0))}else a.replaceRange(c,e),a.replaceRange(u,t)})}}),t.defineExtension("uncomment",function(t,e,i){i||(i=r);var a,s=this,u=n(s,t),c=Math.min(0!=e.ch||e.line==t.line?e.line:e.line-1,s.lastLine()),f=Math.min(t.line,c),d=i.lineComment||u.lineComment,h=[],p=null==i.padding?" ":i.padding;t:if(d){for(var m=f;m<=c;++m){var g=s.getLine(m),v=g.indexOf(d);if(v>-1&&!/comment/.test(s.getTokenTypeAt(l(m,v+1)))&&(v=-1),-1==v&&o.test(g))break t;if(v>-1&&o.test(g.slice(0,v)))break t;h.push(g)}if(s.operation(function(){for(var t=f;t<=c;++t){var e=h[t-f],i=e.indexOf(d),n=i+d.length;i<0||(e.slice(n,n+p.length)==p&&(n+=p.length),a=!0,s.replaceRange("",l(t,i),l(t,n)))}}),a)return!0}var b=i.blockCommentStart||u.blockCommentStart,y=i.blockCommentEnd||u.blockCommentEnd;if(!b||!y)return!1;var x=i.blockCommentLead||u.blockCommentLead,w=s.getLine(f),k=w.indexOf(b);if(-1==k)return!1;var _=c==f?w:s.getLine(c),q=_.indexOf(y,c==f?k+b.length:0);-1==q&&f!=c&&(_=s.getLine(--c),q=_.indexOf(y));var C=l(f,k+1),A=l(c,q+1);if(-1==q||!/comment/.test(s.getTokenTypeAt(C))||!/comment/.test(s.getTokenTypeAt(A))||s.getRange(C,A,"\n").indexOf(y)>-1)return!1;var S=w.lastIndexOf(b,t.ch),O=-1==S?-1:w.slice(0,t.ch).indexOf(y,S+b.length);if(-1!=S&&-1!=O&&O+y.length!=t.ch)return!1;O=_.indexOf(y,e.ch);var T=_.slice(e.ch).lastIndexOf(b,O-e.ch);return S=-1==O||-1==T?-1:e.ch+T,(-1==O||-1==S||S==e.ch)&&(s.operation(function(){s.replaceRange("",l(c,q-(p&&_.slice(q-p.length,q)==p?p.length:0)),l(c,q+y.length));var t=k+b.length;if(p&&w.slice(t,t+p.length)==p&&(t+=p.length),s.replaceRange("",l(f,k),l(f,t)),x)for(var e=f+1;e<=c;++e){var i=s.getLine(e),n=i.indexOf(x);if(-1!=n&&!o.test(i.slice(0,n))){var r=n+x.length;p&&i.slice(r,r+p.length)==p&&(r+=p.length),s.replaceRange("",l(e,n),l(e,r))}}}),!0)})})},function(t,e,i){!function(t){t(i(99))}(function(t){"use strict";var e=/[\w$]+/;t.registerHelper("hint","anyword",function(i,n){for(var r=n&&n.word||e,o=n&&n.range||500,l=i.getCursor(),a=i.getLine(l.line),s=l.ch,u=s;u&&r.test(a.charAt(u-1));)--u;for(var c=u!=s&&a.slice(u,s),f=n&&n.list||[],d={},h=new RegExp(r.source,"g"),p=-1;p<=1;p+=2)for(var m=l.line,g=Math.min(Math.max(m+p*o,i.firstLine()),i.lastLine())+p;m!=g;m+=p)for(var v,b=i.getLine(m);v=h.exec(b);)m==l.line&&v[0]===c||c&&0!=v[0].lastIndexOf(c,0)||Object.prototype.hasOwnProperty.call(d,v[0])||(d[v[0]]=!0,f.push(v[0]));return{list:f,from:t.Pos(l.line,u),to:t.Pos(l.line,s)}})})},function(t,e,i){!function(t){t(i(99))}(function(t){function e(t,e){for(var i=0,n=t.length;i<n;++i)e(t[i])}function i(t,e){if(!Array.prototype.indexOf){for(var i=t.length;i--;)if(t[i]===e)return!0;return!1}return-1!=t.indexOf(e)}function n(e,i,n,r){var o=e.getCursor(),l=n(e,o);if(!/\b(?:string|comment)\b/.test(l.type)){l.state=t.innerMode(e.getMode(),l.state).state,/^[\w$_]*$/.test(l.string)?l.end>o.ch&&(l.end=o.ch,l.string=l.string.slice(0,o.ch-l.start)):l={start:o.ch,end:o.ch,string:"",state:l.state,type:"."==l.string?"property":null};for(var a=l;"property"==a.type;){if(a=n(e,u(o.line,a.start)),"."!=a.string)return;if(a=n(e,u(o.line,a.start)),!c)var c=[];c.push(a)}return{list:s(l,c,i,r),from:u(o.line,l.start),to:u(o.line,l.end)}}}function r(t,e){return n(t,h,function(t,e){return t.getTokenAt(e)},e)}function o(t,e){var i=t.getTokenAt(e);return e.ch==i.start+1&&"."==i.string.charAt(0)?(i.end=i.start,i.string=".",i.type="property"):/^\.[\w$_]*$/.test(i.string)&&(i.type="property",i.start++,i.string=i.string.replace(/\./,"")),i}function l(t,e){return n(t,p,o,e)}function a(t,e){if(Object.getOwnPropertyNames&&Object.getPrototypeOf)for(var i=t;i;i=Object.getPrototypeOf(i))Object.getOwnPropertyNames(i).forEach(e);else for(var n in t)e(n)}function s(t,n,r,o){function l(t){0!=t.lastIndexOf(h,0)||i(u,t)||u.push(t)}function s(t){"string"==typeof t?e(c,l):t instanceof Array?e(f,l):t instanceof Function&&e(d,l),a(t,l)}var u=[],h=t.string,p=o&&o.globalScope||window;if(n&&n.length){var m,g=n.pop();for(g.type&&0===g.type.indexOf("variable")?(o&&o.additionalContext&&(m=o.additionalContext[g.string]),o&&!1===o.useGlobalScope||(m=m||p[g.string])):"string"==g.type?m="":"atom"==g.type?m=1:"function"==g.type&&(null==p.jQuery||"$"!=g.string&&"jQuery"!=g.string||"function"!=typeof p.jQuery?null!=p._&&"_"==g.string&&"function"==typeof p._&&(m=p._()):m=p.jQuery());null!=m&&n.length;)m=m[n.pop().string];null!=m&&s(m)}else{for(var v=t.state.localVars;v;v=v.next)l(v.name);for(var v=t.state.globalVars;v;v=v.next)l(v.name);o&&!1===o.useGlobalScope||s(p),e(r,l)}return u}var u=t.Pos;t.registerHelper("hint","javascript",r),t.registerHelper("hint","coffeescript",l);var c="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),f="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),d="prototype apply call bind".split(" "),h="break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" "),p="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")})},function(t,e,i){!function(t){t(i(99))}(function(t){"use strict";function e(t,e){this.cm=t,this.options=e,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var i=this;t.on("cursorActivity",this.activityFunc=function(){i.cursorActivity()})}function i(e,i){return t.cmpPos(i.from,e.from)>0&&e.to.ch-e.from.ch!=i.to.ch-i.from.ch}function n(t,e,i){var n=t.options.hintOptions,r={};for(var o in m)r[o]=m[o];if(n)for(var o in n)void 0!==n[o]&&(r[o]=n[o]);if(i)for(var o in i)void 0!==i[o]&&(r[o]=i[o]);return r.hint.resolve&&(r.hint=r.hint.resolve(t,e)),r}function r(t){return"string"==typeof t?t:t.text}function o(t,e){function i(t,i){var r;r="string"!=typeof i?function(t){return i(t,e)}:n.hasOwnProperty(i)?n[i]:i,o[t]=r}var n={Up:function(){e.moveFocus(-1)},Down:function(){e.moveFocus(1)},PageUp:function(){e.moveFocus(1-e.menuSize(),!0)},PageDown:function(){e.moveFocus(e.menuSize()-1,!0)},Home:function(){e.setFocus(0)},End:function(){e.setFocus(e.length-1)},Enter:e.pick,Tab:e.pick,Esc:e.close},r=t.options.customKeys,o=r?{}:n;if(r)for(var l in r)r.hasOwnProperty(l)&&i(l,r[l]);var a=t.options.extraKeys;if(a)for(var l in a)a.hasOwnProperty(l)&&i(l,a[l]);return o}function l(t,e){for(;e&&e!=t;){if("LI"===e.nodeName.toUpperCase()&&e.parentNode==t)return e;e=e.parentNode}}function a(e,i){this.completion=e,this.data=i,this.picked=!1;var n=this,a=e.cm,s=this.hints=document.createElement("ul");s.className="CodeMirror-hints",this.selectedHint=i.selectedHint||0;for(var u=i.list,c=0;c<u.length;++c){var h=s.appendChild(document.createElement("li")),p=u[c],m=f+(c!=this.selectedHint?"":" "+d);null!=p.className&&(m=p.className+" "+m),h.className=m,p.render?p.render(h,i,p):h.appendChild(document.createTextNode(p.displayText||r(p))),h.hintId=c}var g=a.cursorCoords(e.options.alignWithWord?i.from:null),v=g.left,b=g.bottom,y=!0;s.style.left=v+"px",s.style.top=b+"px";var x=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),w=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(e.options.container||document.body).appendChild(s);var k=s.getBoundingClientRect(),_=k.bottom-w,q=s.scrollHeight>s.clientHeight+1,C=a.getScrollInfo();if(_>0){var A=k.bottom-k.top;if(g.top-(g.bottom-k.top)-A>0)s.style.top=(b=g.top-A)+"px",y=!1;else if(A>w){s.style.height=w-5+"px",s.style.top=(b=g.bottom-k.top)+"px";var S=a.getCursor();i.from.ch!=S.ch&&(g=a.cursorCoords(S),s.style.left=(v=g.left)+"px",k=s.getBoundingClientRect())}}var O=k.right-x;if(O>0&&(k.right-k.left>x&&(s.style.width=x-5+"px",O-=k.right-k.left-x),s.style.left=(v=g.left-O)+"px"),q)for(var T=s.firstChild;T;T=T.nextSibling)T.style.paddingRight=a.display.nativeBarWidth+"px";if(a.addKeyMap(this.keyMap=o(e,{moveFocus:function(t,e){n.changeActive(n.selectedHint+t,e)},setFocus:function(t){n.changeActive(t)},menuSize:function(){return n.screenAmount()},length:u.length,close:function(){e.close()},pick:function(){n.pick()},data:i})),e.options.closeOnUnfocus){var E;a.on("blur",this.onBlur=function(){E=setTimeout(function(){e.close()},100)}),a.on("focus",this.onFocus=function(){clearTimeout(E)})}return a.on("scroll",this.onScroll=function(){var t=a.getScrollInfo(),i=a.getWrapperElement().getBoundingClientRect(),n=b+C.top-t.top,r=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(y||(r+=s.offsetHeight),r<=i.top||r>=i.bottom)return e.close();s.style.top=n+"px",s.style.left=v+C.left-t.left+"px"}),t.on(s,"dblclick",function(t){var e=l(s,t.target||t.srcElement);e&&null!=e.hintId&&(n.changeActive(e.hintId),n.pick())}),t.on(s,"click",function(t){var i=l(s,t.target||t.srcElement);i&&null!=i.hintId&&(n.changeActive(i.hintId),e.options.completeOnSingleClick&&n.pick())}),t.on(s,"mousedown",function(){setTimeout(function(){a.focus()},20)}),t.signal(i,"select",u[0],s.firstChild),!0}function s(t,e){if(!t.somethingSelected())return e;for(var i=[],n=0;n<e.length;n++)e[n].supportsSelection&&i.push(e[n]);return i}function u(t,e,i,n){if(t.async)t(e,n,i);else{var r=t(e,i);r&&r.then?r.then(n):n(r)}}function c(e,i){var n,r=e.getHelpers(i,"hint");if(r.length){var o=function(t,e,i){function n(r){if(r==o.length)return e(null);u(o[r],t,i,function(t){t&&t.list.length>0?e(t):n(r+1)})}var o=s(t,r);n(0)};return o.async=!0,o.supportsSelection=!0,o}return(n=e.getHelper(e.getCursor(),"hintWords"))?function(e){return t.hint.fromList(e,{words:n})}:t.hint.anyword?function(e,i){return t.hint.anyword(e,i)}:function(){}}var f="CodeMirror-hint",d="CodeMirror-hint-active";t.showHint=function(t,e,i){if(!e)return t.showHint(i);i&&i.async&&(e.async=!0);var n={hint:e};if(i)for(var r in i)n[r]=i[r];return t.showHint(n)},t.defineExtension("showHint",function(i){i=n(this,this.getCursor("start"),i);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!i.hint.supportsSelection)return;for(var o=0;o<r.length;o++)if(r[o].head.line!=r[o].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var l=this.state.completionActive=new e(this,i);l.options.hint&&(t.signal(this,"startCompletion",this),l.update(!0))}});var h=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},p=window.cancelAnimationFrame||clearTimeout;e.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(e,i){var n=e.list[i];n.hint?n.hint(this.cm,e,n):this.cm.replaceRange(r(n),n.from||e.from,n.to||e.to,"complete"),t.signal(e,"pick",n),this.close()},cursorActivity:function(){this.debounce&&(p(this.debounce),this.debounce=0);var t=this.cm.getCursor(),e=this.cm.getLine(t.line);if(t.line!=this.startPos.line||e.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||t.ch&&this.options.closeCharacters.test(e.charAt(t.ch-1)))this.close();else{var i=this;this.debounce=h(function(){i.update()}),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick){var e=this,i=++this.tick;u(this.options.hint,this.cm,this.options,function(n){e.tick==i&&e.finishUpdate(n,t)})}},finishUpdate:function(e,n){this.data&&t.signal(this.data,"update");var r=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),e&&this.data&&i(this.data,e)||(this.data=e,e&&e.list.length&&(r&&1==e.list.length?this.pick(e,0):(this.widget=new a(this,e),t.signal(e,"shown"))))}},a.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(e,i){if(e>=this.data.list.length?e=i?this.data.list.length-1:0:e<0&&(e=i?0:this.data.list.length-1),this.selectedHint!=e){var n=this.hints.childNodes[this.selectedHint];n.className=n.className.replace(" "+d,""),n=this.hints.childNodes[this.selectedHint=e],n.className+=" "+d,n.offsetTop<this.hints.scrollTop?this.hints.scrollTop=n.offsetTop-3:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+3),t.signal(this.data,"select",this.data.list[this.selectedHint],n)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},t.registerHelper("hint","auto",{resolve:c}),t.registerHelper("hint","fromList",function(e,i){var n=e.getCursor(),r=e.getTokenAt(n),o=t.Pos(n.line,r.end);if(r.string&&/\w/.test(r.string[r.string.length-1]))var l=r.string,a=t.Pos(n.line,r.start);else var l="",a=o;for(var s=[],u=0;u<i.words.length;u++){var c=i.words[u];c.slice(0,l.length)==l&&s.push(c)}if(s.length)return{list:s,from:a,to:o}}),t.commands.autocomplete=t.showHint;var m={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};t.defineOption("hintOptions",null)})},function(t,e,i){!function(t){t(i(99),i(178),i(212))}(function(t){"use strict";function e(t,e){return"string"==typeof t?t=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e?"gi":"g"):t.global||(t=new RegExp(t.source,t.ignoreCase?"gi":"g")),{token:function(e){t.lastIndex=e.pos;var i=t.exec(e.string);if(i&&i.index==e.pos)return e.pos+=i[0].length||1,"searching";i?e.pos=i.index:e.skipToEnd()}}}function i(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function n(t){return t.state.search||(t.state.search=new i)}function r(t){return"string"==typeof t&&t==t.toLowerCase()}function o(t,e,i){return t.getSearchCursor(e,i,{caseFold:r(e),multiline:!0})}function l(t,e,i,n,r){t.openDialog(e,n,{value:i,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){p(t)},onKeyDown:r})}function a(t,e,i,n,r){t.openDialog?t.openDialog(e,r,{value:n,selectValueOnOpen:!0}):r(prompt(i,n))}function s(t,e,i,n){t.openConfirm?t.openConfirm(e,n):confirm(i)&&n[0]()}function u(t){return t.replace(/\\(.)/g,function(t,e){return"n"==e?"\n":"r"==e?"\r":e})}function c(t){var e=t.match(/^\/(.*)\/([a-z]*)$/);if(e)try{t=new RegExp(e[1],-1==e[2].indexOf("i")?"":"i")}catch(t){}else t=u(t);return("string"==typeof t?""==t:t.test(""))&&(t=/x^/),t}function f(t,i,n){i.queryText=n,i.query=c(n),t.removeOverlay(i.overlay,r(i.query)),i.overlay=e(i.query,r(i.query)),t.addOverlay(i.overlay),t.showMatchesOnScrollbar&&(i.annotate&&(i.annotate.clear(),i.annotate=null),i.annotate=t.showMatchesOnScrollbar(i.query,r(i.query)))}function d(e,i,r,o){var s=n(e);if(s.query)return h(e,i);var u=e.getSelection()||s.lastQuery;if(r&&e.openDialog){var c=null,d=function(i,n){t.e_stop(n),i&&(i!=s.queryText&&(f(e,s,i),s.posFrom=s.posTo=e.getCursor()),c&&(c.style.opacity=1),h(e,n.shiftKey,function(t,i){var n;i.line<3&&document.querySelector&&(n=e.display.wrapper.querySelector(".CodeMirror-dialog"))&&n.getBoundingClientRect().bottom-4>e.cursorCoords(i,"window").top&&((c=n).style.opacity=.4)}))};l(e,v,u,d,function(i,r){var o=t.keyName(i),l=t.keyMap[e.getOption("keyMap")][o];l||(l=e.getOption("extraKeys")[o]),"findNext"==l||"findPrev"==l||"findPersistentNext"==l||"findPersistentPrev"==l?(t.e_stop(i),f(e,n(e),r),e.execCommand(l)):"find"!=l&&"findPersistent"!=l||(t.e_stop(i),d(r,i))}),o&&u&&(f(e,s,u),h(e,i))}else a(e,v,"Search for:",u,function(t){t&&!s.query&&e.operation(function(){f(e,s,t),s.posFrom=s.posTo=e.getCursor(),h(e,i)})})}function h(e,i,r){e.operation(function(){var l=n(e),a=o(e,l.query,i?l.posFrom:l.posTo);(a.find(i)||(a=o(e,l.query,i?t.Pos(e.lastLine()):t.Pos(e.firstLine(),0)),a.find(i)))&&(e.setSelection(a.from(),a.to()),e.scrollIntoView({from:a.from(),to:a.to()},20),l.posFrom=a.from(),l.posTo=a.to(),r&&r(a.from(),a.to()))})}function p(t){t.operation(function(){var e=n(t);e.lastQuery=e.query,e.query&&(e.query=e.queryText=null,t.removeOverlay(e.overlay),e.annotate&&(e.annotate.clear(),e.annotate=null))})}function m(t,e,i){t.operation(function(){for(var n=o(t,e);n.findNext();)if("string"!=typeof e){var r=t.getRange(n.from(),n.to()).match(e);n.replace(i.replace(/\$(\d)/g,function(t,e){return r[e]}))}else n.replace(i)})}function g(t,e){if(!t.getOption("readOnly")){var i=t.getSelection()||n(t).lastQuery,r='<span class="CodeMirror-search-label">'+(e?"Replace all:":"Replace:")+"</span>";a(t,r+b,r,i,function(i){i&&(i=c(i),a(t,y,"Replace with:","",function(n){if(n=u(n),e)m(t,i,n);else{p(t);var r=o(t,i,t.getCursor("from")),l=function(){var e,u=r.from();!(e=r.findNext())&&(r=o(t,i),!(e=r.findNext())||u&&r.from().line==u.line&&r.from().ch==u.ch)||(t.setSelection(r.from(),r.to()),t.scrollIntoView({from:r.from(),to:r.to()}),s(t,x,"Replace?",[function(){a(e)},l,function(){m(t,i,n)}]))},a=function(t){r.replace("string"==typeof i?n:n.replace(/\$(\d)/g,function(e,i){return t[i]})),l()};l()}}))})}}var v='<span class="CodeMirror-search-label">Search:</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',b=' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',y='<span class="CodeMirror-search-label">With:</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',x='<span class="CodeMirror-search-label">Replace?</span> <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>';t.commands.find=function(t){p(t),d(t)},t.commands.findPersistent=function(t){p(t),d(t,!1,!0)},t.commands.findPersistentNext=function(t){d(t,!1,!0,!0)},t.commands.findPersistentPrev=function(t){d(t,!0,!0,!0)},t.commands.findNext=d,t.commands.findPrev=function(t){d(t,!0)},t.commands.clearSearch=p,t.commands.replace=g,t.commands.replaceAll=function(t){g(t,!0)}})},function(t,e,i){!function(t){t(i(99))}(function(t){"use strict";function e(t){for(var e=0;e<t.state.activeLines.length;e++)t.removeLineClass(t.state.activeLines[e],"wrap",o),t.removeLineClass(t.state.activeLines[e],"background",l),t.removeLineClass(t.state.activeLines[e],"gutter",a)}function i(t,e){if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!=e[i])return!1;return!0}function n(t,n){for(var r=[],s=0;s<n.length;s++){var u=n[s],c=t.getOption("styleActiveLine");if("object"==typeof c&&c.nonEmpty?u.anchor.line==u.head.line:u.empty()){var f=t.getLineHandleVisualStart(u.head.line);r[r.length-1]!=f&&r.push(f)}}i(t.state.activeLines,r)||t.operation(function(){e(t);for(var i=0;i<r.length;i++)t.addLineClass(r[i],"wrap",o),t.addLineClass(r[i],"background",l),t.addLineClass(r[i],"gutter",a);t.state.activeLines=r})}function r(t,e){n(t,e.ranges)}var o="CodeMirror-activeline",l="CodeMirror-activeline-background",a="CodeMirror-activeline-gutter";t.defineOption("styleActiveLine",!1,function(i,o,l){var a=l!=t.Init&&l;o!=a&&(a&&(i.off("beforeSelectionChange",r),e(i),delete i.state.activeLines),o&&(i.state.activeLines=[],n(i,i.listSelections()),i.on("beforeSelectionChange",r)))})})},function(t,e,i){!function(t){t(i(99),i(178),i(213))}(function(t){"use strict";function e(e,i,n){if(n<0&&0==i.ch)return e.clipPos(p(i.line-1));var r=e.getLine(i.line);if(n>0&&i.ch>=r.length)return e.clipPos(p(i.line+1,0));for(var o,l="start",a=i.ch,s=n<0?0:r.length,u=0;a!=s;a+=n,u++){var c=r.charAt(n<0?a-1:a),f="_"!=c&&t.isWordChar(c)?"w":"o";if("w"==f&&c.toUpperCase()==c&&(f="W"),"start"==l)"o"!=f&&(l="in",o=f);else if("in"==l&&o!=f){if("w"==o&&"W"==f&&n<0&&a--,"W"==o&&"w"==f&&n>0){o="w";continue}break}}return p(i.line,a)}function i(t,i){t.extendSelectionsBy(function(n){return t.display.shift||t.doc.extend||n.empty()?e(t.doc,n.head,i):i<0?n.from():n.to()})}function n(e,i){if(e.isReadOnly())return t.Pass;e.operation(function(){for(var t=e.listSelections().length,n=[],r=-1,o=0;o<t;o++){var l=e.listSelections()[o].head;if(!(l.line<=r)){var a=p(l.line+(i?0:1),0);e.replaceRange("\n",a,null,"+insertLine"),e.indentLine(a.line,null,!0),n.push({head:a,anchor:a}),r=l.line+1}}e.setSelections(n)}),e.execCommand("indentAuto")}function r(e,i){for(var n=i.ch,r=n,o=e.getLine(i.line);n&&t.isWordChar(o.charAt(n-1));)--n;for(;r<o.length&&t.isWordChar(o.charAt(r));)++r;return{from:p(i.line,n),to:p(i.line,r),word:o.slice(n,r)}}function o(t,e){for(var i=t.listSelections(),n=[],r=0;r<i.length;r++){var o=i[r],l=t.findPosV(o.anchor,e,"line"),a=t.findPosV(o.head,e,"line"),s={anchor:l,head:a};n.push(o),n.push(s)}t.setSelections(n)}function l(t,e,i){for(var n=0;n<t.length;n++)if(t[n].from()==e&&t[n].to()==i)return!0;return!1}function a(t){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++){var r=e[n],o=r.head,l=t.scanForBracket(o,-1);if(!l)return!1;for(;;){var a=t.scanForBracket(o,1);if(!a)return!1;if(a.ch==x.charAt(x.indexOf(l.ch)+1)){i.push({anchor:p(l.pos.line,l.pos.ch+1),head:a.pos});break}o=p(a.pos.line,a.pos.ch+1)}}return t.setSelections(i),!0}function s(e,i){if(e.isReadOnly())return t.Pass;for(var n,r=e.listSelections(),o=[],l=0;l<r.length;l++){var a=r[l];if(!a.empty()){for(var s=a.from().line,u=a.to().line;l<r.length-1&&r[l+1].from().line==u;)u=r[++l].to().line;r[l].to().ch||u--,o.push(s,u)}}o.length?n=!0:o.push(e.firstLine(),e.lastLine()),e.operation(function(){for(var t=[],r=0;r<o.length;r+=2){var l=o[r],a=o[r+1],s=p(l,0),u=p(a),c=e.getRange(s,u,!1);i?c.sort():c.sort(function(t,e){var i=t.toUpperCase(),n=e.toUpperCase();return i!=n&&(t=i,e=n),t<e?-1:t==e?0:1}),e.replaceRange(c,s,u),n&&t.push({anchor:s,head:p(a+1,0)})}n&&e.setSelections(t,0)})}function u(e,i){e.operation(function(){for(var n=e.listSelections(),o=[],l=[],a=0;a<n.length;a++){var s=n[a];s.empty()?(o.push(a),l.push("")):l.push(i(e.getRange(s.from(),s.to())))}e.replaceSelections(l,"around","case");for(var u,a=o.length-1;a>=0;a--){var s=n[o[a]];if(!(u&&t.cmpPos(s.head,u)>0)){var c=r(e,s.head);u=c.from,e.replaceRange(i(c.word),c.from,c.to)}}})}function c(e){var i=e.getCursor("from"),n=e.getCursor("to");if(0==t.cmpPos(i,n)){var o=r(e,i);if(!o.word)return;i=o.from,n=o.to}return{from:i,to:n,query:e.getRange(i,n),word:o}}function f(t,e){var i=c(t);if(i){var n=i.query,r=t.getSearchCursor(n,e?i.to:i.from);(e?r.findNext():r.findPrevious())?t.setSelection(r.from(),r.to()):(r=t.getSearchCursor(n,e?p(t.firstLine(),0):t.clipPos(p(t.lastLine()))),(e?r.findNext():r.findPrevious())?t.setSelection(r.from(),r.to()):i.word&&t.setSelection(i.from,i.to))}}var d=t.keyMap.sublime={fallthrough:"default"},h=t.commands,p=t.Pos,m=t.keyMap.default==t.keyMap.macDefault,g=m?"Cmd-":"Ctrl-",v=m?"Ctrl-":"Alt-";h[d[v+"Left"]="goSubwordLeft"]=function(t){i(t,-1)},h[d[v+"Right"]="goSubwordRight"]=function(t){i(t,1)},m&&(d["Cmd-Left"]="goLineStartSmart");var b=m?"Ctrl-Alt-":"Ctrl-";h[d[b+"Up"]="scrollLineUp"]=function(t){var e=t.getScrollInfo();if(!t.somethingSelected()){var i=t.lineAtHeight(e.top+e.clientHeight,"local");t.getCursor().line>=i&&t.execCommand("goLineUp")}t.scrollTo(null,e.top-t.defaultTextHeight())},h[d[b+"Down"]="scrollLineDown"]=function(t){var e=t.getScrollInfo();if(!t.somethingSelected()){var i=t.lineAtHeight(e.top,"local")+1;t.getCursor().line<=i&&t.execCommand("goLineDown")}t.scrollTo(null,e.top+t.defaultTextHeight())},h[d["Shift-"+g+"L"]="splitSelectionByLine"]=function(t){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)for(var r=e[n].from(),o=e[n].to(),l=r.line;l<=o.line;++l)o.line>r.line&&l==o.line&&0==o.ch||i.push({anchor:l==r.line?r:p(l,0),head:l==o.line?o:p(l)});t.setSelections(i,0)},d["Shift-Tab"]="indentLess",h[d.Esc="singleSelectionTop"]=function(t){var e=t.listSelections()[0];t.setSelection(e.anchor,e.head,{scroll:!1})},h[d[g+"L"]="selectLine"]=function(t){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++){var r=e[n];i.push({anchor:p(r.from().line,0),head:p(r.to().line+1,0)})}t.setSelections(i)},d["Shift-Ctrl-K"]="deleteLine",h[d[g+"Enter"]="insertLineAfter"]=function(t){return n(t,!1)},h[d["Shift-"+g+"Enter"]="insertLineBefore"]=function(t){return n(t,!0)},h[d[g+"D"]="selectNextOccurrence"]=function(e){var i=e.getCursor("from"),n=e.getCursor("to"),o=e.state.sublimeFindFullWord==e.doc.sel;if(0==t.cmpPos(i,n)){var a=r(e,i);if(!a.word)return;e.setSelection(a.from,a.to),o=!0}else{var s=e.getRange(i,n),u=o?new RegExp("\\b"+s+"\\b"):s,c=e.getSearchCursor(u,n),f=c.findNext();if(f||(c=e.getSearchCursor(u,p(e.firstLine(),0)),f=c.findNext()),!f||l(e.listSelections(),c.from(),c.to()))return t.Pass;e.addSelection(c.from(),c.to())}o&&(e.state.sublimeFindFullWord=e.doc.sel)};var y=m?"Shift-Cmd":"Alt-Ctrl";h[d[y+"Up"]="addCursorToPrevLine"]=function(t){o(t,-1)},h[d[y+"Down"]="addCursorToNextLine"]=function(t){o(t,1)};var x="(){}[]";h[d["Shift-"+g+"Space"]="selectScope"]=function(t){a(t)||t.execCommand("selectAll")},h[d["Shift-"+g+"M"]="selectBetweenBrackets"]=function(e){if(!a(e))return t.Pass},h[d[g+"M"]="goToBracket"]=function(e){e.extendSelectionsBy(function(i){var n=e.scanForBracket(i.head,1);if(n&&0!=t.cmpPos(n.pos,i.head))return n.pos;var r=e.scanForBracket(i.head,-1);return r&&p(r.pos.line,r.pos.ch+1)||i.head})};var w=m?"Cmd-Ctrl-":"Shift-Ctrl-";h[d[w+"Up"]="swapLineUp"]=function(e){if(e.isReadOnly())return t.Pass;for(var i=e.listSelections(),n=[],r=e.firstLine()-1,o=[],l=0;l<i.length;l++){var a=i[l],s=a.from().line-1,u=a.to().line;o.push({anchor:p(a.anchor.line-1,a.anchor.ch),head:p(a.head.line-1,a.head.ch)}),0!=a.to().ch||a.empty()||--u,s>r?n.push(s,u):n.length&&(n[n.length-1]=u),r=u}e.operation(function(){for(var t=0;t<n.length;t+=2){var i=n[t],r=n[t+1],l=e.getLine(i);e.replaceRange("",p(i,0),p(i+1,0),"+swapLine"),r>e.lastLine()?e.replaceRange("\n"+l,p(e.lastLine()),null,"+swapLine"):e.replaceRange(l+"\n",p(r,0),null,"+swapLine")}e.setSelections(o),e.scrollIntoView()})},h[d[w+"Down"]="swapLineDown"]=function(e){if(e.isReadOnly())return t.Pass;for(var i=e.listSelections(),n=[],r=e.lastLine()+1,o=i.length-1;o>=0;o--){var l=i[o],a=l.to().line+1,s=l.from().line;0!=l.to().ch||l.empty()||a--,a<r?n.push(a,s):n.length&&(n[n.length-1]=s),r=s}e.operation(function(){for(var t=n.length-2;t>=0;t-=2){var i=n[t],r=n[t+1],o=e.getLine(i);i==e.lastLine()?e.replaceRange("",p(i-1),p(i),"+swapLine"):e.replaceRange("",p(i,0),p(i+1,0),"+swapLine"),e.replaceRange(o+"\n",p(r,0),null,"+swapLine")}e.scrollIntoView()})},h[d[g+"/"]="toggleCommentIndented"]=function(t){t.toggleComment({indent:!0})},h[d[g+"J"]="joinLines"]=function(t){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++){for(var r=e[n],o=r.from(),l=o.line,a=r.to().line;n<e.length-1&&e[n+1].from().line==a;)a=e[++n].to().line;i.push({start:l,end:a,anchor:!r.empty()&&o})}t.operation(function(){for(var e=0,n=[],r=0;r<i.length;r++){for(var o,l=i[r],a=l.anchor&&p(l.anchor.line-e,l.anchor.ch),s=l.start;s<=l.end;s++){var u=s-e;s==l.end&&(o=p(u,t.getLine(u).length+1)),u<t.lastLine()&&(t.replaceRange(" ",p(u),p(u+1,/^\s*/.exec(t.getLine(u+1))[0].length)),++e)}n.push({anchor:a||o,head:o})}t.setSelections(n,0)})},h[d["Shift-"+g+"D"]="duplicateLine"]=function(t){t.operation(function(){for(var e=t.listSelections().length,i=0;i<e;i++){var n=t.listSelections()[i];n.empty()?t.replaceRange(t.getLine(n.head.line)+"\n",p(n.head.line,0)):t.replaceRange(t.getRange(n.from(),n.to()),n.from())}t.scrollIntoView()})},m||(d[g+"T"]="transposeChars"),h[d.F9="sortLines"]=function(t){s(t,!0)},h[d[g+"F9"]="sortLinesInsensitive"]=function(t){s(t,!1)},h[d.F2="nextBookmark"]=function(t){var e=t.state.sublimeBookmarks;if(e)for(;e.length;){var i=e.shift(),n=i.find();if(n)return e.push(i),t.setSelection(n.from,n.to)}},h[d["Shift-F2"]="prevBookmark"]=function(t){var e=t.state.sublimeBookmarks;if(e)for(;e.length;){e.unshift(e.pop());var i=e[e.length-1].find();if(i)return t.setSelection(i.from,i.to);e.pop()}},h[d[g+"F2"]="toggleBookmark"]=function(t){for(var e=t.listSelections(),i=t.state.sublimeBookmarks||(t.state.sublimeBookmarks=[]),n=0;n<e.length;n++){for(var r=e[n].from(),o=e[n].to(),l=t.findMarks(r,o),a=0;a<l.length;a++)if(l[a].sublimeBookmark){l[a].clear();for(var s=0;s<i.length;s++)i[s]==l[a]&&i.splice(s--,1);break}a==l.length&&i.push(t.markText(r,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},h[d["Shift-"+g+"F2"]="clearBookmarks"]=function(t){var e=t.state.sublimeBookmarks;if(e)for(var i=0;i<e.length;i++)e[i].clear();e.length=0},h[d["Alt-F2"]="selectBookmarks"]=function(t){var e=t.state.sublimeBookmarks,i=[];if(e)for(var n=0;n<e.length;n++){var r=e[n].find();r?i.push({anchor:r.from,head:r.to}):e.splice(n--,0)}i.length&&t.setSelections(i,0)},d["Alt-Q"]="wrapLines";var k=g+"K ";d[k+g+"Backspace"]="delLineLeft",h[d.Backspace="smartBackspace"]=function(e){if(e.somethingSelected())return t.Pass;e.operation(function(){for(var i=e.listSelections(),n=e.getOption("indentUnit"),r=i.length-1;r>=0;r--){var o=i[r].head,l=e.getRange({line:o.line,ch:0},o),a=t.countColumn(l,null,e.getOption("tabSize")),s=e.findPosH(o,-1,"char",!1);if(l&&!/\S/.test(l)&&a%n==0){var u=new p(o.line,t.findColumn(l,a-n,n));u.ch!=o.ch&&(s=u)}e.replaceRange("",s,o,"+delete")}})},h[d[k+g+"K"]="delLineRight"]=function(t){t.operation(function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange("",e[i].anchor,p(e[i].to().line),"+delete");t.scrollIntoView()})},h[d[k+g+"U"]="upcaseAtCursor"]=function(t){u(t,function(t){return t.toUpperCase()})},h[d[k+g+"L"]="downcaseAtCursor"]=function(t){u(t,function(t){return t.toLowerCase()})},h[d[k+g+"Space"]="setSublimeMark"]=function(t){t.state.sublimeMark&&t.state.sublimeMark.clear(),t.state.sublimeMark=t.setBookmark(t.getCursor())},h[d[k+g+"A"]="selectToSublimeMark"]=function(t){var e=t.state.sublimeMark&&t.state.sublimeMark.find();e&&t.setSelection(t.getCursor(),e)},h[d[k+g+"W"]="deleteToSublimeMark"]=function(e){var i=e.state.sublimeMark&&e.state.sublimeMark.find();if(i){var n=e.getCursor(),r=i;if(t.cmpPos(n,r)>0){var o=r;r=n,n=o}e.state.sublimeKilled=e.getRange(n,r),e.replaceRange("",n,r)}},h[d[k+g+"X"]="swapWithSublimeMark"]=function(t){var e=t.state.sublimeMark&&t.state.sublimeMark.find();e&&(t.state.sublimeMark.clear(),t.state.sublimeMark=t.setBookmark(t.getCursor()),t.setCursor(e))},h[d[k+g+"Y"]="sublimeYank"]=function(t){null!=t.state.sublimeKilled&&t.replaceSelection(t.state.sublimeKilled,null,"paste")},d[k+g+"G"]="clearBookmarks",h[d[k+g+"C"]="showInCenter"]=function(t){var e=t.cursorCoords(null,"local");t.scrollTo(null,(e.top+e.bottom)/2-t.getScrollInfo().clientHeight/2)};var _=m?"Ctrl-Shift-":"Ctrl-Alt-";h[d[_+"Up"]="selectLinesUpward"]=function(t){t.operation(function(){for(var e=t.listSelections(),i=0;i<e.length;i++){var n=e[i];n.head.line>t.firstLine()&&t.addSelection(p(n.head.line-1,n.head.ch))}})},h[d[_+"Down"]="selectLinesDownward"]=function(t){t.operation(function(){for(var e=t.listSelections(),i=0;i<e.length;i++){var n=e[i];n.head.line<t.lastLine()&&t.addSelection(p(n.head.line+1,n.head.ch))}})},h[d[g+"F3"]="findUnder"]=function(t){f(t,!0)},h[d["Shift-"+g+"F3"]="findUnderPrevious"]=function(t){f(t,!1)},h[d["Alt-F3"]="findAllUnder"]=function(t){var e=c(t);if(e){for(var i=t.getSearchCursor(e.query),n=[],r=-1;i.findNext();)n.push({anchor:i.from(),head:i.to()}),i.from().line<=e.from.line&&i.from().ch<=e.from.ch&&r++;t.setSelections(n,r)}},d["Shift-"+g+"["]="fold",d["Shift-"+g+"]"]="unfold",d[k+g+"0"]=d[k+g+"J"]="unfoldAll",d[g+"I"]="findIncremental",d["Shift-"+g+"I"]="findIncrementalReverse",d[g+"H"]="replace",d.F3="findNext",d["Shift-F3"]="findPrev",t.normalizeKeyMap(d)})},function(t,e,i){!function(t){t(i(99))}(function(t){"use strict";function e(t,e,i,n,r,o){this.indented=t,this.column=e,this.type=i,this.info=n,this.align=r,this.prev=o}function i(t,i,n,r){var o=t.indented;return t.context&&"statement"==t.context.type&&"statement"!=n&&(o=t.context.indented),t.context=new e(o,i,n,r,null,t.context)}function n(t){var e=t.context.type;return")"!=e&&"]"!=e&&"}"!=e||(t.indented=t.context.indented),t.context=t.context.prev}function r(t,e,i){return"variable"==e.prevToken||"type"==e.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(t.string.slice(0,i))||(!(!e.typeAtEndOfLine||t.column()!=t.indentation())||void 0))}function o(t){for(;;){if(!t||"top"==t.type)return!0;if("}"==t.type&&"namespace"!=t.prev.info)return!1;t=t.prev}}function l(t){for(var e={},i=t.split(" "),n=0;n<i.length;++n)e[i[n]]=!0;return e}function a(t,e){return"function"==typeof t?t(e):t.propertyIsEnumerable(e)}function s(t,e){if(!e.startOfLine)return!1;for(var i,n=null;i=t.peek();){if("\\"==i&&t.match(/^.$/)){n=s;break}if("/"==i&&t.match(/^\/[\/\*]/,!1))break;t.next()}return e.tokenize=n,"meta"}function u(t,e){return"type"==e.prevToken&&"type"}function c(t){return t.eatWhile(/[\w\.']/),"number"}function f(t,e){if(t.backUp(1),t.match(/(R|u8R|uR|UR|LR)/)){var i=t.match(/"([^\s\\()]{0,16})\(/);return!!i&&(e.cpp11RawStringDelim=i[1],e.tokenize=p,p(t,e))}return t.match(/(u8|u|U|L)/)?!!t.match(/["']/,!1)&&"string":(t.next(),!1)}function d(t){var e=/(\w+)::~?(\w+)$/.exec(t);return e&&e[1]==e[2]}function h(t,e){for(var i;null!=(i=t.next());)if('"'==i&&!t.eat('"')){e.tokenize=null;break}return"string"}function p(t,e){var i=e.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");return t.match(new RegExp(".*?\\)"+i+'"'))?e.tokenize=null:t.skipToEnd(),"string"}function m(e,i){function n(t){if(t)for(var e in t)t.hasOwnProperty(e)&&r.push(e)}"string"==typeof e&&(e=[e]);var r=[];n(i.keywords),n(i.types),n(i.builtin),n(i.atoms),r.length&&(i.helperType=e[0],t.registerHelper("hintWords",e[0],r));for(var o=0;o<e.length;++o)t.defineMIME(e[o],i)}function g(t,e){for(var i=!1;!t.eol();){if(!i&&t.match('"""')){e.tokenize=null;break}i="\\"==t.next()&&!i}return"string"}function v(t){return function(e,i){for(var n,r=!1,o=!1;!e.eol();){if(!t&&!r&&e.match('"')){o=!0;break}if(t&&e.match('"""')){o=!0;break}n=e.next(),!r&&"$"==n&&e.match("{")&&e.skipTo("}"),r=!r&&"\\"==n&&!t}return!o&&t||(i.tokenize=null),"string"}}function b(t){return function(e,i){for(var n,r=!1,o=!1;!e.eol();){if(!r&&e.match('"')&&("single"==t||e.match('""'))){o=!0;break}if(!r&&e.match("``")){w=b(t),o=!0;break}n=e.next(),r="single"==t&&!r&&"\\"==n}return o&&(i.tokenize=null),"string"}}t.defineMode("clike",function(l,s){function u(t,e){var i=t.next();if(q[i]){var n=q[i](t,e);if(!1!==n)return n}if('"'==i||"'"==i)return e.tokenize=c(i),e.tokenize(t,e);if(T.test(i))return h=i,null;if(E.test(i)){if(t.backUp(1),t.match(M))return"number";t.next()}if("/"==i){if(t.eat("*"))return e.tokenize=f,f(t,e);if(t.eat("/"))return t.skipToEnd(),"comment"}if(L.test(i)){for(;!t.match(/^\/[\/*]/,!1)&&t.eat(L););return"operator"}if(t.eatWhile(D),O)for(;t.match(O);)t.eatWhile(D);var r=t.current();return a(b,r)?(a(w,r)&&(h="newstatement"),a(k,r)&&(p=!0),"keyword"):a(y,r)?"type":a(x,r)?(a(w,r)&&(h="newstatement"),"builtin"):a(_,r)?"atom":"variable"}function c(t){return function(e,i){for(var n,r=!1,o=!1;null!=(n=e.next());){if(n==t&&!r){o=!0;break}r=!r&&"\\"==n}return(o||!r&&!C)&&(i.tokenize=null),"string"}}function f(t,e){for(var i,n=!1;i=t.next();){if("/"==i&&n){e.tokenize=null;break}n="*"==i}return"comment"}function d(t,e){s.typeFirstDefinitions&&t.eol()&&o(e.context)&&(e.typeAtEndOfLine=r(t,e,t.pos))}var h,p,m=l.indentUnit,g=s.statementIndentUnit||m,v=s.dontAlignCalls,b=s.keywords||{},y=s.types||{},x=s.builtin||{},w=s.blockKeywords||{},k=s.defKeywords||{},_=s.atoms||{},q=s.hooks||{},C=s.multiLineStrings,A=!1!==s.indentStatements,S=!1!==s.indentSwitch,O=s.namespaceSeparator,T=s.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,E=s.numberStart||/[\d\.]/,M=s.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,L=s.isOperatorChar||/[+\-*&%=<>!?|\/]/,D=s.isIdentifierChar||/[\w\$_\xa1-\uffff]/;return{startState:function(t){return{tokenize:null,context:new e((t||0)-m,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(t,e){var l=e.context;if(t.sol()&&(null==l.align&&(l.align=!1),e.indented=t.indentation(),e.startOfLine=!0),t.eatSpace())return d(t,e),null;h=p=null;var a=(e.tokenize||u)(t,e);if("comment"==a||"meta"==a)return a;if(null==l.align&&(l.align=!0),";"==h||":"==h||","==h&&t.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==e.context.type;)n(e);else if("{"==h)i(e,t.column(),"}");else if("["==h)i(e,t.column(),"]");else if("("==h)i(e,t.column(),")");else if("}"==h){for(;"statement"==l.type;)l=n(e);for("}"==l.type&&(l=n(e));"statement"==l.type;)l=n(e)}else h==l.type?n(e):A&&(("}"==l.type||"top"==l.type)&&";"!=h||"statement"==l.type&&"newstatement"==h)&&i(e,t.column(),"statement",t.current());if("variable"==a&&("def"==e.prevToken||s.typeFirstDefinitions&&r(t,e,t.start)&&o(e.context)&&t.match(/^\s*\(/,!1))&&(a="def"),q.token){var c=q.token(t,e,a);void 0!==c&&(a=c)}return"def"==a&&!1===s.styleDefs&&(a="variable"),e.startOfLine=!1,e.prevToken=p?"def":a||h,d(t,e),a},indent:function(e,i){if(e.tokenize!=u&&null!=e.tokenize||e.typeAtEndOfLine)return t.Pass;var n=e.context,r=i&&i.charAt(0);if("statement"==n.type&&"}"==r&&(n=n.prev),s.dontIndentStatements)for(;"statement"==n.type&&s.dontIndentStatements.test(n.info);)n=n.prev;if(q.indent){var o=q.indent(e,n,i);if("number"==typeof o)return o}var l=r==n.type,a=n.prev&&"switch"==n.prev.info;if(s.allmanIndentation&&/[{(]/.test(r)){for(;"top"!=n.type&&"}"!=n.type;)n=n.prev;return n.indented}return"statement"==n.type?n.indented+("{"==r?0:g):!n.align||v&&")"==n.type?")"!=n.type||l?n.indented+(l?0:m)+(l||!a||/^(?:case|default)\b/.test(i)?0:m):n.indented+g:n.column+(l?0:1)},electricInput:S?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var y="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile",x="int long char short double float unsigned signed void size_t ptrdiff_t";m(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:l(y),types:l(x+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:l("case do else for if switch while struct"),defKeywords:l("struct"),typeFirstDefinitions:!0,atoms:l("null true false"),hooks:{"#":s,"*":u},modeProps:{fold:["brace","include"]}}),m(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:l(y+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:l(x+" bool wchar_t"),blockKeywords:l("catch class do else finally for if struct switch try while"),defKeywords:l("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:l("true false null"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,hooks:{"#":s,"*":u,u:f,U:f,L:f,R:f,0:c,1:c,2:c,3:c,4:c,5:c,6:c,7:c,8:c,9:c,token:function(t,e,i){if("variable"==i&&"("==t.peek()&&(";"==e.prevToken||null==e.prevToken||"}"==e.prevToken)&&d(t.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),m("text/x-java",{name:"clike",keywords:l("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:l("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:l("catch class do else finally for if switch try while"),defKeywords:l("class interface package enum @interface"),typeFirstDefinitions:!0,atoms:l("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(t){return!t.match("interface",!1)&&(t.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),m("text/x-csharp",{name:"clike",keywords:l("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:l("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:l("catch class do else finally for foreach if struct switch try while"),defKeywords:l("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:l("true false null"),hooks:{"@":function(t,e){return t.eat('"')?(e.tokenize=h,h(t,e)):(t.eatWhile(/[\w\$_]/),"meta")}}}),m("text/x-scala",{name:"clike",keywords:l("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:l("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:l("catch class enum do else finally for forSome if match switch try while"),defKeywords:l("class enum def object package trait type val var"),atoms:l("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},'"':function(t,e){return!!t.match('""')&&(e.tokenize=g,e.tokenize(t,e))},"'":function(t){return t.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(t,i){var n=i.context;return!("}"!=n.type||!n.align||!t.eat(">"))&&(i.context=new e(n.indented,n.column,n.type,n.info,null,n.prev),"operator")}},modeProps:{closeBrackets:{triples:'"'}}}),m("text/x-kotlin",{name:"clike",keywords:l("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend"),types:l("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:l("catch class do else finally for if where try while enum"),defKeywords:l("class val var object package interface fun"),atoms:l("true false null this"),hooks:{'"':function(t,e){return e.tokenize=v(t.match('""')),e.tokenize(t,e)}},modeProps:{closeBrackets:{triples:'"'}}}),m(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:l("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:l("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:l("for while do if else struct"),builtin:l("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:l("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":s},modeProps:{fold:["brace","include"]}}),m("text/x-nesc",{name:"clike",keywords:l(y+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:l(x),blockKeywords:l("case do else for if switch while struct"),atoms:l("null true false"),hooks:{"#":s},modeProps:{fold:["brace","include"]}}),m("text/x-objectivec",{name:"clike",keywords:l(y+"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:l(x),atoms:l("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(t){return t.eatWhile(/[\w\$]/),"keyword"},"#":s,indent:function(t,e,i){if("statement"==e.type&&/^@\w/.test(i))return e.indented}},modeProps:{fold:"brace"}}),m("text/x-squirrel",{name:"clike",keywords:l("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:l(x),blockKeywords:l("case catch class else for foreach if switch try while"),defKeywords:l("function local class"),typeFirstDefinitions:!0,atoms:l("true false null"),hooks:{"#":s},modeProps:{fold:["brace","include"]}});var w=null;m("text/x-ceylon",{name:"clike",keywords:l("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(t){var e=t.charAt(0);return e===e.toUpperCase()&&e!==e.toLowerCase()},blockKeywords:l("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:l("class dynamic function interface module object package value"),builtin:l("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:l("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},'"':function(t,e){return e.tokenize=b(t.match('""')?"triple":"single"),e.tokenize(t,e)},"`":function(t,e){return!(!w||!t.match("`"))&&(e.tokenize=w,w=null,e.tokenize(t,e))},"'":function(t){return t.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(t,e,i){if(("variable"==i||"type"==i)&&"."==e.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})},function(t,e,i){!function(t){t(i(99))}(function(t){"use strict";function e(t,e,i){return/^(?:operator|sof|keyword c|case|new|export|default|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(i||0)))}t.defineMode("javascript",function(i,n){function r(t){for(var e,i=!1,n=!1;null!=(e=t.next());){if(!i){if("/"==e&&!n)return;"["==e?n=!0:n&&"]"==e&&(n=!1)}i=!i&&"\\"==e}}function o(t,e,i){return Ct=t,At=i,e}function l(t,i){var n=t.next();if('"'==n||"'"==n)return i.tokenize=a(n),i.tokenize(t,i);if("."==n&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==n&&t.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return o(n);if("="==n&&t.eat(">"))return o("=>","operator");if("0"==n&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),o("number","number");if("0"==n&&t.eat(/o/i))return t.eatWhile(/[0-7]/i),o("number","number");if("0"==n&&t.eat(/b/i))return t.eatWhile(/[01]/i),o("number","number");if(/\d/.test(n))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number");if("/"==n)return t.eat("*")?(i.tokenize=s,s(t,i)):t.eat("/")?(t.skipToEnd(),o("comment","comment")):e(t,i,1)?(r(t),t.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),o("regexp","string-2")):(t.eatWhile(Pt),o("operator","operator",t.current()));if("`"==n)return i.tokenize=u,u(t,i);if("#"==n)return t.skipToEnd(),o("error","error");if(Pt.test(n))return">"==n&&i.lexical&&">"==i.lexical.type||t.eatWhile(Pt),o("operator","operator",t.current());if(Lt.test(n)){t.eatWhile(Lt);var l=t.current();if("."!=i.lastType){if(Dt.propertyIsEnumerable(l)){var c=Dt[l];return o(c.type,c.style,l)}if("async"==l&&t.match(/^\s*[\(\w]/,!1))return o("async","keyword",l)}return o("variable","variable",l)}}function a(t){return function(e,i){var n,r=!1;if(Tt&&"@"==e.peek()&&e.match(Nt))return i.tokenize=l,o("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=t||r);)r=!r&&"\\"==n;return r||(i.tokenize=l),o("string","string")}}function s(t,e){for(var i,n=!1;i=t.next();){if("/"==i&&n){e.tokenize=l;break}n="*"==i}return o("comment","comment")}function u(t,e){for(var i,n=!1;null!=(i=t.next());){if(!n&&("`"==i||"$"==i&&t.eat("{"))){e.tokenize=l;break}n=!n&&"\\"==i}return o("quasi","string-2",t.current())}function c(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var i=t.string.indexOf("=>",t.start);if(!(i<0)){if(Mt){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,i));n&&(i=n.index)}for(var r=0,o=!1,l=i-1;l>=0;--l){var a=t.string.charAt(l),s=It.indexOf(a);if(s>=0&&s<3){if(!r){++l;break}if(0==--r){"("==a&&(o=!0);break}}else if(s>=3&&s<6)++r;else if(Lt.test(a))o=!0;else{if(/["'\/]/.test(a))return;if(o&&!r){++l;break}}}o&&!r&&(e.fatArrowAt=l)}}function f(t,e,i,n,r,o){this.indented=t,this.column=e,this.type=i,this.prev=r,this.info=o,null!=n&&(this.align=n)}function d(t,e){for(var i=t.localVars;i;i=i.next)if(i.name==e)return!0;for(var n=t.context;n;n=n.prev)for(var i=n.vars;i;i=i.next)if(i.name==e)return!0}function h(t,e,i,n,r){var o=t.cc;for(Ft.state=t,Ft.stream=r,Ft.marked=null,Ft.cc=o,Ft.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){if((o.length?o.pop():Et?_:k)(i,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Ft.marked?Ft.marked:"variable"==i&&d(t,n)?"variable-2":e}}}function p(){for(var t=arguments.length-1;t>=0;t--)Ft.cc.push(arguments[t])}function m(){return p.apply(null,arguments),!0}function g(t){function e(e){for(var i=e;i;i=i.next)if(i.name==t)return!0;return!1}var i=Ft.state;if(Ft.marked="def",i.context){if(e(i.localVars))return;i.localVars={name:t,next:i.localVars}}else{if(e(i.globalVars))return;n.globalVars&&(i.globalVars={name:t,next:i.globalVars})}}function v(){Ft.state.context={prev:Ft.state.context,vars:Ft.state.localVars},Ft.state.localVars=Rt}function b(){Ft.state.localVars=Ft.state.context.vars,Ft.state.context=Ft.state.context.prev}function y(t,e){var i=function(){var i=Ft.state,n=i.indented;if("stat"==i.lexical.type)n=i.lexical.indented;else for(var r=i.lexical;r&&")"==r.type&&r.align;r=r.prev)n=r.indented;i.lexical=new f(n,Ft.stream.column(),t,null,i.lexical,e)};return i.lex=!0,i}function x(){var t=Ft.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function w(t){function e(i){return i==t?m():";"==t?p():m(e)}return e}function k(t,e){return"var"==t?m(y("vardef",e.length),G,w(";"),x):"keyword a"==t?m(y("form"),C,k,x):"keyword b"==t?m(y("form"),k,x):"{"==t?m(y("}"),$,x):";"==t?m():"if"==t?("else"==Ft.state.lexical.info&&Ft.state.cc[Ft.state.cc.length-1]==x&&Ft.state.cc.pop()(),m(y("form"),C,k,x,nt)):"function"==t?m(ut):"for"==t?m(y("form"),rt,k,x):"variable"==t?Mt&&"type"==e?(Ft.marked="keyword",m(Y,w("operator"),Y,w(";"))):m(y("stat"),F):"switch"==t?m(y("form"),C,w("{"),y("}","switch"),$,x,x):"case"==t?m(_,w(":")):"default"==t?m(w(":")):"catch"==t?m(y("form"),v,w("("),ct,w(")"),k,x,b):"class"==t?m(y("form"),dt,x):"export"==t?m(y("stat"),gt,x):"import"==t?m(y("stat"),bt,x):"module"==t?m(y("form"),Q,w("{"),y("}"),$,x,x):"async"==t?m(k):"@"==e?m(_,k):p(y("stat"),_,w(";"),x)}function _(t){return A(t,!1)}function q(t){return A(t,!0)}function C(t){return"("!=t?p():m(y(")"),_,w(")"),x)}function A(t,e){if(Ft.state.fatArrowAt==Ft.stream.start){var i=e?P:D;if("("==t)return m(v,y(")"),W(Q,")"),x,w("=>"),i,b);if("variable"==t)return p(v,Q,w("=>"),i,b)}var n=e?E:T;return jt.hasOwnProperty(t)?m(n):"function"==t?m(ut,n):"class"==t?m(y("form"),ft,x):"keyword c"==t||"async"==t?m(e?O:S):"("==t?m(y(")"),S,w(")"),x,n):"operator"==t||"spread"==t?m(e?q:_):"["==t?m(y("]"),_t,x,n):"{"==t?U(z,"}",null,n):"quasi"==t?p(M,n):"new"==t?m(N(e)):m()}function S(t){return t.match(/[;\}\)\],]/)?p():p(_)}function O(t){return t.match(/[;\}\)\],]/)?p():p(q)}function T(t,e){return","==t?m(_):E(t,e,!1)}function E(t,e,i){var n=0==i?T:E,r=0==i?_:q;return"=>"==t?m(v,i?P:D,b):"operator"==t?/\+\+|--/.test(e)?m(n):"?"==e?m(_,w(":"),r):m(r):"quasi"==t?p(M,n):";"!=t?"("==t?U(q,")","call",n):"."==t?m(R,n):"["==t?m(y("]"),S,w("]"),x,n):Mt&&"as"==e?(Ft.marked="keyword",m(Y,n)):void 0:void 0}function M(t,e){return"quasi"!=t?p():"${"!=e.slice(e.length-2)?m(M):m(_,L)}function L(t){if("}"==t)return Ft.marked="string-2",Ft.state.tokenize=u,m(M)}function D(t){return c(Ft.stream,Ft.state),p("{"==t?k:_)}function P(t){return c(Ft.stream,Ft.state),p("{"==t?k:q)}function N(t){return function(e){return"."==e?m(t?j:I):p(t?q:_)}}function I(t,e){if("target"==e)return Ft.marked="keyword",m(T)}function j(t,e){if("target"==e)return Ft.marked="keyword",m(E)}function F(t){return":"==t?m(x,k):p(T,w(";"),x)}function R(t){if("variable"==t)return Ft.marked="property",m()}function z(t,e){return"async"==t?(Ft.marked="property",m(z)):"variable"==t||"keyword"==Ft.style?(Ft.marked="property",m("get"==e||"set"==e?B:H)):"number"==t||"string"==t?(Ft.marked=Tt?"property":Ft.style+" property",m(H)):"jsonld-keyword"==t?m(H):"modifier"==t?m(z):"["==t?m(_,w("]"),H):"spread"==t?m(_,H):":"==t?p(H):void 0}function B(t){return"variable"!=t?p(H):(Ft.marked="property",m(ut))}function H(t){return":"==t?m(q):"("==t?p(ut):void 0}function W(t,e,i){function n(r,o){if(i?i.indexOf(r)>-1:","==r){var l=Ft.state.lexical;return"call"==l.info&&(l.pos=(l.pos||0)+1),m(function(i,n){return i==e||n==e?p():p(t)},n)}return r==e||o==e?m():m(w(e))}return function(i,r){return i==e||r==e?m():p(t,n)}}function U(t,e,i){for(var n=3;n<arguments.length;n++)Ft.cc.push(arguments[n]);return m(y(e,i),W(t,e),x)}function $(t){return"}"==t?m():p(k,$)}function V(t,e){if(Mt){if(":"==t)return m(Y);if("?"==e)return m(V)}}function Y(t){return"variable"==t?(Ft.marked="type",m(J)):"string"==t||"number"==t||"atom"==t?m(J):"{"==t?m(y("}"),W(Z,"}",",;"),x,J):"("==t?m(W(X,")"),K):void 0}function K(t){if("=>"==t)return m(Y)}function Z(t,e){return"variable"==t||"keyword"==Ft.style?(Ft.marked="property",m(Z)):"?"==e?m(Z):":"==t?m(Y):"["==t?m(_,V,w("]"),Z):void 0}function X(t){return"variable"==t?m(X):":"==t?m(Y):void 0}function J(t,e){return"<"==e?m(y(">"),W(Y,">"),x,J):"|"==e||"."==t?m(Y):"["==t?m(w("]"),J):"extends"==e?m(Y):void 0}function G(){return p(Q,V,et,it)}function Q(t,e){return"modifier"==t?m(Q):"variable"==t?(g(e),m()):"spread"==t?m(Q):"["==t?U(Q,"]"):"{"==t?U(tt,"}"):void 0}function tt(t,e){return"variable"!=t||Ft.stream.match(/^\s*:/,!1)?("variable"==t&&(Ft.marked="property"),"spread"==t?m(Q):"}"==t?p():m(w(":"),Q,et)):(g(e),m(et))}function et(t,e){if("="==e)return m(q)}function it(t){if(","==t)return m(G)}function nt(t,e){if("keyword b"==t&&"else"==e)return m(y("form","else"),k,x)}function rt(t){if("("==t)return m(y(")"),ot,w(")"),x)}function ot(t){return"var"==t?m(G,w(";"),at):";"==t?m(at):"variable"==t?m(lt):p(_,w(";"),at)}function lt(t,e){return"in"==e||"of"==e?(Ft.marked="keyword",m(_)):m(T,at)}function at(t,e){return";"==t?m(st):"in"==e||"of"==e?(Ft.marked="keyword",m(_)):p(_,w(";"),st)}function st(t){")"!=t&&m(_)}function ut(t,e){return"*"==e?(Ft.marked="keyword",m(ut)):"variable"==t?(g(e),m(ut)):"("==t?m(v,y(")"),W(ct,")"),x,V,k,b):Mt&&"<"==e?m(y(">"),W(Y,">"),x,ut):void 0}function ct(t){return"spread"==t?m(ct):p(Q,V,et)}function ft(t,e){return"variable"==t?dt(t,e):ht(t,e)}function dt(t,e){if("variable"==t)return g(e),m(ht)}function ht(t,e){return"<"==e?m(y(">"),W(Y,">"),x,ht):"extends"==e||"implements"==e||Mt&&","==t?m(Mt?Y:_,ht):"{"==t?m(y("}"),pt,x):void 0}function pt(t,e){return"variable"==t||"keyword"==Ft.style?("async"==e||"static"==e||"get"==e||"set"==e||Mt&&("public"==e||"private"==e||"protected"==e||"readonly"==e||"abstract"==e))&&Ft.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Ft.marked="keyword",m(pt)):(Ft.marked="property",m(Mt?mt:ut,pt)):"["==t?m(_,w("]"),Mt?mt:ut,pt):"*"==e?(Ft.marked="keyword",m(pt)):";"==t?m(pt):"}"==t?m():"@"==e?m(_,pt):void 0}function mt(t,e){return"?"==e?m(mt):":"==t?m(Y,et):"="==e?m(q):p(ut)}function gt(t,e){return"*"==e?(Ft.marked="keyword",m(kt,w(";"))):"default"==e?(Ft.marked="keyword",m(_,w(";"))):"{"==t?m(W(vt,"}"),kt,w(";")):p(k)}function vt(t,e){return"as"==e?(Ft.marked="keyword",m(w("variable"))):"variable"==t?p(q,vt):void 0}function bt(t){return"string"==t?m():p(yt,xt,kt)}function yt(t,e){return"{"==t?U(yt,"}"):("variable"==t&&g(e),"*"==e&&(Ft.marked="keyword"),m(wt))}function xt(t){if(","==t)return m(yt,xt)}function wt(t,e){if("as"==e)return Ft.marked="keyword",m(yt)}function kt(t,e){if("from"==e)return Ft.marked="keyword",m(_)}function _t(t){return"]"==t?m():p(W(q,"]"))}function qt(t,e){return"operator"==t.lastType||","==t.lastType||Pt.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}var Ct,At,St=i.indentUnit,Ot=n.statementIndent,Tt=n.jsonld,Et=n.json||Tt,Mt=n.typescript,Lt=n.wordCharacters||/[\w$\xa1-\uffff]/,Dt=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),i=t("keyword b"),n=t("keyword c"),r=t("operator"),o={type:"atom",style:"atom"},l={if:t("if"),while:e,with:e,else:i,do:i,try:i,finally:i,return:n,break:n,continue:n,new:t("new"),delete:n,throw:n,debugger:n,var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:r,typeof:r,instanceof:r,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:t("this"),class:t("class"),super:t("atom"),yield:n,export:t("export"),import:t("import"),extends:n,await:n};if(Mt){var a={type:"variable",style:"type"},s={interface:t("class"),implements:n,namespace:n,module:t("module"),enum:t("module"),public:t("modifier"),private:t("modifier"),protected:t("modifier"),abstract:t("modifier"),string:a,number:a,boolean:a,any:a};for(var u in s)l[u]=s[u]}return l}(),Pt=/[+\-*&%=<>!?|~^@]/,Nt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,It="([{}])",jt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},Ft={state:null,column:null,marked:null,cc:null},Rt={name:"this",next:{name:"arguments"}};return x.lex=!0,{startState:function(t){var e={tokenize:l,lastType:"sof",cc:[],lexical:new f((t||0)-St,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:t||0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),c(t,e)),e.tokenize!=s&&t.eatSpace())return null;var i=e.tokenize(t,e);return"comment"==Ct?i:(e.lastType="operator"!=Ct||"++"!=At&&"--"!=At?Ct:"incdec",h(e,i,Ct,At,t))},indent:function(e,i){if(e.tokenize==s)return t.Pass;if(e.tokenize!=l)return 0;var r,o=i&&i.charAt(0),a=e.lexical;if(!/^\s*else\b/.test(i))for(var u=e.cc.length-1;u>=0;--u){var c=e.cc[u];if(c==x)a=a.prev;else if(c!=nt)break}for(;("stat"==a.type||"form"==a.type)&&("}"==o||(r=e.cc[e.cc.length-1])&&(r==T||r==E)&&!/^[,\.=+\-*:?[\(]/.test(i));)a=a.prev;Ot&&")"==a.type&&"stat"==a.prev.type&&(a=a.prev);var f=a.type,d=o==f;return"vardef"==f?a.indented+("operator"==e.lastType||","==e.lastType?a.info+1:0):"form"==f&&"{"==o?a.indented:"form"==f?a.indented+St:"stat"==f?a.indented+(qt(e,i)?Ot||St:0):"switch"!=a.info||d||0==n.doubleIndentSwitch?a.align?a.column+(d?0:1):a.indented+(d?0:St):a.indented+(/^(?:case|default)\b/.test(i)?St:2*St)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Et?null:"/*",blockCommentEnd:Et?null:"*/",lineComment:Et?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Et?"json":"javascript",jsonldMode:Tt,jsonMode:Et,expressionAllowed:e,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=_&&e!=q||t.cc.pop()}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(t,e,i){!function(t){t(i(99))}(function(t){"use strict";function e(t){return new RegExp("^(("+t.join(")|(")+"))\\b")}function i(t){return t.scopes[t.scopes.length-1]}var n=e(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];t.registerHelper("hintWords","python",r.concat(o)),t.defineMode("python",function(l,a){function s(t,e){if(t.sol()&&(e.indent=t.indentation()),t.sol()&&"py"==i(e).type){var n=i(e).offset;if(t.eatSpace()){var r=t.indentation();return r>n?f(e):r<n&&h(t,e)&&"#"!=t.peek()&&(e.errorToken=!0),null}var o=u(t,e);return n>0&&h(t,e)&&(o+=" "+m),o}return u(t,e)}function u(t,e){if(t.eatSpace())return null;if("#"==t.peek())return t.skipToEnd(),"comment";if(t.match(/^[0-9\.]/,!1)){var i=!1;if(t.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(i=!0),t.match(/^[\d_]+\.\d*/)&&(i=!0),t.match(/^\.\d+/)&&(i=!0),i)return t.eat(/J/i),"number";var r=!1;if(t.match(/^0x[0-9a-f_]+/i)&&(r=!0),t.match(/^0b[01_]+/i)&&(r=!0),t.match(/^0o[0-7_]+/i)&&(r=!0),t.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(t.eat(/J/i),r=!0),t.match(/^0(?![\dx])/i)&&(r=!0),r)return t.eat(/L/i),"number"}return t.match(A)?(e.tokenize=c(t.current()),e.tokenize(t,e)):t.match(y)||t.match(b)?"punctuation":t.match(v)||t.match(q)?"operator":t.match(g)?"punctuation":"."==e.lastToken&&t.match(C)?"property":t.match(S)||t.match(n)?"keyword":t.match(O)?"builtin":t.match(/^(self|cls)\b/)?"variable-2":t.match(C)?"def"==e.lastToken||"class"==e.lastToken?"def":"variable":(t.next(),m)}function c(t){function e(e,r){for(;!e.eol();)if(e.eatWhile(/[^'"\\]/),e.eat("\\")){if(e.next(),i&&e.eol())return n}else{if(e.match(t))return r.tokenize=s,n;e.eat(/['"]/)}if(i){if(a.singleLineStringErrors)return m;r.tokenize=s}return n}for(;"rubf".indexOf(t.charAt(0).toLowerCase())>=0;)t=t.substr(1);var i=1==t.length,n="string";return e.isString=!0,e}function f(t){for(;"py"!=i(t).type;)t.scopes.pop();t.scopes.push({offset:i(t).offset+l.indentUnit,type:"py",align:null})}function d(t,e,i){var n=t.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:t.column()+1;e.scopes.push({offset:e.indent+x,type:i,align:n})}function h(t,e){for(var n=t.indentation();e.scopes.length>1&&i(e).offset>n;){if("py"!=i(e).type)return!0;e.scopes.pop()}return i(e).offset!=n}function p(t,e){t.sol()&&(e.beginningOfLine=!0);var n=e.tokenize(t,e),r=t.current();if(e.beginningOfLine&&"@"==r)return t.match(C,!1)?"meta":_?"operator":m;/\S/.test(r)&&(e.beginningOfLine=!1),"variable"!=n&&"builtin"!=n||"meta"!=e.lastToken||(n="meta"),"pass"!=r&&"return"!=r||(e.dedent+=1),"lambda"==r&&(e.lambda=!0),":"!=r||e.lambda||"py"!=i(e).type||f(e);var o=1==r.length?"[({".indexOf(r):-1;if(-1!=o&&d(t,e,"])}".slice(o,o+1)),-1!=(o="])}".indexOf(r))){if(i(e).type!=r)return m;e.indent=e.scopes.pop().offset-x}return e.dedent>0&&t.eol()&&"py"==i(e).type&&(e.scopes.length>1&&e.scopes.pop(),e.dedent-=1),n}var m="error",g=a.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.]/,v=a.doubleOperators||/^([!<>]==|<>|<<|>>|\/\/|\*\*)/,b=a.doubleDelimiters||/^(\+=|\-=|\*=|%=|\/=|&=|\|=|\^=)/,y=a.tripleDelimiters||/^(\/\/=|>>=|<<=|\*\*=)/,x=a.hangingIndent||l.indentUnit,w=r,k=o;void 0!=a.extra_keywords&&(w=w.concat(a.extra_keywords)),void 0!=a.extra_builtins&&(k=k.concat(a.extra_builtins));var _=!(a.version&&Number(a.version)<3);if(_){var q=a.singleOperators||/^[\+\-\*\/%&|\^~<>!@]/,C=a.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;w=w.concat(["nonlocal","False","True","None","async","await"]),k=k.concat(["ascii","bytes","exec","print"]);var A=new RegExp("^(([rbuf]|(br))?('{3}|\"{3}|['\"]))","i")}else{var q=a.singleOperators||/^[\+\-\*\/%&|\^~<>!]/,C=a.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;w=w.concat(["exec","print"]),k=k.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);var A=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var S=e(w),O=e(k);return{startState:function(t){return{tokenize:s,scopes:[{offset:t||0,type:"py",align:null}],indent:t||0,lastToken:null,lambda:!1,dedent:0}},token:function(t,e){var i=e.errorToken;i&&(e.errorToken=!1);var n=p(t,e);return n&&"comment"!=n&&(e.lastToken="keyword"==n||"punctuation"==n?t.current():n),"punctuation"==n&&(n=null),t.eol()&&e.lambda&&(e.lambda=!1),i?n+" "+m:n},indent:function(e,n){if(e.tokenize!=s)return e.tokenize.isString?t.Pass:0;var r=i(e),o=r.type==n.charAt(0);return null!=r.align?r.align-(o?1:0):r.offset-(o?x:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"}}),t.defineMIME("text/x-python","python");t.defineMIME("text/x-cython",{name:"python",extra_keywords:function(t){return t.split(" ")}("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})})},function(t,e,i){!function(t){t(i(99))}(function(t){"use strict";t.defineMode("ruby",function(t){function e(t){for(var e={},i=0,n=t.length;i<n;++i)e[t[i]]=!0;return e}function i(t,e,i){return i.tokenize.push(t),t(e,i)}function n(t,e){if(t.sol()&&t.match("=begin")&&t.eol())return e.tokenize.push(u),"comment";if(t.eatSpace())return null;var n,o=t.next();if("`"==o||"'"==o||'"'==o)return i(a(o,"string",'"'==o||"`"==o),t,e);if("/"==o)return r(t)?i(a(o,"string-2",!0),t,e):"operator";if("%"==o){var l="string",f=!0;t.eat("s")?l="atom":t.eat(/[WQ]/)?l="string":t.eat(/[r]/)?l="string-2":t.eat(/[wxq]/)&&(l="string",f=!1);var d=t.eat(/[^\w\s=]/);return d?(p.propertyIsEnumerable(d)&&(d=p[d]),i(a(d,l,f,!0),t,e)):"operator"}if("#"==o)return t.skipToEnd(),"comment";if("<"==o&&(n=t.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return i(s(n[1]),t,e);if("0"==o)return t.eat("x")?t.eatWhile(/[\da-fA-F]/):t.eat("b")?t.eatWhile(/[01]/):t.eatWhile(/[0-7]/),"number";if(/\d/.test(o))return t.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==o){for(;t.match(/^\\[CM]-/););return t.eat("\\")?t.eatWhile(/\w/):t.next(),"string"}if(":"==o)return t.eat("'")?i(a("'","atom",!1),t,e):t.eat('"')?i(a('"',"atom",!0),t,e):t.eat(/[\<\>]/)?(t.eat(/[\<\>]/),"atom"):t.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":t.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(t.eatWhile(/[\w$\xa1-\uffff]/),t.eat(/[\?\!\=]/),"atom"):"operator";if("@"==o&&t.match(/^@?[a-zA-Z_\xa1-\uffff]/))return t.eat("@"),t.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if("$"==o)return t.eat(/[a-zA-Z_]/)?t.eatWhile(/[\w]/):t.eat(/\d/)?t.eat(/\d/):t.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(o))return t.eatWhile(/[\w\xa1-\uffff]/),t.eat(/[\?\!]/),t.eat(":")?"atom":"ident";if("|"!=o||!e.varList&&"{"!=e.lastTok&&"do"!=e.lastTok){if(/[\(\)\[\]{}\\;]/.test(o))return c=o,null;if("-"==o&&t.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(o)){var h=t.eatWhile(/[=+\-\/*:\.^%<>~|]/);return"."!=o||h||(c="."),"operator"}return null}return c="|",null}function r(t){for(var e,i=t.pos,n=0,r=!1,o=!1;null!=(e=t.next());)if(o)o=!1;else{if("[{(".indexOf(e)>-1)n++;else if("]})".indexOf(e)>-1){if(--n<0)break}else if("/"==e&&0==n){r=!0;break}o="\\"==e}return t.backUp(t.pos-i),r}function o(t){return t||(t=1),function(e,i){if("}"==e.peek()){if(1==t)return i.tokenize.pop(),i.tokenize[i.tokenize.length-1](e,i);i.tokenize[i.tokenize.length-1]=o(t-1)}else"{"==e.peek()&&(i.tokenize[i.tokenize.length-1]=o(t+1));return n(e,i)}}function l(){var t=!1;return function(e,i){return t?(i.tokenize.pop(),i.tokenize[i.tokenize.length-1](e,i)):(t=!0,n(e,i))}}function a(t,e,i,n){return function(r,a){var s,u=!1;for("read-quoted-paused"===a.context.type&&(a.context=a.context.prev,r.eat("}"));null!=(s=r.next());){if(s==t&&(n||!u)){a.tokenize.pop();break}if(i&&"#"==s&&!u){if(r.eat("{")){"}"==t&&(a.context={prev:a.context,type:"read-quoted-paused"}),a.tokenize.push(o());break}if(/[@\$]/.test(r.peek())){a.tokenize.push(l());break}}u=!u&&"\\"==s}return e}}function s(t){return function(e,i){return e.match(t)?i.tokenize.pop():e.skipToEnd(),"string"}}function u(t,e){return t.sol()&&t.match("=end")&&t.eol()&&e.tokenize.pop(),t.skipToEnd(),"comment"}var c,f=e(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),d=e(["def","class","case","for","while","until","module","then","catch","loop","proc","begin"]),h=e(["end","until"]),p={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[n],indented:0,context:{type:"top",indented:-t.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(t,e){c=null,t.sol()&&(e.indented=t.indentation());var i,n=e.tokenize[e.tokenize.length-1](t,e),r=c;if("ident"==n){var o=t.current();n="."==e.lastTok?"property":f.propertyIsEnumerable(t.current())?"keyword":/^[A-Z]/.test(o)?"tag":"def"==e.lastTok||"class"==e.lastTok||e.varList?"def":"variable","keyword"==n&&(r=o,d.propertyIsEnumerable(o)?i="indent":h.propertyIsEnumerable(o)?i="dedent":"if"!=o&&"unless"!=o||t.column()!=t.indentation()?"do"==o&&e.context.indented<e.indented&&(i="indent"):i="indent")}return(c||n&&"comment"!=n)&&(e.lastTok=r),"|"==c&&(e.varList=!e.varList),"indent"==i||/[\(\[\{]/.test(c)?e.context={prev:e.context,type:c||n,indented:e.indented}:("dedent"==i||/[\)\]\}]/.test(c))&&e.context.prev&&(e.context=e.context.prev),t.eol()&&(e.continuedLine="\\"==c||"operator"==n),n},indent:function(e,i){if(e.tokenize[e.tokenize.length-1]!=n)return 0;var r=i&&i.charAt(0),o=e.context,l=o.type==p[r]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(i);return o.indented+(l?0:t.indentUnit)+(e.continuedLine?t.indentUnit:0)},electricInput:/^\s*(?:end|rescue|elsif|else|\})$/,lineComment:"#"}}),t.defineMIME("text/x-ruby","ruby")})},function(t,e,i){!function(t){t(i(99))}(function(t){"use strict";t.defineMode("shell",function(){function t(t,e){for(var i=e.split(" "),n=0;n<i.length;n++)r[i[n]]=t}function e(t,e){if(t.eatSpace())return null;var l=t.sol(),a=t.next();if("\\"===a)return t.next(),null;if("'"===a||'"'===a||"`"===a)return e.tokens.unshift(i(a,"`"===a?"quote":"string")),n(t,e);if("#"===a)return l&&t.eat("!")?(t.skipToEnd(),"meta"):(t.skipToEnd(),"comment");if("$"===a)return e.tokens.unshift(o),n(t,e);if("+"===a||"="===a)return"operator";if("-"===a)return t.eat("-"),t.eatWhile(/\w/),"attribute";if(/\d/.test(a)&&(t.eatWhile(/\d/),t.eol()||!/\w/.test(t.peek())))return"number";t.eatWhile(/[\w-]/);var s=t.current();return"="===t.peek()&&/\w+/.test(s)?"def":r.hasOwnProperty(s)?r[s]:null}function i(t,e){var r="("==t?")":"{"==t?"}":t;return function(l,a){for(var s,u=!1,c=!1;null!=(s=l.next());){if(s===r&&!c){u=!0;break}if("$"===s&&!c&&"'"!==t){c=!0,l.backUp(1),a.tokens.unshift(o);break}if(!c&&s===t&&t!==r)return a.tokens.unshift(i(t,e)),n(l,a);c=!c&&"\\"===s}return!u&&c||a.tokens.shift(),e}}function n(t,i){return(i.tokens[0]||e)(t,i)}var r={};t("atom","true false"),t("keyword","if then do else elif while until for in esac fi fin fil done exit set unset export function"),t("builtin","ab awk bash beep cat cc cd chown chmod chroot clear cp curl cut diff echo find gawk gcc get git grep hg kill killall ln ls make mkdir openssl mv nc node npm ping ps restart rm rmdir sed service sh shopt shred source sort sleep ssh start stop su sudo svn tee telnet top touch vi vim wall wc wget who write yes zsh");var o=function(t,e){e.tokens.length>1&&t.eat("$");var r=t.next();return/['"({]/.test(r)?(e.tokens[0]=i(r,"("==r?"quote":"{"==r?"def":"string"),n(t,e)):(/\d/.test(r)||t.eatWhile(/\w/),e.tokens.shift(),"def")};return{startState:function(){return{tokens:[]}},token:function(t,e){return n(t,e)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),t.defineMIME("text/x-sh","shell")})},function(t,e,i){i(267);var n=i(100).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},function(t,e,i){var n=i(119);n(n.S+n.F*!i(95),"Object",{defineProperty:i(96).f})},function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,"",""])},,,,,,function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,".CodeMirror-code{font-family:Menlo,Monaco,Consolas,Courier New,monospace}",""])},,function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,"#addmodule{width:400px;margin:0 auto}#addmodule .el-tag,.input-new-tag{margin-left:10px}.input-new-tag{width:78px;vertical-align:bottom}.button-new-tag{margin-left:10px;height:24px;line-height:22px;padding-top:0;padding-bottom:0}.dis{display:none}.btnIcon{width:60px;height:60px;border:1px dashed #d1dbe5;font-size:12px;color:#48576a;line-height:60px;text-align:center;border-radius:2px;cursor:pointer}.sysicon .active{display:block;color:#6adc71;float:right}.sysicon .liactive{background:#1681c4;border-radius:10px}.sysicon .nactive{display:none}.sysicon{background-color:#1d6aa7;border-radius:5px;cursor:pointer;padding:0 0 10px}.sysicon li:hover{border-radius:10px;background:#1681c4}.sysicon .iconlist{padding:10px;float:left;width:40px;height:40px;list-style-type:none;margin:10px 0 0 10px}",""])},function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,"",""])},,,function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,'.editStyle{border:1px solid red}.keyattr .el-form-item.is-required .el-form-item__label:before{content:"\\F084   *";color:#ff4949;margin-right:4px;font:normal normal normal 14px/1 FontAwesome;display:inline-block}#tb .el-tabs__header{border:0;margin-bottom:0}.attredit .el-form-item{width:80%;float:left;margin-bottom:0}.list-group-item *,.list-group .el-input .el-input__inner{cursor:move}.ul-group{padding-bottom:60px}#showform .el-form-item__label{overflow:hidden;height:36px}.attredit .el-form-item__label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.disnone{display:none}.attrtype{width:30%;padding:30px 10px 0 40px;border-left:1px solid #d1dbe5;float:right;font-size:12px;color:#48576a}.attredit{width:60%;float:left;padding-top:30px;font-size:12px}.prompt{margin:30px 0 20px;width:100%;height:25px;border:1px dashed #d1dbe5;font-size:12px;color:#48576a;text-align:center;line-height:25px}.attredit .list-group-before{list-style-type:none;border:1px dashed #d1dbe5;background:#fff;width:90%;margin:0 auto;height:30px;line-height:30px;padding-left:10px;cursor:move}.attrtype .list-group-before{width:43%;height:25px;list-style-type:none;border:1px solid #c2f0ff;margin-top:10px;text-align:left;padding-left:10px;line-height:25px;float:left;cursor:move}.attrtype .ul{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%}#tb .el-tabs__content{padding-top:1px}.list-group-item{cursor:move;list-style-type:none;height:40px;padding:0 0 0 10px;line-height:35px;border:0}.attredit .list-group-item button{margin-left:10px}.list-group-item:after{content:".";display:block;height:0;clear:both;visibility:hidden}.flip-list-move{transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}.no-move{transition:-webkit-transform 0s;transition:transform 0s;transition:transform 0s,-webkit-transform 0s}.ghost{opacity:.5;background:#c8ebfb}.list-group{min-height:40px}.list-group-item i{cursor:pointer}.field-name{float:left;margin-right:20px}.field-name-inner{float:left;width:80%}.field-text{width:70%;line-height:40px;border:1px solid #ddd;display:inline-block}.groupLine{width:300px}.group{height:30px;background:#20a0ff;margin-top:3px;color:#fff;line-height:30px;margin-left:-100px;border-radius:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.form-script .el-form-item__content{line-height:23px;font-size:16px}',""])},,function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,".dis{display:none}",""])},function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,"body,html{height:100%;margin:0}#module .el-tag{margin-left:10px}.sysicon .active{display:block;color:#6adc71;float:right}.liactive{background:#1681c4;border-radius:10px}.nactive{display:none}.module .el-submenu__title:hover{background-color:#fff}.module .el-submenu .el-menu-item:hover{background:#20a0ff}.module .el-menu-item.is-active{color:#48576a;background-color:#20a0ff}.module .el-submenu .el-menu-item{min-width:0}.menuitemName{display:inline-block;width:85%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.iconlist{float:left;width:40px;height:40px;list-style-type:none;margin:10px 0 0 10px}.module .el-menu-item,.module .el-submenu__title{border-bottom:1px solid #dcdcdc}.module .el-submenu.is-active .el-submenu__title{border-bottom-color:#dcdcdc}",""])},function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,"",""])},,function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,'.el-form-item.is-required.keyattr .el-form-item__label:before{content:"\\F084   *";color:#ff4949;margin-right:4px;font:normal normal normal 14px/1 FontAwesome;display:inline-block}',""])},,function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,"",""])},,function(t,e,i){e=t.exports=i(7)(void 0),e.push([t.i,"",""])},,,,,function(t,e,i){e=t.exports=i(7)(!1),e.push([t.i,".CodeMirror-dialog{position:absolute;left:0;right:0;background:inherit;z-index:15;padding:.1em .8em;overflow:hidden;color:inherit}.CodeMirror-dialog-top{border-bottom:1px solid #eee;top:0}.CodeMirror-dialog-bottom{border-top:1px solid #eee;bottom:0}.CodeMirror-dialog input{border:none;outline:none;background:transparent;width:20em;color:inherit;font-family:monospace}.CodeMirror-dialog button{font-size:70%}",""])},function(t,e,i){e=t.exports=i(7)(!1),e.push([t.i,".CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;-webkit-box-shadow:2px 3px 5px rgba(0,0,0,.2);-moz-box-shadow:2px 3px 5px rgba(0,0,0,.2);box-shadow:2px 3px 5px rgba(0,0,0,.2);border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}",""])},function(t,e,i){e=t.exports=i(7)(!1),e.push([t.i,'.CodeMirror{font-family:monospace;height:300px;color:#000}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0f0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background:#ffa;background:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}',""])},function(t,e,i){e=t.exports=i(7)(!1),e.push([t.i,".cm-s-base16-dark.CodeMirror{background:#151515;color:#e0e0e0}.cm-s-base16-dark div.CodeMirror-selected{background:#303030}.cm-s-base16-dark .CodeMirror-line::selection,.cm-s-base16-dark .CodeMirror-line>span::selection,.cm-s-base16-dark .CodeMirror-line>span>span::selection{background:rgba(48,48,48,.99)}.cm-s-base16-dark .CodeMirror-line::-moz-selection,.cm-s-base16-dark .CodeMirror-line>span::-moz-selection,.cm-s-base16-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(48,48,48,.99)}.cm-s-base16-dark .CodeMirror-gutters{background:#151515;border-right:0}.cm-s-base16-dark .CodeMirror-guttermarker{color:#ac4142}.cm-s-base16-dark .CodeMirror-guttermarker-subtle,.cm-s-base16-dark .CodeMirror-linenumber{color:#505050}.cm-s-base16-dark .CodeMirror-cursor{border-left:1px solid #b0b0b0}.cm-s-base16-dark span.cm-comment{color:#8f5536}.cm-s-base16-dark span.cm-atom,.cm-s-base16-dark span.cm-number{color:#aa759f}.cm-s-base16-dark span.cm-attribute,.cm-s-base16-dark span.cm-property{color:#90a959}.cm-s-base16-dark span.cm-keyword{color:#ac4142}.cm-s-base16-dark span.cm-string{color:#f4bf75}.cm-s-base16-dark span.cm-variable{color:#90a959}.cm-s-base16-dark span.cm-variable-2{color:#6a9fb5}.cm-s-base16-dark span.cm-def{color:#d28445}.cm-s-base16-dark span.cm-bracket{color:#e0e0e0}.cm-s-base16-dark span.cm-tag{color:#ac4142}.cm-s-base16-dark span.cm-link{color:#aa759f}.cm-s-base16-dark span.cm-error{background:#ac4142;color:#b0b0b0}.cm-s-base16-dark .CodeMirror-activeline-background{background:#202020}.cm-s-base16-dark .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}",""])},function(t,e,i){var n=i(295);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("1a104f66",n,!0)},function(t,e,i){var n=i(296);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("0595b1d6",n,!0)},function(t,e,i){var n=i(297);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("177dcf2b",n,!0)},function(t,e,i){var n=i(298);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("d67b4a14",n,!0)},function(t,e,i){var n,r;/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
!function(o){"use strict";n=o,void 0!==(r="function"==typeof n?n.call(e,i,e,t):n)&&(t.exports=r)}(function(){"use strict";function t(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=y({},e),t[$]=this;var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var n in i)!(n in e)&&(e[n]=i[n]);lt(e);for(var r in this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&G,o(t,"mousedown",this._onTapStart),o(t,"touchstart",this._onTapStart),o(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(o(t,"dragover",this),o(t,"dragenter",this)),rt.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function e(t,e){"clone"!==t.lastPullMode&&(e=!0),C&&C.state!==e&&(s(C,"display",e?"none":""),e||C.state&&(t.options.group.revertClone?(A.insertBefore(C,S),t._animate(k,C)):A.insertBefore(C,k)),C.state=e)}function i(t,e,i){if(t){i=i||Y;do{if(">*"===e&&t.parentNode===i||v(t,e))return t}while(t=n(t))}return null}function n(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function r(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function o(t,e,i){t.addEventListener(e,i,J)}function l(t,e,i){t.removeEventListener(e,i,J)}function a(t,e,i){if(t)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(W," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(W," ")}}function s(t,e,i){var n=t&&t.style;if(n){if(void 0===i)return Y.defaultView&&Y.defaultView.getComputedStyle?i=Y.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in n||(e="-webkit-"+e),n[e]=i+("string"==typeof i?"":"px")}}function u(t,e,i){if(t){var n=t.getElementsByTagName(e),r=0,o=n.length;if(i)for(;r<o;r++)i(n[r],r);return n}return[]}function c(t,e,i,n,r,o,l){t=t||e[$];var a=Y.createEvent("Event"),s=t.options,u="on"+i.charAt(0).toUpperCase()+i.substr(1);a.initEvent(i,!0,!0),a.to=e,a.from=r||e,a.item=n||e,a.clone=C,a.oldIndex=o,a.newIndex=l,e.dispatchEvent(a),s[u]&&s[u].call(t,a)}function f(t,e,i,n,r,o,l,a){var s,u,c=t[$],f=c.options.onMove;return s=Y.createEvent("Event"),s.initEvent("move",!0,!0),s.to=e,s.from=t,s.dragged=i,s.draggedRect=n,s.related=r||e,s.relatedRect=o||e.getBoundingClientRect(),s.willInsertAfter=a,t.dispatchEvent(s),f&&(u=f.call(c,s,l)),u}function d(t){t.draggable=!1}function h(){tt=!1}function p(t,e){var i=t.lastElementChild,n=i.getBoundingClientRect();return e.clientY-(n.top+n.height)>5||e.clientX-(n.left+n.width)>5}function m(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function g(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!v(t,e)||i++;return i}function v(t,e){if(t){e=e.split(".");var i=e.shift().toUpperCase(),n=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==i&&t.nodeName.toUpperCase()!=i||e.length&&((" "+t.className+" ").match(n)||[]).length!=e.length)}return!1}function b(t,e){var i,n;return function(){void 0===i&&(i=arguments,n=this,setTimeout(function(){1===i.length?t.call(n,i[0]):t.apply(n,i),i=void 0},e))}}function y(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function x(t){return Z?Z(t).clone(!0)[0]:X&&X.dom?X.dom(t).cloneNode(!0):t.cloneNode(!0)}function w(t){for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var n=e[i];n.checked&&nt.push(n)}}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var k,_,q,C,A,S,O,T,E,M,L,D,P,N,I,j,F,R,z,B,H={},W=/\s+/g,U=/left|right|inline/,$="Sortable"+(new Date).getTime(),V=window,Y=V.document,K=V.parseInt,Z=V.jQuery||V.Zepto,X=V.Polymer,J=!1,G=!!("draggable"in Y.createElement("div")),Q=function(t){return!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&(t=Y.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents)}(),tt=!1,et=Math.abs,it=Math.min,nt=[],rt=[],ot=b(function(t,e,i){if(i&&e.scroll){var n,r,o,l,a,s,u=i[$],c=e.scrollSensitivity,f=e.scrollSpeed,d=t.clientX,h=t.clientY,p=window.innerWidth,m=window.innerHeight;if(E!==i&&(T=e.scroll,E=i,M=e.scrollFn,!0===T)){T=i;do{if(T.offsetWidth<T.scrollWidth||T.offsetHeight<T.scrollHeight)break}while(T=T.parentNode)}T&&(n=T,r=T.getBoundingClientRect(),o=(et(r.right-d)<=c)-(et(r.left-d)<=c),l=(et(r.bottom-h)<=c)-(et(r.top-h)<=c)),o||l||(o=(p-d<=c)-(d<=c),l=(m-h<=c)-(h<=c),(o||l)&&(n=V)),H.vx===o&&H.vy===l&&H.el===n||(H.el=n,H.vx=o,H.vy=l,clearInterval(H.pid),n&&(H.pid=setInterval(function(){if(s=l?l*f:0,a=o?o*f:0,"function"==typeof M)return M.call(u,a,s,t);n===V?V.scrollTo(V.pageXOffset+a,V.pageYOffset+s):(n.scrollTop+=s,n.scrollLeft+=a)},24)))}},30),lt=function(t){function e(t,e){return void 0!==t&&!0!==t||(t=i.name),"function"==typeof t?t:function(i,n){var r=n.options.group.name;return e?t:t&&(t.join?t.indexOf(r)>-1:r==t)}}var i={},n=t.group;n&&"object"==typeof n||(n={name:n}),i.name=n.name,i.checkPull=e(n.pull,!0),i.checkPut=e(n.put),i.revertClone=n.revertClone,t.group=i};t.prototype={constructor:t,_onTapStart:function(t){var e,n=this,r=this.el,o=this.options,l=o.preventOnFilter,a=t.type,s=t.touches&&t.touches[0],u=(s||t).target,f=t.target.shadowRoot&&t.path[0]||u,d=o.filter;if(w(r),!k&&!("mousedown"===a&&0!==t.button||o.disabled)&&(u=i(u,o.draggable,r))&&O!==u){if(e=g(u,o.draggable),"function"==typeof d){if(d.call(this,t,u,this))return c(n,f,"filter",u,r,e),void(l&&t.preventDefault())}else if(d&&(d=d.split(",").some(function(t){if(t=i(f,t.trim(),r))return c(n,t,"filter",u,r,e),!0})))return void(l&&t.preventDefault());o.handle&&!i(f,o.handle,r)||this._prepareDragStart(t,s,u,e)}},_prepareDragStart:function(t,e,i,n){var r,l=this,s=l.el,f=l.options,h=s.ownerDocument;i&&!k&&i.parentNode===s&&(R=t,A=s,k=i,_=k.parentNode,S=k.nextSibling,O=i,j=f.group,N=n,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,k.style["will-change"]="transform",r=function(){l._disableDelayedDrag(),k.draggable=l.nativeDraggable,a(k,f.chosenClass,!0),l._triggerDragStart(t,e),c(l,A,"choose",k,A,N)},f.ignore.split(",").forEach(function(t){u(k,t.trim(),d)}),o(h,"mouseup",l._onDrop),o(h,"touchend",l._onDrop),o(h,"touchcancel",l._onDrop),o(h,"pointercancel",l._onDrop),o(h,"selectstart",l),f.delay?(o(h,"mouseup",l._disableDelayedDrag),o(h,"touchend",l._disableDelayedDrag),o(h,"touchcancel",l._disableDelayedDrag),o(h,"mousemove",l._disableDelayedDrag),o(h,"touchmove",l._disableDelayedDrag),o(h,"pointermove",l._disableDelayedDrag),l._dragStartTimer=setTimeout(r,f.delay)):r())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),l(t,"mouseup",this._disableDelayedDrag),l(t,"touchend",this._disableDelayedDrag),l(t,"touchcancel",this._disableDelayedDrag),l(t,"mousemove",this._disableDelayedDrag),l(t,"touchmove",this._disableDelayedDrag),l(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,e){e=e||("touch"==t.pointerType?t:null),e?(R={target:k,clientX:e.clientX,clientY:e.clientY},this._onDragStart(R,"touch")):this.nativeDraggable?(o(k,"dragend",this),o(A,"dragstart",this._onDragStart)):this._onDragStart(R,!0);try{Y.selection?setTimeout(function(){Y.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){if(A&&k){var e=this.options;a(k,e.ghostClass,!0),a(k,e.dragClass,!1),t.active=this,c(this,A,"start",k,A,N)}else this._nulling()},_emulateDragOver:function(){if(z){if(this._lastX===z.clientX&&this._lastY===z.clientY)return;this._lastX=z.clientX,this._lastY=z.clientY,Q||s(q,"display","none");var t=Y.elementFromPoint(z.clientX,z.clientY),e=t,i=rt.length;if(e)do{if(e[$]){for(;i--;)rt[i]({clientX:z.clientX,clientY:z.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);Q||s(q,"display","")}},_onTouchMove:function(e){if(R){var i=this.options,n=i.fallbackTolerance,r=i.fallbackOffset,o=e.touches?e.touches[0]:e,l=o.clientX-R.clientX+r.x,a=o.clientY-R.clientY+r.y,u=e.touches?"translate3d("+l+"px,"+a+"px,0)":"translate("+l+"px,"+a+"px)";if(!t.active){if(n&&it(et(o.clientX-this._lastX),et(o.clientY-this._lastY))<n)return;this._dragStarted()}this._appendGhost(),B=!0,z=o,s(q,"webkitTransform",u),s(q,"mozTransform",u),s(q,"msTransform",u),s(q,"transform",u),e.preventDefault()}},_appendGhost:function(){if(!q){var t,e=k.getBoundingClientRect(),i=s(k),n=this.options;q=k.cloneNode(!0),a(q,n.ghostClass,!1),a(q,n.fallbackClass,!0),a(q,n.dragClass,!0),s(q,"top",e.top-K(i.marginTop,10)),s(q,"left",e.left-K(i.marginLeft,10)),s(q,"width",e.width),s(q,"height",e.height),s(q,"opacity","0.8"),s(q,"position","fixed"),s(q,"zIndex","100000"),s(q,"pointerEvents","none"),n.fallbackOnBody&&Y.body.appendChild(q)||A.appendChild(q),t=q.getBoundingClientRect(),s(q,"width",2*e.width-t.width),s(q,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var i=t.dataTransfer,n=this.options;this._offUpEvents(),j.checkPull(this,this,k,t)&&(C=x(k),C.draggable=!1,C.style["will-change"]="",s(C,"display","none"),a(C,this.options.chosenClass,!1),A.insertBefore(C,k),c(this,A,"clone",k)),a(k,n.dragClass,!0),e?("touch"===e?(o(Y,"touchmove",this._onTouchMove),o(Y,"touchend",this._onDrop),o(Y,"touchcancel",this._onDrop),o(Y,"pointermove",this._onTouchMove),o(Y,"pointerup",this._onDrop)):(o(Y,"mousemove",this._onTouchMove),o(Y,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(i&&(i.effectAllowed="move",n.setData&&n.setData.call(this,i,k)),o(Y,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(n){var r,o,l,a,u=this.el,c=this.options,d=c.group,m=t.active,g=j===d,v=!1,b=c.sort;if(void 0!==n.preventDefault&&(n.preventDefault(),!c.dragoverBubble&&n.stopPropagation()),!k.animated&&(B=!0,m&&!c.disabled&&(g?b||(a=!A.contains(k)):F===this||(m.lastPullMode=j.checkPull(this,m,k,n))&&d.checkPut(this,m,k,n))&&(void 0===n.rootEl||n.rootEl===this.el))){if(ot(n,c,this.el),tt)return;if(r=i(n.target,c.draggable,u),o=k.getBoundingClientRect(),F!==this&&(F=this,v=!0),a)return e(m,!0),_=A,void(C||S?A.insertBefore(k,C||S):b||A.appendChild(k));if(0===u.children.length||u.children[0]===q||u===n.target&&p(u,n)){if(0!==u.children.length&&u.children[0]!==q&&u===n.target&&(r=u.lastElementChild),r){if(r.animated)return;l=r.getBoundingClientRect()}e(m,g),!1!==f(A,u,k,o,r,l,n)&&(k.contains(u)||(u.appendChild(k),_=u),this._animate(o,k),r&&this._animate(l,r))}else if(r&&!r.animated&&r!==k&&void 0!==r.parentNode[$]){L!==r&&(L=r,D=s(r),P=s(r.parentNode)),l=r.getBoundingClientRect();var y=l.right-l.left,x=l.bottom-l.top,w=U.test(D.cssFloat+D.display)||"flex"==P.display&&0===P["flex-direction"].indexOf("row"),O=r.offsetWidth>k.offsetWidth,T=r.offsetHeight>k.offsetHeight,E=(w?(n.clientX-l.left)/y:(n.clientY-l.top)/x)>.5,M=r.nextElementSibling,N=!1;if(w){var I=k.offsetTop,R=r.offsetTop;N=I===R?r.previousElementSibling===k&&!O||E&&O:r.previousElementSibling===k||k.previousElementSibling===r?(n.clientY-l.top)/x>.5:R>I}else v||(N=M!==k&&!T||E&&T);var z=f(A,u,k,o,r,l,n,N);!1!==z&&(1!==z&&-1!==z||(N=1===z),tt=!0,setTimeout(h,30),e(m,g),k.contains(u)||(N&&!M?u.appendChild(k):r.parentNode.insertBefore(k,N?M:r)),_=k.parentNode,this._animate(o,k),this._animate(l,r))}}},_animate:function(t,e){var i=this.options.animation;if(i){var n=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),s(e,"transition","none"),s(e,"transform","translate3d("+(t.left-n.left)+"px,"+(t.top-n.top)+"px,0)"),e.offsetWidth,s(e,"transition","all "+i+"ms"),s(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){s(e,"transition",""),s(e,"transform",""),e.animated=!1},i)}},_offUpEvents:function(){var t=this.el.ownerDocument;l(Y,"touchmove",this._onTouchMove),l(Y,"pointermove",this._onTouchMove),l(t,"mouseup",this._onDrop),l(t,"touchend",this._onDrop),l(t,"pointerup",this._onDrop),l(t,"touchcancel",this._onDrop),l(t,"pointercancel",this._onDrop),l(t,"selectstart",this)},_onDrop:function(e){var i=this.el,n=this.options;clearInterval(this._loopId),clearInterval(H.pid),clearTimeout(this._dragStartTimer),l(Y,"mousemove",this._onTouchMove),this.nativeDraggable&&(l(Y,"drop",this),l(i,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(B&&(e.preventDefault(),!n.dropBubble&&e.stopPropagation()),q&&q.parentNode&&q.parentNode.removeChild(q),A!==_&&"clone"===t.active.lastPullMode||C&&C.parentNode&&C.parentNode.removeChild(C),k&&(this.nativeDraggable&&l(k,"dragend",this),d(k),k.style["will-change"]="",a(k,this.options.ghostClass,!1),a(k,this.options.chosenClass,!1),c(this,A,"unchoose",k,A,N),A!==_?(I=g(k,n.draggable))>=0&&(c(null,_,"add",k,A,N,I),c(this,A,"remove",k,A,N,I),c(null,_,"sort",k,A,N,I),c(this,A,"sort",k,A,N,I)):k.nextSibling!==S&&(I=g(k,n.draggable))>=0&&(c(this,A,"update",k,A,N,I),c(this,A,"sort",k,A,N,I)),t.active&&(null!=I&&-1!==I||(I=N),c(this,A,"end",k,A,N,I),this.save()))),this._nulling()},_nulling:function(){A=k=_=q=S=C=O=T=E=R=z=B=I=L=D=F=j=t.active=null,nt.forEach(function(t){t.checked=!0}),nt.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":k&&(this._onDragOver(t),r(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,r=0,o=n.length,l=this.options;r<o;r++)t=n[r],i(t,l.draggable,this.el)&&e.push(t.getAttribute(l.dataIdAttr)||m(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,r){var o=n.children[r];i(o,this.options.draggable,n)&&(e[t]=o)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return i(t,e||this.options.draggable,this.el)},option:function(t,e){var i=this.options;if(void 0===e)return i[t];i[t]=e,"group"===t&&lt(i)},destroy:function(){var t=this.el;t[$]=null,l(t,"mousedown",this._onTapStart),l(t,"touchstart",this._onTapStart),l(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(l(t,"dragover",this),l(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),rt.splice(rt.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},o(Y,"touchmove",function(e){t.active&&e.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){J={capture:!1,passive:!1}}}))}catch(t){}return t.utils={on:o,off:l,css:s,find:u,is:function(t,e){return!!i(t,e,t)},extend:y,throttle:b,closest:i,toggleClass:a,clone:x,index:g},t.create=function(e,i){return new t(e,i)},t.version="1.6.0",t})},,,,function(t,e,i){var n=i(99),r=i(308);t.exports={CodeMirror:n,codemirror:r,install:function(t){t.component("codemirror",r)}}},function(t,e,i){function n(t){i(386)}var r=i(31)(i(214),i(352),n,null,null);t.exports=r.exports},,,,,,,,,function(t,e,i){function n(t){i(388)}var r=i(31)(i(227),i(356),n,null,null);t.exports=r.exports},function(t,e,i){function n(t){i(392)}var r=i(31)(i(228),i(362),n,null,null);t.exports=r.exports},function(t,e,i){function n(t){i(398)}var r=i(31)(i(229),i(368),n,null,null);t.exports=r.exports},function(t,e,i){function n(t){i(396)}var r=i(31)(i(230),i(366),n,null,null);t.exports=r.exports},function(t,e,i){var n=i(31)(i(231),i(371),null,null,null);t.exports=n.exports},function(t,e,i){var n=i(31)(i(232),i(361),null,null,null);t.exports=n.exports},function(t,e,i){var n=i(31)(i(233),i(375),null,null,null);t.exports=n.exports},function(t,e,i){var n=i(31)(i(234),i(344),null,null,null);t.exports=n.exports},function(t,e,i){var n=i(31)(i(235),i(363),null,null,null);t.exports=n.exports},function(t,e,i){var n=i(31)(i(236),i(345),null,null,null);t.exports=n.exports},function(t,e,i){var n=i(31)(i(237),i(354),null,null,null);t.exports=n.exports},function(t,e,i){function n(t){i(389)}var r=i(31)(i(238),i(357),n,null,null);t.exports=r.exports},function(t,e,i){var n=i(31)(i(239),i(346),null,null,null);t.exports=n.exports},function(t,e,i){var n=i(31)(i(240),i(353),null,null,null);t.exports=n.exports},function(t,e,i){function n(t){i(380)}var r=i(31)(i(241),i(341),n,null,null);t.exports=r.exports},function(t,e,i){function n(t){i(402)}var r=i(31)(i(242),i(373),n,null,null);t.exports=r.exports},function(t,e,i){function n(t){i(400)}var r=i(31)(i(243),i(370),n,null,null);t.exports=r.exports},function(t,e,i){var n=i(31)(i(244),i(340),null,null,null);t.exports=n.exports},function(t,e,i){var n=i(31)(i(245),i(360),null,null,null);t.exports=n.exports},function(t,e,i){var n=i(31)(i(246),i(350),null,null,null);t.exports=n.exports},,,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",{attrs:{label:""}},[i("div",[t._v("\n            关键属性:\n            "),i("el-tooltip",{attrs:{content:"唯一KEY作为入库配置的重要识别码，由一个或多个关键属性构成",placement:"bottom"}},[i("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-left":"20px"},attrs:{"aria-hidden":"true"}})]),t._v("   \n            "),"false"==t.builtin?i("el-checkbox",{nativeOn:{click:function(e){t.keyAttrClick(e)}},model:{value:t.formAttribute.keyattr,callback:function(e){t.formAttribute.keyattr=e},expression:"formAttribute.keyattr"}}):t._e()],1)]),t._v(" "),i("el-form-item",{attrs:{label:"字段名称:",prop:"name",required:""}},[i("el-input",{attrs:{disabled:t.formAttribute.builtin},model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码:",prop:"code",required:""}},[i("el-input",{attrs:{disabled:t.formAttribute.builtin},model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"默认值:"}},[i("el-input",{model:{value:t.formAttribute.defaultvalue,callback:function(e){t.formAttribute.defaultvalue=e},expression:"formAttribute.defaultvalue"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),"false"==t.builtin?i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1):t._e(),t._v(" "),"true"==t.builtin?i("el-form-item",[i("el-checkbox",{attrs:{disabled:!0},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:!0},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1):t._e(),t._v(" "),i("el-form-item",{attrs:{label:"校验规则:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.params.validation,callback:function(e){t.formAttribute.params.validation=e},expression:"formAttribute.params.validation"}},[i("el-option",{attrs:{label:"无校验",value:"0"}}),t._v(" "),t._l(t.validationOptions,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),i("el-form-item",{attrs:{label:"文本最小长度:",required:"",prop:"params.minLength"}},[i("el-input-number",{attrs:{min:1},model:{value:t.formAttribute.params.minLength,callback:function(e){t.formAttribute.params.minLength=e},expression:"formAttribute.params.minLength"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"文本最大长度:",required:"",prop:"params.maxLength"}},[i("el-input-number",{attrs:{min:1},model:{value:t.formAttribute.params.maxLength,callback:function(e){t.formAttribute.params.maxLength=e},expression:"formAttribute.params.maxLength"}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",[i("div",[t._v("\n            关键属性:\n            "),i("el-tooltip",{attrs:{content:"唯一KEY作为入库配置的重要识别码，由一个或多个关键属性构成",placement:"bottom"}},[i("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-left":"20px"},attrs:{"aria-hidden":"true"}})]),t._v("   \n            "),"false"==t.builtin?i("el-checkbox",{nativeOn:{click:function(e){t.keyattrClick(e)}},model:{value:t.formAttribute.keyattr,callback:function(e){t.formAttribute.keyattr=e},expression:"formAttribute.keyattr"}}):t._e()],1)]),t._v(" "),i("el-form-item",{attrs:{label:"字段名:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1),t._v(" "),i("div",{staticStyle:{"margin-bottom":"20px"}},[t._v("\n    值："),i("el-button",{staticStyle:{"margin-left":"200px"},attrs:{size:"small"},on:{click:t.addOption}},[t._v("添加")])],1),t._v(" "),t._l(t.formAttribute.params.options,function(e,n){return i("el-form-item",{attrs:{prop:"params.options["+n+"].name",rules:[{required:!0,message:"请填写选项名称！",trigger:"blur"},{validator:t.checkOptionName,trigger:"blur"}]}},[i("el-checkbox",{staticStyle:{float:"left"},nativeOn:{click:function(e){t.check(n)}},model:{value:e.isdefault,callback:function(t){e.isdefault=t},expression:"item.isdefault"}}),t._v(" "),i("el-input",{staticStyle:{float:"left",width:"180px","margin-left":"20px"},model:{value:e.name,callback:function(t){e.name=t},expression:"item.name"}}),t._v(" "),i("el-input",{staticStyle:{float:"left",width:"70px","margin-left":"20px"},model:{value:e.value,callback:function(t){e.value=t},expression:"item.value"}}),t._v(" "),i("i",{staticClass:"el-icon-delete",staticStyle:{float:"left","margin-left":"20px","line-height":"35px",cursor:"pointer"},on:{click:function(e){t.deleteOption(n)}}})],1)})],2)},staticRenderFns:[]}},,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",{attrs:{label:"字段名:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",{attrs:{label:"字段名:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",{attrs:{label:"字段名:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1),t._v(" "),i("el-form-item",{attrs:{label:"引用对象",prop:"params.refClassCode",required:""}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.params.refClassCode,callback:function(e){t.formAttribute.params.refClassCode=e},expression:"formAttribute.params.refClassCode"}},t._l(t.options,function(e){return i("el-option-group",{key:e.name,attrs:{label:e.name}},t._l(e.childModules,function(t){return i("el-option",{key:t.name,attrs:{label:t.name,value:t.id}})}))}))],1)],1)},staticRenderFns:[]}},,,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",{attrs:{label:"字段名:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1)],1)},staticRenderFns:[]}},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("textarea")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",{attrs:{label:"字段名:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("div",{staticStyle:{"margin-bottom":"15px"}},[t._v("\n        关键属性:\n        "),i("el-tooltip",{attrs:{content:"唯一KEY作为入库配置的重要识别码，由一个或多个关键属性构成",placement:"bottom"}},[i("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-left":"20px"},attrs:{"aria-hidden":"true"}})]),t._v("   \n        "),"false"==t.builtin?i("el-checkbox",{nativeOn:{click:function(e){t.keyattrClick(e)}},model:{value:t.formAttribute.keyattr,callback:function(e){t.formAttribute.keyattr=e},expression:"formAttribute.keyattr"}}):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"字段名称:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码:",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"默认值:",prop:"defaultvalue"}},[i("el-input",{model:{value:t.formAttribute.defaultvalue,callback:function(e){t.formAttribute.defaultvalue=e},expression:"formAttribute.defaultvalue"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"单位:"}},[i("el-input",{model:{value:t.formAttribute.unit,callback:function(e){t.formAttribute.unit=e},expression:"formAttribute.unit"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1),t._v(" "),i("el-form-item",{attrs:{label:"最小值:",required:"",prop:"params.min"}},[i("el-input-number",{attrs:{min:1},model:{value:t.formAttribute.params.min,callback:function(e){t.formAttribute.params.min=e},expression:"formAttribute.params.min"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"最大值:",required:"",prop:"params.max"}},[i("el-input-number",{attrs:{min:3},model:{value:t.formAttribute.params.max,callback:function(e){t.formAttribute.params.max=e},expression:"formAttribute.params.max"}})],1)],1)},staticRenderFns:[]}},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"addmodule"}},[i("div",{staticStyle:{padding:"20px 0px 20px 0px","text-align":"center"}},[t._v("创建模型")]),t._v(" "),i("el-form",{ref:"formmodule",attrs:{model:t.formmodule,rules:t.formRules,"label-width":"85px"}},[i("el-form-item",{attrs:{label:"选择分组:",prop:"parentId",required:""}},[i("el-select",{attrs:{placeholder:"请选择模型所属分组:"},model:{value:t.formmodule.parentId,callback:function(e){t.formmodule.parentId=e},expression:"formmodule.parentId"}},t._l(t.moduleoptions,function(t){return i("el-option",{attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"类型名称:",prop:"name",required:""}},[i("el-input",{attrs:{placeholder:"请输入类型名称（中、英文）"},model:{value:t.formmodule.name,callback:function(e){t.formmodule.name=e},expression:"formmodule.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"类型编号:",prop:"code",required:""}},[i("el-input",{attrs:{placeholder:"请输入类型编号（数字、字母、下划线）"},model:{value:t.formmodule.code,callback:function(e){t.formmodule.code=e},expression:"formmodule.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"模型标签:"}},[t._l(t.moduletags,function(e){return i("el-tag",{key:e,attrs:{closable:!0,"close-transition":!1},on:{close:function(i){t.handleCloseTag(e)}}},[t._v(t._s(e))])}),t._v(" "),t.inputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.handleInputConfirm(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ 点击新增")])],2),t._v(" "),i("el-form-item",{attrs:{label:"模型图标:",prop:"iconurl",required:""}},[i("div",{staticClass:"btnIcon",on:{click:t.selectIcon},model:{value:t.formmodule.iconurl,callback:function(e){t.formmodule.iconurl=e},expression:"formmodule.iconurl"}},[i("span",{class:{dis:t.icondisplay}},[t._v("选择图标")]),t._v(" "),i("div",{class:{dis:!t.icondisplay},staticStyle:{background:"#1d6aa7","border-radius":"3px"}},[i("img",{attrs:{width:"30",height:"30",src:t.formmodule.iconurl}}),t._v(" "),i("div",{staticStyle:{position:"absolute",padding:"0 7px",height:"20px","line-height":"20px",top:"43px"}},[t._v("修改图标")])])])]),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("formmodule")}}},[t._v("下一步")]),t._v(" "),i("el-button",{on:{click:function(e){t.resetForm("formmodule")}}},[t._v("重置")])],1)],1),t._v(" "),i("el-dialog",{staticClass:"iconDialog",attrs:{visible:t.iconDialog},on:{"update:visible":function(e){t.iconDialog=e},close:t.iconDialogClose}},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"系统图标库",name:"sysicon"}},[i("div",{staticClass:"sysicon",model:{value:t.sysicons,callback:function(e){t.sysicons=e},expression:"sysicons"}},[t._l(t.sysicons,function(e,n){return i("li",{key:n,staticClass:"iconlist",class:{liactive:t.activeIcon==e.id},on:{click:function(i){t.iconClick(e)}}},[i("img",{attrs:{width:"30",height:"30",src:e.iconUrl}}),t._v(" "),i("i",{staticClass:"fa fa-check-circle",class:{active:t.activeIcon==e.id,nactive:t.activeIcon!=e.id}})])}),t._v(" "),i("div",{staticStyle:{clear:"both"}})],2),t._v(" "),i("el-pagination",{staticStyle:{clear:"both","margin-top":"20px"},attrs:{"page-size":t.cuspage.pageSize,"current-page":t.syspage.currPage,layout:"prev, pager, next, jumper",total:t.syspage.total},on:{"current-change":t.sysCurrentChange,"update:currentPage":function(e){t.syspage.currPage=e}}}),t._v(" "),i("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[i("el-button",{attrs:{type:"primary",disabled:!t.btn_active},on:{click:t.iconcommit}},[t._v("确定")]),t._v(" "),i("el-button",{on:{click:t.iconCancel}},[t._v("取消")])],1)],1),t._v(" "),i("el-tab-pane",{attrs:{label:"自定义图标库",name:"cusicon"}},[i("div",{staticClass:"uploadicon"},[i("el-upload",{staticClass:"upload-demo",attrs:{action:"/cmdb/icon/uploadIcon","on-error":t.uploadError,"on-success":t.uploadSuccess,accept:"image/jpeg,image/png"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("上传图标")]),t._v(" "),i("div",{staticClass:"el-upload__tip",slot:"tip"},[t._v("只能上传jpg/png文件，且不超过200kb")])],1)],1),t._v(" "),i("div",{staticClass:"sysicon",model:{value:t.customicons,callback:function(e){t.customicons=e},expression:"customicons"}},[t._l(t.customicons,function(e){return i("li",{key:e.id,staticClass:"iconlist",class:{liactive:t.activeIcon==e.id},on:{click:function(i){t.iconClick(e)}}},[i("img",{attrs:{width:"30",height:"30",src:e.iconUrl}}),t._v(" "),i("i",{staticClass:"fa fa-check-circle",class:{active:t.activeIcon==e.id,nactive:t.activeIcon!=e.id}})])}),t._v(" "),i("div",{staticStyle:{clear:"both"}})],2),t._v(" "),i("el-pagination",{staticStyle:{clear:"both","margin-top":"20px"},attrs:{"page-size":t.cuspage.pageSize,"current-page":t.cuspage.currPage,layout:"prev, pager, next, jumper",total:t.cuspage.total},on:{"current-change":t.cusCurrentChange,"update:currentPage":function(e){t.cuspage.currPage=e}}}),t._v(" "),i("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[i("el-button",{attrs:{type:"primary",disabled:!t.btn_active},on:{click:t.iconcommit}},[t._v("确定")]),t._v(" "),i("el-button",{on:{click:t.iconCancel}},[t._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",{attrs:{label:"字段名:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1),t._v(" "),i("div",{staticStyle:{"margin-bottom":"20px"}},[t._v("\n    值："),i("el-button",{staticStyle:{"margin-left":"200px"},attrs:{size:"small"},on:{click:t.addOptsion}},[t._v("添加")])],1),t._v(" "),t._l(t.formAttribute.params.options,function(e,n){return i("el-form-item",{attrs:{prop:"params.options["+n+"].name",rules:[{required:!0,message:"请填写选项名称！",trigger:"blur"},{validator:t.checkOptionName,trigger:"blur"}]}},[i("el-checkbox",{staticStyle:{float:"left"},nativeOn:{click:function(e){t.check(n)}},model:{value:e.isdefault,callback:function(t){e.isdefault=t},expression:"item.isdefault"}}),t._v(" "),i("el-input",{staticStyle:{float:"left",width:"180px","margin-left":"20px"},model:{value:e.name,callback:function(t){e.name=t},expression:"item.name"}}),t._v(" "),i("el-input",{staticStyle:{float:"left",width:"70px","margin-left":"20px"},model:{value:e.value,callback:function(t){e.value=t},expression:"item.value"}}),t._v(" "),i("i",{staticClass:"el-icon-delete",staticStyle:{float:"left","margin-left":"20px","line-height":"35px",cursor:"pointer"},on:{click:function(e){t.deleteOption(n)}}})],1)})],2)},staticRenderFns:[]}},,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",{attrs:{label:"字段名:",required:"",prop:"name"}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码",required:"",prop:"code"}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"默认值"}},[i("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.formAttribute.defaultvalue,callback:function(e){t.formAttribute.defaultvalue=e},expression:"formAttribute.defaultvalue"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1),t._v(" "),i("el-form-item",{attrs:{label:"文本最小长度:",required:"",prop:"params.minLength"}},[i("el-input-number",{attrs:{min:0},model:{value:t.formAttribute.params.minLength,callback:function(e){t.formAttribute.params.minLength=e},expression:"formAttribute.params.minLength"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"文本最大长度:",required:"",prop:"params.maxLength"}},[i("el-input-number",{attrs:{min:1},model:{value:t.formAttribute.params.maxLength,callback:function(e){t.formAttribute.params.maxLength=e},expression:"formAttribute.params.maxLength"}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("div",{staticStyle:{"margin-bottom":"15px"}},[t._v("\n        关键属性:\n        "),i("el-tooltip",{attrs:{content:"唯一KEY作为入库配置的重要识别码，由一个或多个关键属性构成",placement:"bottom"}},[i("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-left":"20px"},attrs:{"aria-hidden":"true"}})]),t._v("   \n        "),"false"==t.builtin?i("el-checkbox",{nativeOn:{click:function(e){t.keyattrClick(e)}},model:{value:t.formAttribute.keyattr,callback:function(e){t.formAttribute.keyattr=e},expression:"formAttribute.keyattr"}}):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"字段名称:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码:",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"默认值:"}},[0==t.formAttribute.params.formatDate?i("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},on:{change:t.dateChange},model:{value:t.formAttribute.defaultvalue,callback:function(e){t.formAttribute.defaultvalue=e},expression:"formAttribute.defaultvalue"}}):t._e(),t._v(" "),1==t.formAttribute.params.formatDate?i("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd"},on:{change:t.dateChange},model:{value:t.formAttribute.defaultvalue,callback:function(e){t.formAttribute.defaultvalue=e},expression:"formAttribute.defaultvalue"}}):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1),t._v(" "),i("el-form-item",[i("label",[t._v("仅日期:")]),i("el-checkbox",{staticStyle:{float:"right","margin-right":"140px"},nativeOn:{click:function(e){t.onlyDateClick(e)}},model:{value:t.formAttribute.params.formatDate,callback:function(e){t.formAttribute.params.formatDate=e},expression:"formAttribute.params.formatDate"}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content"}},[i("div",{staticStyle:{height:"42px","border-bottom":"1px solid #d1dbe5"}},[i("div",{staticStyle:{float:"left",width:"100%"},attrs:{id:"tb"}},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"模型属性",name:"modelattr"}},[i("div",{class:{disnone:t.isDisnone},attrs:{id:"form"}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},t._l(t.form.data,function(e){return i("el-form-item",{key:e.id,attrs:{label:e.name}},["singleRowText"==e.type?i("el-input",{model:{value:e.defaultvalue,callback:function(t){e.defaultvalue=t},expression:"item.defaultvalue"}}):"listSel"==e.type?i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.value,callback:function(e){t.form.value=e},expression:"form.value"}},t._l(e.params.options,function(t){return i("el-option",{key:t.default,attrs:{label:t.name,value:t.default}})})):t._e()],1)}))],1),t._v(" "),i("div",{class:{disnone:!t.isDisnone},attrs:{id:"eidtform"}},[i("div",{staticClass:"attredit"},[i("draggable",{attrs:{element:"span",options:t.dragOptions3,move:t.onMove},on:{add:t.onAdd,end:t.onEnd},model:{value:t.list2,callback:function(e){t.list2=e},expression:"list2"}},[i("transition-group",{staticClass:"list-group ul-group",attrs:{name:"no",tag:"ul"}},t._l(t.list2,function(e){return i("li",{key:e.name,staticClass:"list-group-item",on:{click:function(i){t.edit(e.k_id,e.type)}}},[i("el-form",{class:{keyattr:e.keyattr},attrs:{"label-width":"100px"}},[i("el-form-item",{attrs:{label:e.name+":",required:e.require}},["groupLine"==e.type?i("div",[i("div",{staticClass:"group"},[i("span",{staticStyle:{margin:"0px 10px 0px 10px"}},[t._v(t._s(e.name))]),t._v(" "),i("i",{staticClass:"el-icon-caret-bottom",staticStyle:{float:"right","margin-right":"15px","line-height":"30px"}})])]):i("el-input",{attrs:{disabled:!0,size:"small"},model:{value:e.defaultvalue,callback:function(t){e.defaultvalue=t},expression:"element.defaultvalue"}})],1),t._v(" "),i("el-button",{attrs:{disabled:1==e.builtin,type:"primary",icon:"delete",size:"small"},on:{click:function(i){t.deleteAttr(e.k_id)}}}),t._v(" "),"multiRowText"==e.type||"richText"==e.type||"int"==e.type||"double"==e.type||"table"==e.type?i("i",{staticClass:"fa fa-link fa-lg",staticStyle:{"margin-left":"10px"},on:{click:function(i){t.addScript(e.k_id)}}}):t._e(),t._v(" "),"singleRowText"==e.type&&"Y_name"!=e.codeflag?i("i",{staticClass:"fa fa-link fa-lg",staticStyle:{"margin-left":"10px"},on:{click:function(i){t.addScript(e.k_id)}}}):t._e()],1)],1)}))],1)],1),t._v(" "),i("div",{staticClass:"attrtype"},[i("div",{staticStyle:{width:"100%",height:"36px",background:"#20a0ff","border-radius":"4px","text-align":"left","line-height":"36px"}},[i("span",{staticStyle:{color:"#fff","font-size":"14px","margin-left":"10px"}},[t._v("属性类型")])]),t._v(" "),i("div",{staticClass:"prompt"},[i("i",{staticClass:"fa fa-exclamation-circle"}),t._v("属性类型可以拖动到左侧编辑区域哦！")]),t._v(" "),i("draggable",{staticClass:"list-group",attrs:{element:"ul",options:t.dragOptions4,move:t.onMove,disabled:!0},on:{start:function(e){t.isDragging=!0},end:t.onEnd},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},[i("transition-group",{staticClass:"ul",attrs:{type:"transition",name:"flip-list"}},t._l(t.list,function(e){return i("li",{key:e.type,staticClass:"list-group-before",class:{groupLine:"groupLine"==e.type}},[i("i",{class:e.icon,attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e.name)+"\n                                    ")])}))],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"新增脚本",size:"small"},on:{open:t.scriptDialogOpen},model:{value:t.scriptDialog,callback:function(e){t.scriptDialog=e},expression:"scriptDialog"}},[i("el-form",{ref:"formScript",staticClass:"form-script",attrs:{model:t.formScript,rules:t.formScriptRule}},[i("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"标签",prop:"tag",required:""}},[i("el-select",{model:{value:t.formScript.tag,callback:function(e){t.formScript.tag=e},expression:"formScript.tag"}},t._l(t.tags,function(t){return i("el-option",{key:t.id,attrs:{label:t.tag,value:t.id}})}))],1),t._v(" "),i("el-form-item",{staticStyle:{width:"45%"},attrs:{label:"脚本类型",prop:"language",required:""}},[i("el-select",{on:{change:t.scriptTypeChange},model:{value:t.formScript.language,callback:function(e){t.formScript.language=e},expression:"formScript.language"}},t._l(t.scriptType,function(t){return i("el-option",{key:t.name,attrs:{label:t.name,value:t.value}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:" ",prop:"script",required:""}},[i("codemirror",{ref:"myEditor",attrs:{value:t.formScript.script,options:t.editorOption},on:{change:t.yourCodeChangeMethod}})],1),t._v(" "),i("el-col",{staticStyle:{margin:"15px 0px 15px 0px","text-align":"center"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.btn_script_submit("formScript")}}},[t._v("保存")]),t._v(" "),i("el-button",{on:{click:function(e){t.script_close("formScript")}}},[t._v("取消")])],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.textDialog,callback:function(e){t.textDialog=e},expression:"textDialog"}},[i("textField",{ref:"textForm",attrs:{textChildForm:t.textChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.textAreaDialog,callback:function(e){t.textAreaDialog=e},expression:"textAreaDialog"}},[i("textAreaField",{ref:"textAreaForm",attrs:{textAreaChildForm:t.textAreaChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.richTextDialog,callback:function(e){t.richTextDialog=e},expression:"richTextDialog"}},[i("richTextField",{ref:"richTextForm",attrs:{richTextChildForm:t.richTextChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.selectDialog,callback:function(e){t.selectDialog=e},expression:"selectDialog"}},[i("selectField",{ref:"selectForm",attrs:{selectChildForm:t.selectChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.singleDialog,callback:function(e){t.singleDialog=e},expression:"singleDialog"}},[i("singleField",{ref:"singleForm",attrs:{singleChildForm:t.singleChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.multiDialog,callback:function(e){t.multiDialog=e},expression:"multiDialog"}},[i("multiField",{ref:"multiForm",attrs:{multiChildForm:t.multiChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.intDialog,callback:function(e){t.intDialog=e},expression:"intDialog"}},[i("intField",{ref:"intForm",attrs:{intChildForm:t.intChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.doubleDialog,callback:function(e){t.doubleDialog=e},expression:"doubleDialog"}},[i("doubleField",{ref:"doubleForm",attrs:{doubleChildForm:t.doubleChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.fileDialog,callback:function(e){t.fileDialog=e},expression:"fileDialog"}},[i("fileField",{ref:"fileForm",attrs:{fileChildForm:t.fileChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.imageDialog,callback:function(e){t.imageDialog=e},expression:"imageDialog"}},[i("imageField",{ref:"imageForm",attrs:{imageChildForm:t.imageChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.dateTimeDialog,callback:function(e){t.dateTimeDialog=e},expression:"dateTimeDialog"}},[i("dateTimeField",{ref:"dateTimeForm",attrs:{dateTimeChildForm:t.dateTimeChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.dateDialog,callback:function(e){t.dateDialog=e},expression:"dateDialog"}},[i("dateField",{ref:"dateForm",attrs:{dateChildForm:t.dateChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.userDialog,callback:function(e){t.userDialog=e},expression:"userDialog"}},[i("userField",{ref:"userForm",attrs:{userChildForm:t.userChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.referDialog,callback:function(e){t.referDialog=e},expression:"referDialog"}},[i("referField",{ref:"referForm",attrs:{referChildForm:t.referChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.tableDialog,callback:function(e){t.tableDialog=e},expression:"tableDialog"}},[i("tableField",{ref:"tableForm",attrs:{tableChildForm:t.tableChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.cascaderDialog,callback:function(e){t.cascaderDialog=e},expression:"cascaderDialog"}},[i("cascaderField",{ref:"cascaderForm",attrs:{cascaderChildForm:t.cascaderChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑属性",size:"tiny","before-close":t.beforeClose,modal:!1},model:{value:t.groupDialog,callback:function(e){t.groupDialog=e},expression:"groupDialog"}},[i("groupField",{ref:"groupForm",attrs:{groupChildForm:t.groupChildForm,Data:t.list2Data,edit:t.editIndex,builtin:t.mdouleisbuiltin}})],1)],1),t._v(" "),i("div",{class:{disnone:t.isDisnone},staticStyle:{padding:"30px 50px 20px 50px"},attrs:{id:"showform"}},[i("div",[i("FormWid",{ref:"Form",attrs:{mid:t.c_mid,flag:t.form_flag}})],1)])]),t._v(" "),i("el-tab-pane",{attrs:{label:"模型关系",name:"modelrelation"}},[i("ModuleRelation",{attrs:{pid:t.p_mid}})],1)],1)],1),t._v(" "),i("div",{staticStyle:{float:"right","margin-left":"-200px",position:"relative"},attrs:{id:"eidt"}},[i("el-button",{class:{disnone:t.isDisnone},on:{click:t.btn_edit}},[t._v("编辑")]),t._v(" "),i("el-button",{class:{disnone:!t.isDisnone},attrs:{type:"primary",loading:t.btn_submit_loading},on:{click:t.btn_submit}},[t._v("保存")]),t._v(" "),i("el-button",{class:{disnone:!t.isDisnone},on:{click:t.btn_cancel}},[t._v("取消")])],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",{attrs:{label:"分组名称:",required:"",prop:"name"}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1)],1)},staticRenderFns:[]}},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"module",staticStyle:{height:"100%",background:"#fff","padding-bottom":"30px"},attrs:{id:"module"}},[i("el-row",[i("el-col",{staticStyle:{"border-right":"1px solid #d1dbe5",height:"100%"},attrs:{span:4}},[i("el-button",{staticStyle:{display:"block",margin:"0 auto","margin-top":"20px"},attrs:{type:"primary"},on:{click:t.btn_addmodule}},[i("i",{staticClass:"el-icon-plus"},[t._v(" ")]),t._v("创建模型")]),t._v(" "),i("el-menu",{ref:"moduleMenu",staticClass:"el-menu-vertical-demo",staticStyle:{background:"#fff","margin-top":"20px"},attrs:{"default-active":t.activeIndex,"default-openeds":t.defaultOpenNav,model:t.parentNav,theme:"light"},on:{open:t.handleOpen,close:t.handleClose}},t._l(t.parentNav,function(e,n){return i("el-submenu",{key:e.id,attrs:{index:e.id}},[i("template",{slot:"title"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.childModules,function(e,r){return i("el-menu-item",{key:e.id,attrs:{index:e.id},on:{click:function(i){t.changeRouter(e.id,e.builtin)}}},[i("span",{staticClass:"menuitemName"},[t._v(t._s(e.name))]),t._v(" "),i("el-dropdown",{staticStyle:{float:"right"},on:{command:t.handleCommand}},[i("i",{staticClass:"fa fa-cog",attrs:{"aria-hidden":"true"}}),t._v(" "),i("el-dropdown-menu",{slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"1="+r+"="+n}},[t._v("编辑")]),t._v(" "),"false"==e.builtin?i("el-dropdown-item",{attrs:{command:"2="+e.id}},[t._v("删除")]):t._e()],1)],1)],1)})],2)}))],1),t._v(" "),i("el-col",{staticStyle:{height:"100%",padding:"10px 20px 0px 20px"},attrs:{span:19}},[i("div",{class:{dis:t.display}},[i("DataCom",{ref:"content",attrs:{emid:t.emid,amid:t.amid,addflag:t.addflag,mdouleisbuiltin:t.builtinFlag}})],1),t._v(" "),i("div",{class:{dis:!t.display}},[i("addModule",{on:{addModuleData:t.getAddModuleData}})],1)])],1),t._v(" "),i("router-view"),t._v(" "),i("el-dialog",{attrs:{title:"编辑模型",visible:t.eidtModuleDialog},on:{"update:visible":function(e){t.eidtModuleDialog=e}}},[i("el-form",{ref:"formmodule",attrs:{model:t.formmodule,rules:t.formRules,"label-width":"85px"}},[i("el-form-item",{attrs:{label:"类型名称:",prop:"name",required:""}},[i("el-input",{attrs:{placeholder:"请输入类型名称（中、英文）"},model:{value:t.formmodule.name,callback:function(e){t.formmodule.name=e},expression:"formmodule.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"模型图标:",prop:"iconurl",required:""}},[i("div",{staticClass:"btnIcon",on:{click:t.selectIcon},model:{value:t.formmodule.iconurl,callback:function(e){t.formmodule.iconurl=e},expression:"formmodule.iconurl"}},[i("span",{class:{dis:t.icondisplay}},[t._v("选择图标")]),t._v(" "),i("div",{class:{dis:!t.icondisplay},staticStyle:{background:"#1d6aa7","border-radius":"3px"}},[i("img",{attrs:{width:"30",height:"30",src:t.formmodule.iconurl}}),t._v(" "),i("div",{staticStyle:{position:"absolute",padding:"0 7px",height:"20px","line-height":"20px",top:"43px"}},[t._v("修改图标")])])])]),t._v(" "),i("el-form-item",{attrs:{label:"模型标签:",required:""}},[t._l(t.moduletags,function(e,n){return i("label",[e.edit?i("el-input",{ref:"editTagInput",refInFor:!0,staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:function(e){t.editInputConfirm(n)}},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.editInputConfirm(n)}},model:{value:t.editValue,callback:function(e){t.editValue=e},expression:"editValue"}}):i("el-tag",{key:e.tag,attrs:{closable:!0,"close-transition":!1},on:{close:function(e){t.handleCloseTag(n)}},nativeOn:{dblclick:function(e){t.tagClick(n)}}},[t._v(t._s(e.tag))])],1)}),t._v(" "),t.inputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.handleInputConfirm(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ 点击新增")])],2),t._v(" "),i("el-form-item",{attrs:{label:"禁用:",prop:"checked"}},[i("el-checkbox",{model:{value:t.formmodule.checked,callback:function(e){t.formmodule.checked=e},expression:"formmodule.checked"}}),t._v(" \n        "),t.formmodule.checked?i("span",{staticStyle:{color:"red"}},[t._v("禁用后会清除该类下所有配置项")]):t._e()],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.eidtSubmit("formmodule")}}},[t._v("保存")]),t._v(" "),i("el-button",{on:{click:function(e){t.editCancel("formmodule")}}},[t._v("取消")])],1)],1)],1),t._v(" "),i("el-dialog",{staticClass:"iconDialog",attrs:{visible:t.iconDialog},on:{"update:visible":function(e){t.iconDialog=e},close:t.iconDialogClose}},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"系统图标库",name:"sysicon"}},[i("div",{staticClass:"sysicon",model:{value:t.sysicons,callback:function(e){t.sysicons=e},expression:"sysicons"}},[t._l(t.sysicons,function(e,n){return i("li",{staticClass:"iconlist",class:{liactive:t.activeIcon==e.id},on:{click:function(i){t.iconClick(e)}}},[i("img",{attrs:{width:"30",height:"30",src:e.iconUrl}}),t._v(" "),i("i",{staticClass:"fa fa-check-circle",class:{active:t.activeIcon==e.id,nactive:t.activeIcon!=e.id}})])}),t._v(" "),i("div",{staticStyle:{clear:"both"}})],2),t._v(" "),i("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":t.syspage.currPage,layout:"prev, pager, next, jumper",total:t.syspage.total},on:{"current-change":t.sysCurrentChange,"update:currentPage":function(e){t.syspage.currPage=e}}}),t._v(" "),i("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[i("el-button",{attrs:{type:"primary",disabled:!t.btn_active},on:{click:t.iconcommit}},[t._v("确定")]),t._v(" "),i("el-button",{on:{click:t.iconCancel}},[t._v("取消")])],1)],1),t._v(" "),i("el-tab-pane",{attrs:{label:"自定义图标库",name:"cusicon"}},[i("div",{staticClass:"uploadicon"},[i("el-upload",{staticClass:"upload-demo",attrs:{action:"/cmdb/icon/uploadIcon",accept:"image/jpeg,image/png","on-error":t.uploadError,"on-success":t.uploadSuccess}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("上传图标")]),t._v(" "),i("div",{staticClass:"el-upload__tip",slot:"tip"},[t._v("只能上传jpg/png文件，且不超过200kb")])],1)],1),t._v(" "),i("div",{staticClass:"sysicon",model:{value:t.customicons,callback:function(e){t.customicons=e},expression:"customicons"}},[t._l(t.customicons,function(e){return i("li",{staticClass:"iconlist",class:{liactive:t.activeIcon==e.id},on:{click:function(i){t.iconClick(e)}}},[i("img",{attrs:{width:"30",height:"30",src:e.iconUrl}}),t._v(" "),i("i",{staticClass:"fa fa-check-circle",class:{active:t.activeIcon==e.id,nactive:t.activeIcon!=e.id}})])}),t._v(" "),i("div",{staticStyle:{clear:"both"}})],2),t._v(" "),i("el-pagination",{staticStyle:{clear:"both","margin-top":"20px"},attrs:{"current-page":t.cuspage.currPage,"page-size":100,layout:"prev, pager, next, jumper",total:t.cuspage.total},on:{"current-change":t.cusCurrentChange,"update:currentPage":function(e){t.cuspage.currPage=e}}}),t._v(" "),i("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[i("el-button",{attrs:{type:"primary",disabled:!t.btn_active},on:{click:t.iconcommit}},[t._v("确定")]),t._v(" "),i("el-button",{on:{click:t.iconCancel}},[t._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",[i("div",[t._v("\n            关键属性:\n            "),i("el-tooltip",{attrs:{content:"唯一KEY作为入库配置的重要识别码，由一个或多个关键属性构成",placement:"bottom"}},[i("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-left":"20px"},attrs:{"aria-hidden":"true"}})]),t._v("   \n            "),"false"==t.builtin?i("el-checkbox",{nativeOn:{click:function(e){t.keyattrClick(e)}},model:{value:t.formAttribute.keyattr,callback:function(e){t.formAttribute.keyattr=e},expression:"formAttribute.keyattr"}}):t._e()],1)]),t._v(" "),i("el-form-item",{attrs:{label:"字段名:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1),t._v(" "),i("div",{staticStyle:{"margin-bottom":"20px"}},[t._v("\n        值：\n        "),i("el-button",{staticStyle:{"margin-left":"200px"},attrs:{size:"small"},on:{click:t.addOption}},[t._v("添加")])],1),t._v(" "),t._l(t.formAttribute.params.options,function(e,n){return i("el-form-item",{key:n,attrs:{prop:"params.options["+n+"].name",rules:[{required:!0,message:"请填写选项名称！",trigger:"blur"},{validator:t.checkOptionName,trigger:"blur"}]}},[i("div",[i("el-input",{staticStyle:{float:"left",width:"180px","margin-left":"20px"},attrs:{size:"small"},model:{value:e.name,callback:function(t){e.name=t},expression:"item.name"}}),t._v(" "),i("el-input",{staticStyle:{float:"left",width:"50px","margin-left":"20px"},attrs:{size:"small"},model:{value:e.value,callback:function(t){e.value=t},expression:"item.value"}}),t._v(" "),i("i",{staticClass:"fa fa-plus-square-o",staticStyle:{float:"left","margin-left":"20px","line-height":"35px",cursor:"pointer"},on:{click:function(e){t.addChildOption(n)}}}),t._v(" "),i("i",{staticClass:"el-icon-delete",staticStyle:{float:"left","margin-left":"20px","line-height":"35px",cursor:"pointer"},on:{click:function(e){t.deleteOption(n)}}})],1),t._v(" "),t._l(t.formAttribute.params.options[n].children,function(e,r){return i("div",{key:n+"-"+r},[i("div",[i("el-input",{staticStyle:{float:"left",width:"160px","margin-left":"40px"},attrs:{size:"small"},model:{value:e.name,callback:function(t){e.name=t},expression:"it.name"}}),t._v(" "),i("el-input",{staticStyle:{float:"left",width:"50px","margin-left":"20px"},attrs:{size:"small"},model:{value:e.value,callback:function(t){e.value=t},expression:"it.value"}}),t._v(" "),i("i",{staticClass:"fa fa-plus-square-o",staticStyle:{float:"left","margin-left":"20px","line-height":"35px",cursor:"pointer"},on:{click:function(e){t.addChild2Option(n,r)}}}),t._v(" "),i("i",{staticClass:"el-icon-delete",staticStyle:{float:"left","margin-left":"20px","line-height":"35px",cursor:"pointer"},on:{click:function(e){t.deleteOption2(n,r)}}})],1),t._v(" "),t._l(e.children,function(e,o){return i("div",{key:r+"-"+o},[i("el-input",{staticStyle:{float:"left",width:"140px","margin-left":"60px"},attrs:{size:"small"},model:{value:e.name,callback:function(t){e.name=t},expression:"it3.name"}}),t._v(" "),i("el-input",{staticStyle:{float:"left",width:"50px","margin-left":"20px"},attrs:{size:"small"},model:{value:e.value,callback:function(t){e.value=t},expression:"it3.value"}}),t._v(" "),i("i",{staticClass:"el-icon-delete",staticStyle:{float:"left","margin-left":"20px","line-height":"35px",cursor:"pointer"},on:{click:function(e){t.deleteOption3(n,r,o)}}})],1)})],2)})],2)})],2)},staticRenderFns:[]}},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{staticStyle:{"padding-right":"30px"},attrs:{"label-width":"100px"}},t._l(t.formData,function(e,n){return i("el-form-item",{key:e.id,class:{keyattr:e.keyattr},attrs:{label:e.name+":",required:e.required}},["singleRowText"==e.type?i("el-input",{model:{value:e.defaultvalue,callback:function(t){e.defaultvalue=t},expression:"item.defaultvalue"}}):t._e(),t._v(" "),"multiRowText"==e.type?i("el-input",{attrs:{type:"textarea"},model:{value:e.defaultvalue,callback:function(t){e.defaultvalue=t},expression:"item.defaultvalue"}}):t._e(),t._v(" "),"richText"==e.type?i("vue-editor",{model:{value:e.defaultvalue,callback:function(t){e.defaultvalue=t},expression:"item.defaultvalue"}}):t._e(),t._v(" "),"listSel"==e.type?i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.defaultvalue,callback:function(t){e.defaultvalue=t},expression:"item.defaultvalue"}},t._l(e.formOptions,function(t){return i("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})):t._e(),t._v(" "),"singleSel"==e.type?i("el-radio-group",{model:{value:e.defaultvalue,callback:function(t){e.defaultvalue=t},expression:"item.defaultvalue"}},t._l(e.formOptions,function(e){return i("el-radio",{attrs:{label:e.name}},[t._v(t._s(e.name))])})):t._e(),t._v(" "),"multiSel"==e.type?i("el-checkbox-group",{model:{value:e.selectoptions,callback:function(t){e.selectoptions=t},expression:"item.selectoptions"}},t._l(e.options,function(t){return i("el-checkbox",{attrs:{label:t}})})):t._e(),t._v(" "),"int"==e.type?i("el-input",{model:{value:e.defaultvalue,callback:function(t){e.defaultvalue=t},expression:"item.defaultvalue"}}):t._e(),t._v(" "),"double"==e.type?i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.defaultvalue,callback:function(t){e.defaultvalue=t},expression:"item.defaultvalue"}}):t._e(),t._v(" "),"file"==e.type?i("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),i("div",{staticClass:"el-upload__tip",slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1):t._e(),t._v(" "),"image"==e.type?i("el-upload",{staticClass:"upload-demo",attrs:{action:"*",accept:"image/jpeg,image/png"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),i("div",{staticClass:"el-upload__tip",slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1):t._e(),t._v(" "),"dateTime"==e.type&&"false"==e.formParams[0].value?i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.defaultvalue,callback:function(t){e.defaultvalue=t},expression:"item.defaultvalue"}}):t._e(),t._v(" "),"dateTime"==e.type&&"true"==e.formParams[0].value?i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.defaultvalue,callback:function(t){e.defaultvalue=t},expression:"item.defaultvalue"}}):t._e(),t._v(" "),"user"==e.type?i("el-select",{attrs:{placeholder:"请选择人员"},model:{value:e.defaultvalue,callback:function(t){e.defaultvalue=t},expression:"item.defaultvalue"}},t._l(t.userOptions,function(t){return i("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})):t._e(),t._v(" "),"cascader"==e.type?i("el-cascader",{attrs:{props:t.prop,options:t.cascaderOptions[e.id]},model:{value:e.formOptions,callback:function(t){e.formOptions=t},expression:"item.formOptions"}}):t._e(),t._v(" "),"groupLine"==e.type?i("div",[i("div",{staticStyle:{height:"37px",background:"#20a0ff","margin-left":"-100px","margin-right":"-30px",color:"#fff","line-height":"37px","border-color":"#20a0ff","border-radius":"4px"}},[i("span",{staticStyle:{"margin-left":"-90px"}},[t._v(t._s(e.name))]),t._v(" "),i("i",{staticClass:"el-icon-caret-bottom",staticStyle:{float:"right","margin-right":"15px","line-height":"35px"}})])]):t._e(),t._v(" "),"table"==e.type?i("el-table",{attrs:{data:t.tableData3,"highlight-current-row":""},on:{"current-change":t.handleCurrentChange}},[t._l(e.formFields,function(t){return i("el-table-column",{key:t.id,attrs:{label:t.name},inlineTemplate:{render:function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",[n("el-input",{attrs:{value:e.row.name,size:"small"},model:{value:e.row[t.key],callback:function(i){e.$set(e.row,t.key,i)},expression:"row[it.key]"}})],1)},staticRenderFns:[]}})}),t._v(" "),i("el-table-column",{attrs:{prop:"address",label:"操作",width:"80"},inlineTemplate:{render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dropdown",{attrs:{trigger:"click","menu-align":"start"},on:{command:t.handleCommand}},[i("i",{staticClass:"fa fa-cog"}),t._v(" "),i("el-dropdown-menu",{slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"add_row"}},[t._v("添加行")]),t._v(" "),i("el-dropdown-item",{attrs:{command:"del_row"}},[t._v("删除行")])],1)],1)],1)},staticRenderFns:[]}})],2):t._e()],1)}))},staticRenderFns:[]}},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",{attrs:{label:"表格名称:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1),t._v(" "),i("div",{staticStyle:{"margin-bottom":"20px"}},[t._v("\n    列名："),i("el-button",{staticStyle:{"margin-left":"200px"},attrs:{size:"small"},on:{click:t.addOption}},[t._v("添加")])],1),t._v(" "),t._l(t.formAttribute.params.fields,function(e,n){return i("el-form-item",{attrs:{prop:"params.fields["+n+"].name",rules:[{required:!0,message:"请填写表格列名称",trigger:"blur"},{validator:t.checkName,trigger:"blur"}]}},[i("el-input",{staticStyle:{float:"left",width:"200px","margin-left":"20px"},model:{value:e.name,callback:function(t){e.name=t},expression:"item.name"}}),t._v(" "),i("i",{staticClass:"el-icon-delete",staticStyle:{float:"left","margin-left":"20px","line-height":"35px",cursor:"pointer"},on:{click:function(e){t.deleteOption(n)}}})],1)})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("div",{staticStyle:{"margin-bottom":"15px"}},[t._v("\n        关键属性:\n        "),i("el-tooltip",{attrs:{content:"唯一KEY作为入库配置的重要识别码，由一个或多个关键属性构成",placement:"bottom"}},[i("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-left":"20px"},attrs:{"aria-hidden":"true"}})]),t._v("   \n        "),"false"==t.builtin?i("el-checkbox",{nativeOn:{click:function(e){t.keyattrClick(e)}},model:{value:t.formAttribute.keyattr,callback:function(e){t.formAttribute.keyattr=e},expression:"formAttribute.keyattr"}}):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"字段名称:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码:",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"默认值:"}},[i("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd"},on:{change:t.dateChange},model:{value:t.formAttribute.defaultvalue,callback:function(e){t.formAttribute.defaultvalue=e},expression:"formAttribute.defaultvalue"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1)],1)},staticRenderFns:[]}},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("el-form-item",[i("div",[t._v("\n            关键属性:\n            "),i("el-tooltip",{attrs:{content:"唯一KEY作为入库配置的重要识别码，由一个或多个关键属性构成",placement:"bottom"}},[i("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-left":"20px"},attrs:{"aria-hidden":"true"}})]),t._v("   \n            "),"false"==t.builtin?i("el-checkbox",{nativeOn:{click:function(e){t.keyattrClick(e)}},model:{value:t.formAttribute.keyattr,callback:function(e){t.formAttribute.keyattr=e},expression:"formAttribute.keyattr"}}):t._e()],1)]),t._v(" "),i("el-form-item",{attrs:{label:"字段名:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1),t._v(" "),i("div",{staticStyle:{"margin-bottom":"20px"}},[t._v("\n    值："),i("el-button",{staticStyle:{"margin-left":"200px"},attrs:{size:"small"},on:{click:t.addOption}},[t._v("添加")])],1),t._v(" "),t._l(t.formAttribute.params.options,function(e,n){return i("el-form-item",{attrs:{prop:"params.options["+n+"].name",rules:[{required:!0,message:"请填写选项的名称",trigger:"blur"},{validator:t.checkOptionName,trigger:"blur"}]}},[i("el-checkbox",{staticStyle:{float:"left"},nativeOn:{click:function(e){t.check(n)}},model:{value:e.isdefault,callback:function(t){e.isdefault=t},expression:"item.isdefault"}}),t._v(" "),i("el-input",{staticStyle:{float:"left",width:"180px","margin-left":"20px"},model:{value:e.name,callback:function(t){e.name=t},expression:"item.name"}}),t._v(" "),i("el-input",{staticStyle:{float:"left",width:"70px","margin-left":"20px"},model:{value:e.value,callback:function(t){e.value=t},expression:"item.value"}}),t._v(" "),i("i",{staticClass:"el-icon-delete",staticStyle:{float:"left","margin-left":"20px","line-height":"35px",cursor:"pointer"},on:{click:function(e){t.deleteOption(n)}}})],1)})],2)},staticRenderFns:[]}},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"formAttribute",attrs:{"label-position":t.top,"label-width":"80px",model:t.formAttribute,rules:t.fromrules}},[i("div",{staticStyle:{"margin-bottom":"15px"}},[t._v("\n        关键属性:\n        "),i("el-tooltip",{attrs:{content:"唯一KEY作为入库配置的重要识别码，由一个或多个关键属性构成",placement:"bottom"}},[i("i",{staticClass:"fa fa-question-circle-o",staticStyle:{"margin-left":"20px"},attrs:{"aria-hidden":"true"}})]),t._v("   \n        "),"false"==t.builtin?i("el-checkbox",{nativeOn:{click:function(e){t.keyattrClick(e)}},model:{value:t.formAttribute.keyattr,callback:function(e){t.formAttribute.keyattr=e},expression:"formAttribute.keyattr"}}):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"字段名称:",prop:"name",required:""}},[i("el-input",{model:{value:t.formAttribute.name,callback:function(e){t.formAttribute.name=e},expression:"formAttribute.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性编码:",prop:"code",required:""}},[i("el-input",{model:{value:t.formAttribute.code,callback:function(e){t.formAttribute.code=e},expression:"formAttribute.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"默认值:",prop:"defaultvalue"}},[i("el-input",{model:{value:t.formAttribute.defaultvalue,callback:function(e){t.formAttribute.defaultvalue=e},expression:"formAttribute.defaultvalue"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"单位:"}},[i("el-input",{model:{value:t.formAttribute.unit,callback:function(e){t.formAttribute.unit=e},expression:"formAttribute.unit"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"字段采集频次:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formAttribute.rate,callback:function(e){t.formAttribute.rate=e},expression:"formAttribute.rate"}},[i("el-option",{attrs:{label:"高频",value:"3"}}),t._v(" "),i("el-option",{attrs:{label:"中频",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"低频",value:"1"}})],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.requiredClick(e)}},model:{value:t.formAttribute.required,callback:function(e){t.formAttribute.required=e},expression:"formAttribute.required"}},[t._v("必填")]),t._v(" "),i("el-checkbox",{attrs:{disabled:t.formAttribute.requiredDisable},nativeOn:{click:function(e){t.hiddenClick(e)}},model:{value:t.formAttribute.hidden,callback:function(e){t.formAttribute.hidden=e},expression:"formAttribute.hidden"}},[t._v("隐藏")])],1),t._v(" "),i("el-form-item",{attrs:{label:"保留几位小数:"}},[i("el-input-number",{attrs:{min:1,max:10},model:{value:t.formAttribute.params.precision,callback:function(e){t.formAttribute.params.precision=e},expression:"formAttribute.params.precision"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"最小值:",required:"",prop:"params.min"}},[i("el-input-number",{attrs:{min:1},model:{value:t.formAttribute.params.min,callback:function(e){t.formAttribute.params.min=e},expression:"formAttribute.params.min"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"最大值:",required:"",prop:"params.max"}},[i("el-input-number",{attrs:{min:1},model:{value:t.formAttribute.params.max,callback:function(e){t.formAttribute.params.max=e},expression:"formAttribute.params.max"}})],1)],1)},staticRenderFns:[]}},,,,,function(t,e,i){var n=i(268);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("7018db28",n,!0)},,,,,,function(t,e,i){var n=i(274);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("55e714ca",n,!0)},,function(t,e,i){var n=i(276);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("1782858d",n,!0)},function(t,e,i){var n=i(277);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("a4dbc8f8",n,!0)},,,function(t,e,i){var n=i(280);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("75188162",n,!0)},,function(t,e,i){var n=i(282);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("361788f0",n,!0)},function(t,e,i){var n=i(283);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("e01a199e",n,!0)},function(t,e,i){var n=i(284);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("759b50b8",n,!0)},,function(t,e,i){var n=i(286);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("118107b6",n,!0)},,function(t,e,i){var n=i(288);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("12b3fa4a",n,!0)},,function(t,e,i){var n=i(290);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(32)("c1efe740",n,!0)},,,,,function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};!function(){function e(t){function e(t){t.parentElement.removeChild(t)}function i(t,e,i){var n=0===i?t.children[0]:t.children[i-1].nextSibling;t.insertBefore(e,n)}function o(t,e){return t.map(function(t){return t.elm}).indexOf(e)}function l(t,e,i){if(!t)return[];var r=t.map(function(t){return t.elm}),o=[].concat(n(e)).map(function(t){return r.indexOf(t)});return i?o.filter(function(t){return-1!==t}):o}function a(t,e){var i=this;this.$nextTick(function(){return i.$emit(t.toLowerCase(),e)})}function s(t){var e=this;return function(i){null!==e.realList&&e["onDrag"+t](i),a.call(e,t,i)}}var u=["Start","Add","Remove","Update","End"],c=["Choose","Sort","Filter","Clone"],f=["Move"].concat(u,c).map(function(t){return"on"+t}),d=null;return{name:"draggable",props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},move:{type:Function,default:null}},data:function(){return{transitionMode:!1,componentMode:!1}},render:function(t){var e=this.$slots.default;if(e&&1===e.length){var i=e[0];i.componentOptions&&"transition-group"===i.componentOptions.tag&&(this.transitionMode=!0)}var r=e,o=this.$slots.footer;return o&&(r=e?[].concat(n(e),n(o)):[].concat(n(o))),t(this.element,null,r)},mounted:function(){var e=this;if(this.componentMode=this.element.toLowerCase()!==this.$el.nodeName.toLowerCase(),this.componentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: "+this.element);var i={};u.forEach(function(t){i["on"+t]=s.call(e,t)}),c.forEach(function(t){i["on"+t]=a.bind(e,t)});var n=r({},this.options,i,{onMove:function(t,i){return e.onDragMove(t,i)}});!("draggable"in n)&&(n.draggable=">*"),this._sortable=new t(this.rootContainer,n),this.computeIndexes()},beforeDestroy:function(){this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},isCloning:function(){return!!this.options&&!!this.options.group&&"clone"===this.options.group.pull},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){for(var e in t)-1==f.indexOf(e)&&this._sortable.option(e,t[e])},deep:!0},realList:function(){this.computeIndexes()}},methods:{getChildrenNodes:function(){if(this.componentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick(function(){t.visibleIndexes=l(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode)})},getUnderlyingVm:function(t){var e=o(this.getChildrenNodes()||[],t);return-1===e?null:{index:e,element:this.realList[e]}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&"transition-group"===e.$options._componentTag?e.$parent:e},emitChanges:function(t){var e=this;this.$nextTick(function(){e.$emit("change",t)})},alterList:function(t){if(this.list)t(this.list);else{var e=[].concat(n(this.value));t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,t)};this.alterList(e)},updatePosition:function(t,e){var i=function(i){return i.splice(e,0,i.splice(t,1)[0])};this.alterList(i)},getRelatedContextFromMoveEvent:function(t){var e=t.to,i=t.related,n=this.getUnderlyingPotencialDraggableComponent(e);if(!n)return{component:n};var o=n.realList,l={list:o,component:n};if(e!==i&&o&&n.getUnderlyingVm){var a=n.getUnderlyingVm(i);if(a)return r(a,l)}return l},getVmIndex:function(t){var e=this.visibleIndexes,i=e.length;return t>i-1?i:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[t].data=null;var e=this.getComponent();e.children=[],e.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),d=t.item},onDragAdd:function(t){var i=t.item._underlying_vm_;if(void 0!==i){e(t.item);var n=this.getVmIndex(t.newIndex);this.spliceList(n,0,i),this.computeIndexes();var r={element:i,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(t){if(i(this.rootContainer,t.item,t.oldIndex),this.isCloning)return void e(t.clone);var n=this.context.index;this.spliceList(n,1);var r={element:this.context.element,oldIndex:n};this.resetTransitionData(n),this.emitChanges({removed:r})},onDragUpdate:function(t){e(t.item),i(t.from,t.item,t.oldIndex);var n=this.context.index,r=this.getVmIndex(t.newIndex);this.updatePosition(n,r);var o={element:this.context.element,oldIndex:n,newIndex:r};this.emitChanges({moved:o})},computeFutureIndex:function(t,e){if(!t.element)return 0;var i=[].concat(n(e.to.children)).filter(function(t){return"none"!==t.style.display}),r=i.indexOf(e.related),o=t.component.getVmIndex(r);return-1==i.indexOf(d)&&e.willInsertAfter?o+1:o},onDragMove:function(t,e){var i=this.move;if(!i||!this.realList)return!0;var n=this.getRelatedContextFromMoveEvent(t),o=this.context,l=this.computeFutureIndex(n,t);return r(o,{futureIndex:l}),r(t,{relatedContext:n,draggedContext:o}),i(t,e)},onDragEnd:function(t){this.computeIndexes(),d=null}}}}Array.from||(Array.from=function(t){return[].slice.call(t)});var o=i(303);t.exports=e(o)}()}]));