package com.aspire.mirror.ops.biz.model;

import java.util.Date;

import lombok.Data;
import lombok.Getter;
import lombok.Setter;

/** 
 *
 * 项目名称: ops-service 
 * <p/>
 * 
 * 类名: OpsVulnerabilityScanCycle
 * <p/>
 *
 * 类功能描述: 漏洞扫描周期
 * <p/>
 *
 * @author	pengguihua
 *
 * @date	2020年7月8日  
 *
 * @version	V1.0 
 * <br/>
 *
 * <b>Copyright(c)</b> 2020 卓望公司-版权所有 
 *
 */
@Getter
public class OpsVulnerabilityScanCycle {
	@Setter
	private String 	scanCycle;		// yyyyMM
	private String  status;			// Y：已完成     N: 未完成 
	@Setter
	private Date	processTime;

	@Setter
	@Getter
	private Date createTime;
	
	public boolean isProcessOk() {
		return "Y".equalsIgnoreCase(status);
	}
	public void setProcessOk() {
		status = "Y";
	}
	public void setProcessFail() {
		status = "N";
	}
	
	public static OpsVulnerabilityScanCycle from(String scanCycle, boolean isSuccess) {
		OpsVulnerabilityScanCycle scanCycleInfo = new OpsVulnerabilityScanCycle();
		scanCycleInfo.setScanCycle(scanCycle);
		if (isSuccess) {
			scanCycleInfo.setProcessOk();
		} else {
			scanCycleInfo.setProcessFail();
		}
		scanCycleInfo.setProcessTime(new Date());
		scanCycleInfo.setCreateTime(new Date());
		return scanCycleInfo;
	}
}
